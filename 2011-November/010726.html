<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Signal Handling
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Signal%20Handling&In-Reply-To=%3CCALAGUntifQF__dAW%2B7YHf2nNEix1dF3hUD5Lzf_P%2BZws6FuptA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010731.html">
   <LINK REL="Next"  HREF="010733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Signal Handling</H1>
    <B>Rory Slegtenhorst</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Signal%20Handling&In-Reply-To=%3CCALAGUntifQF__dAW%2B7YHf2nNEix1dF3hUD5Lzf_P%2BZws6FuptA%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] Signal Handling">rory.slegtenhorst at gmail.com
       </A><BR>
    <I>Mon Nov  7 16:50:08 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010731.html">[Opensim-dev] The case for greater than 1024x1024	pixel	textures.
</A></li>
        <LI>Next message: <A HREF="010733.html">[Opensim-dev] Signal Handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10726">[ date ]</a>
              <a href="thread.html#10726">[ thread ]</a>
              <a href="subject.html#10726">[ subject ]</a>
              <a href="author.html#10726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear List,

My very first post in the dev mailing list, as I am going to spend much
more time in my personal OpenSim.

I have written some code quite a while back and wanted to share my thoughts
and start a discussion about it.

*Signal Handling*
Currently, OpenSim services do NOT support POSIX signal handling when POSIX
is available. This support is available
on pretty much any *nix platform including MacOS X. Windows does NOT
support POSIX period.

In Mono, POSIX signal handling can be easily accomplished using the
mono.posix.dll.

I have currently implemented nothing more but the TERM signal, to ensure
the services are properly stopped, instead of
simply killed on the spot. This means that the service actually goes
through the shutdown procedure (if any).
The next goal would be to implement HUP to reload the service.

My current problem, is that the code is just there. No ifdef statements,
nothing.
I simply lack the knowledge in .NET/Mono to exclude the code from an
environment that does not include posix.
Some pointers in the right direction would be much appreciated.

*Discussion*
When creating services, there must be an easy way to start/stop them.
Especially on *nix this comes in handy.
Shoving the word &quot;exit&quot; or &quot;shutdown&quot; into the service cli is just not
working all the time and is error prone.

Adding POSIX signal handling would be considered &quot;standard&quot; in such
services. The fact that MS Windows does not
support POSIX signals is simply disregarded. The equivalent on Windows
would be to have a service binary that runs
the OpenSim services (I think that already exists).

There aren't that many other &quot;standard&quot; solutions to the same problem, and
although signal handling wouldn't work on
ONE platform (ONE being Windows), it is guaranteed to work on ALL others
(ALL being the *nix ones lol).

So to start the discussion, here are some questions:
1. Is there any interest in this code?
With this I mean: would we want POSIX signal handling or will we try to
develop a different way to solve the same problem?
2. If there is any interest, who do I send my patch to?

With kind regards,
Rory Slegtenhorst
rory dot slegtenhorst at gmail dot com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20111107/9c08bc64/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20111107/9c08bc64/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010731.html">[Opensim-dev] The case for greater than 1024x1024	pixel	textures.
</A></li>
	<LI>Next message: <A HREF="010733.html">[Opensim-dev] Signal Handling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10726">[ date ]</a>
              <a href="thread.html#10726">[ thread ]</a>
              <a href="subject.html#10726">[ subject ]</a>
              <a href="author.html#10726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
