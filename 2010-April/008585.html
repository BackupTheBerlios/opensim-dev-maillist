<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] New SQLiteNG database module for using SQLite with	mono 2.6 and above
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20New%20SQLiteNG%20database%20module%20for%20using%20SQLite%20with%0A%09mono%202.6%20and%20above&In-Reply-To=%3C4BD21940.2090805%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008584.html">
   <LINK REL="Next"  HREF="008586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] New SQLiteNG database module for using SQLite with	mono 2.6 and above</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20New%20SQLiteNG%20database%20module%20for%20using%20SQLite%20with%0A%09mono%202.6%20and%20above&In-Reply-To=%3C4BD21940.2090805%40googlemail.com%3E"
       TITLE="[Opensim-dev] New SQLiteNG database module for using SQLite with	mono 2.6 and above">jjustincc at googlemail.com
       </A><BR>
    <I>Sat Apr 24 00:03:44 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008584.html">[Opensim-dev] New region modules
</A></li>
        <LI>Next message: <A HREF="008586.html">[Opensim-dev] New SQLiteNG database module for using SQLite	with mono 2.6 and above
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8585">[ date ]</a>
              <a href="thread.html#8585">[ thread ]</a>
              <a href="subject.html#8585">[ subject ]</a>
              <a href="author.html#8585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks,

Today I put code into master that should allow OpenSim to be used with SQLite again if you're running mono 2.6 or later.

Unfortunately, due to compatibility issues between mono 2.4 and 2.6 I had to create an entirely new module, called OpenSim.Data.SQLiteNG.dll.

I would be very grateful if people running &gt;mono 2.6 and the very latest OpenSim master could try it out.  To use it, you'll need to change your database settings in two places.  In OpenSim.ini you'll need to change

storage_plugin = &quot;OpenSim.Data.SQLite.dll&quot; to storage_plugin = &quot;OpenSim.Data.SQLiteNG.dll&quot;

and in config-include/storage you'll need to change

Include-Storage = &quot;config-include/storage/SQLiteStandalone.ini&quot; to  Include-Storage = &quot;config-include/storage/SQLiteNGStandalone.ini&quot;

This information is also in OpenSim.ini.example and StandaloneCommon.ini.example.

As ever, I recommend backing up all your *.db database files first if there's any valuable information in them.

Unfortunately, I've heard a report from Diva that this module doesn't work on the Mac because the version of sqlite3.so in Mac OS X doesn't export the sqlite3_column_origin_name symbol.  This is probably the issue shown at <A HREF="https://bugzilla.novell.com/show_bug.cgi?id=380252#c3.">https://bugzilla.novell.com/show_bug.cgi?id=380252#c3.</A>  Linux and Mac don't actually appear to use the .so library that comes with OpenSim which does export that symbol.

However, I'd still be interested to know if this works on other Linux distributions - I've only tested with my own Ubuntu.  SQLiteNG.dll also appears to work fine on Windows.

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008584.html">[Opensim-dev] New region modules
</A></li>
	<LI>Next message: <A HREF="008586.html">[Opensim-dev] New SQLiteNG database module for using SQLite	with mono 2.6 and above
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8585">[ date ]</a>
              <a href="thread.html#8585">[ thread ]</a>
              <a href="subject.html#8585">[ subject ]</a>
              <a href="author.html#8585">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
