<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Profiling complex scenes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Profiling%20complex%20scenes&In-Reply-To=%3C1DEA2A500941AD41AF9F9A712451BD80262CB938%40orsmsx502.amr.corp.intel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005754.html">
   <LINK REL="Next"  HREF="005776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Profiling complex scenes</H1>
    <B>Lake, Dan</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Profiling%20complex%20scenes&In-Reply-To=%3C1DEA2A500941AD41AF9F9A712451BD80262CB938%40orsmsx502.amr.corp.intel.com%3E"
       TITLE="[Opensim-dev] Profiling complex scenes">dan.lake at intel.com
       </A><BR>
    <I>Wed Mar 18 18:16:08 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005754.html">[Opensim-dev] Profiling complex scenes
</A></li>
        <LI>Next message: <A HREF="005776.html">[Opensim-dev] Profiling complex scenes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5756">[ date ]</a>
              <a href="thread.html#5756">[ thread ]</a>
              <a href="subject.html#5756">[ subject ]</a>
              <a href="author.html#5756">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Justin,
  Thanks for taking a look at the wiki. The timer patch should be complete, as long as there is no need for multiple timers per (localID,objectID) pair. I could enter it into Mantis if it looks ready to go. The other patch may be similar to existing code which is either commented out or not working properly. There are comments in various places in SceneGraph and related code to the effect of &quot;A dictionary would be nice here&quot;. The patch was meant to be an example of what may be possible, but not complete or necessarily the most efficient placement of the dictionary. 

~Dan

Dan lake
Network Software Engineer 
Network Technology Lab
Corporate Technology Group

503.712.8318
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">dan.lake at intel.com</A>


-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Justin Clark-Casey
Sent: Wednesday, March 18, 2009 8:29 AM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Profiling complex scenes

Lake, Dan wrote:
&gt;<i> I work at Intel for Mic Bowman. He mentioned a while back that we are 
</I>&gt;<i> developing some workloads for understanding the scalability bottlenecks 
</I>&gt;<i> in OpenSim. I recently created a test which generates 2000 scripted 
</I>&gt;<i> objects which rotate and change color at random intervals. The workload 
</I>&gt;<i> consumed multiple CPU cores with only a single client viewer connected 
</I>&gt;<i> and the frame rate dropped to absolute zero with 10 clients connected. I 
</I>&gt;<i> was then able to reduce the CPU utilization by &gt;80% with a few added 
</I>&gt;<i> lines of code in SceneGraph.cs and Timer.cs. If you are interested in a 
</I>&gt;<i> complete analysis of this workload, please visit the OpenSim profiling 
</I>&gt;<i> wiki page at 
</I>&gt;<i> <A HREF="http://sciencesim.com/wiki/doku.php/opensim/performance_profiling.">http://sciencesim.com/wiki/doku.php/opensim/performance_profiling.</A> I 
</I>&gt;<i> will continue to post interesting profiling results from our workloads 
</I>&gt;<i> and ideas about scaling OpenSim based on those results. Your comments or 
</I>&gt;<i> feedback are appreciated.
</I>
Nice work, Dan, very useful stuff.

Is the scenegraph_dictionary.patch code not already present in EntityManager (albeit possibly unused, I've not looked 
closely)?  If not, would it be better incorporated into there and do you plan on extending the patch into a complete 
implementation (e.g. localID -&gt; SOP mapping removal as well)?

timer_dictionary.patch on the other hand looks like a complete implementation.  Is this a patch that could usefully be 
applied in its current state?

&gt;<i> 
</I>&gt;<i>                                                                                                                                                                                            
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> *Dan lake*
</I>&gt;<i> 
</I>&gt;<i> Network Software Engineer
</I>&gt;<i> 
</I>&gt;<i> Network Technology Lab
</I>&gt;<i> 
</I>&gt;<i> Corporate Technology Group
</I>&gt;<i> 
</I>&gt;<i> ( 503.712.8318
</I>&gt;<i> 
</I>&gt;<i> * <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">dan.lake at intel.com</A>
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>

-- 
justincc
Justin Clark-Casey
<A HREF="http://justincc.wordpress.com">http://justincc.wordpress.com</A>
_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005754.html">[Opensim-dev] Profiling complex scenes
</A></li>
	<LI>Next message: <A HREF="005776.html">[Opensim-dev] Profiling complex scenes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5756">[ date ]</a>
              <a href="thread.html#5756">[ thread ]</a>
              <a href="subject.html#5756">[ subject ]</a>
              <a href="author.html#5756">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
