<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Bug or Feature? :( A sim is constantly taking	abnormal ram space and eventually crashes after a few hours.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Bug%20or%20Feature%3F%20%3A%28%20A%20sim%20is%20constantly%20taking%0A%09abnormal%20ram%20space%20and%20eventually%20crashes%20after%20a%20few%20hours.&In-Reply-To=%3C009201c9ae5e%24f54ea2a0%24dfebe7e0%24%40com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006045.html">
   <LINK REL="Next"  HREF="005859.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Bug or Feature? :( A sim is constantly taking	abnormal ram space and eventually crashes after a few hours.</H1>
    <B>Darren Williams</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Bug%20or%20Feature%3F%20%3A%28%20A%20sim%20is%20constantly%20taking%0A%09abnormal%20ram%20space%20and%20eventually%20crashes%20after%20a%20few%20hours.&In-Reply-To=%3C009201c9ae5e%24f54ea2a0%24dfebe7e0%24%40com%3E"
       TITLE="[Opensim-dev] Bug or Feature? :( A sim is constantly taking	abnormal ram space and eventually crashes after a few hours.">digitaldaz100 at googlemail.com
       </A><BR>
    <I>Thu Mar 26 23:05:21 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006045.html">[Opensim-dev] Bug or Feature? :( A sim is constantly taking	abnormal ram space and eventually crashes after a few hours.
</A></li>
        <LI>Next message: <A HREF="005859.html">[Opensim-dev] Keeping track of deployed oar files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5890">[ date ]</a>
              <a href="thread.html#5890">[ thread ]</a>
              <a href="subject.html#5890">[ subject ]</a>
              <a href="author.html#5890">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I loaded this oar on OSGrid and left it running overnight. Ubuntu 8.04 mono 2.2 with the boehm-gc patch as per nebadons instructions. The box has 1.5GB RAM. After 15 minutes everything seemed to have settled down and top showed 19.6% of RAM used and 3.7% CPU (P4 2.8Ghz) The console showed 147MB allocated to opensim. Just before I went to bed top was showing 29.2% RAM usage and 1.3% CPU. After 10 hours I looked again, top now showed 24.1% RAM usage and console showed allocated to opensim 204MB. At sometime or other Second Inventory seems to have been used, SI adds its own files sometimes and these are definitely present in the oar.

What does top look like? When using SI before I have noticed this seems to push the cached RAM really high and eventually starts to go into swap.

After loading a large amount of prims or using SI I often do a:
sync; echo 3 &gt; /proc/sys/vm/drop_caches

This allows me to run much longer before going into swap.

It looks like it may be what's going on in the sim that is giving you your problems rather than what is in them.

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Sean Dague
Sent: 26 March 2009 12:36
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Bug or Feature? :( A sim is constantly taking abnormal ram space and eventually crashes after a few hours.

Salahzar Stenvaag wrote:
&gt;<i> Tell me if I can raise a mantis on this..
</I>&gt;<i> 
</I>&gt;<i> In Cyberlandia we have a sim &quot;prometeo&quot; where some builders are doing 
</I>&gt;<i> some interesting building developments. Now there is a real 
</I>&gt;<i> interesting architecture made with a certain amount of superprims and 
</I>&gt;<i> some wonderful buildings made by some very interestingly crafted 
</I>&gt;<i> rounded prims. In total they are around 2200 prims (not so much I have 
</I>&gt;<i> been told). And there are around 60 scripts which are not doing anything particular.
</I>&gt;<i> 
</I>&gt;<i> What it happens is that the supporting instance (1 instance holding 
</I>&gt;<i> this
</I>&gt;<i> sim) will go instantly to 400 Mbytes, and after some hours it goes to 
</I>&gt;<i> 1.7 GB or REAL memory.
</I>&gt;<i> I don't have any tools to understand what is happening, but this makes 
</I>&gt;<i> this island almost impossible to use :(
</I>
That's a bug.  I've got a region with a couple thousand prims and a couple hundred scripts, and it's been running under basically the same memory profile (~600 MB) for the past 2 weeks.

The rounded prims are sculpties?

	-Sean

--
Sean Dague / Neas Bade
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">sdague at gmail.com</A>
<A HREF="http://dague.net">http://dague.net</A>



No virus found in this incoming message.
Checked by AVG - www.avg.com 
Version: 8.5.278 / Virus Database: 270.11.29/2023 - Release Date: 03/25/09 18:54:00


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006045.html">[Opensim-dev] Bug or Feature? :( A sim is constantly taking	abnormal ram space and eventually crashes after a few hours.
</A></li>
	<LI>Next message: <A HREF="005859.html">[Opensim-dev] Keeping track of deployed oar files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5890">[ date ]</a>
              <a href="thread.html#5890">[ thread ]</a>
              <a href="subject.html#5890">[ subject ]</a>
              <a href="author.html#5890">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
