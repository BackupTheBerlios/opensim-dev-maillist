<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Global identifiers
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Global%20identifiers&In-Reply-To=%3C4C7C3C04.6040403%40metaverseink.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009427.html">
   <LINK REL="Next"  HREF="009431.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Global identifiers</H1>
    <B>diva at metaverseink.com</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Global%20identifiers&In-Reply-To=%3C4C7C3C04.6040403%40metaverseink.com%3E"
       TITLE="[Opensim-dev] Global identifiers">diva at metaverseink.com
       </A><BR>
    <I>Tue Aug 31 01:17:24 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009427.html">[Opensim-dev] Global identifiers
</A></li>
        <LI>Next message: <A HREF="009431.html">[Opensim-dev] Global identifiers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9428">[ date ]</a>
              <a href="thread.html#9428">[ thread ]</a>
              <a href="subject.html#9428">[ subject ]</a>
              <a href="author.html#9428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It's a UUID.
Display names are *never* used as identifiers in OpenSim. They're just 
human-friendly tags that usually take the value of the user account 
name, but that can change at any time if you happen to land in a 
simulator with a sense of humor :)

And in the HG, UUIDs themselves are also 'unique' in the sense that the 
Gatekeepers don't let agents come in, that happen to claim a UUID of a 
local user.

Karen Palen wrote:
&gt;<i> I would lobby for the &quot;user id&quot; being a UUID rather than a string simply 
</I>&gt;<i> because of the uniqueness of the UUID.
</I>&gt;<i> 
</I>&gt;<i> For example I use &quot;Karen Palen&quot; as userid on more than a dozen grids and 
</I>&gt;<i> several email addresses (Karen has even been issued a Credit Card!!!). 
</I>&gt;<i> Need I add that &quot;Karen Palen&quot; is a pseudonym, :-)
</I>&gt;<i> 
</I>&gt;<i> I am very concerned about the potential for resolution problems, 
</I>&gt;<i> especially where  the same id was previously used in several places 
</I>&gt;<i> which are now part of some unified naming convention.
</I>&gt;<i> 
</I>&gt;<i> There seem to be four cases:
</I>&gt;<i> 
</I>&gt;<i> 1) lookup <A HREF="http://authority...">http://authority...</A> - get a valid update
</I>&gt;<i> 2) <A HREF="http://authority...">http://authority...</A> does not exist (temporary or permanent) - cache 
</I>&gt;<i> not updated, use the latest information available after checking the URL 
</I>&gt;<i> mapping (below)
</I>&gt;<i> 3) <A HREF="http://authority...">http://authority...</A> changed to another URL - update the URL and save 
</I>&gt;<i> the URL mapping for other references to &quot;<A HREF="http://authority">http://authority</A>&quot;
</I>&gt;<i> 4) <A HREF="http://authority...">http://authority...</A> resolves to more than one &quot;authority&quot;. Possibly 
</I>&gt;<i> due to malfeasance (spoofing), more likely due to several changes in 
</I>&gt;<i> &quot;<A HREF="http://authotity">http://authotity</A>&quot; over time and outdated information. - resolve this 
</I>&gt;<i> ambiguity by reference to other users of &quot;<A HREF="http://authority">http://authority</A>&quot;.
</I>&gt;<i> 
</I>&gt;<i> In the most pathological case of (4) several &quot;authorities&quot; will respond 
</I>&gt;<i> as valid, requiring some sort of probabilistic resolution - &quot;most 
</I>&gt;<i> likely&quot; the most recent &quot;authority&quot; provided that 90+% (or whatever) of 
</I>&gt;<i> UUIDs referring to &quot;authority&quot; now resolve to this authority. This 
</I>&gt;<i> implies several unresolvable possibilities and a high probability of 
</I>&gt;<i> picking the wrong one!
</I>&gt;<i> 
</I>&gt;<i> Case 4 should be very rare if a UUID is used, but quite common if a 
</I>&gt;<i> common name (like &quot;Karen Palen&quot;) is used!
</I>&gt;<i> 
</I>&gt;<i> In real life me exact name &quot;googles&quot; to 25 people in the Phoenix area, 
</I>&gt;<i> at one time I had a namesake working in the same building as me! A 
</I>&gt;<i> literature search is even worse, my &quot;tribe&quot; seem to be prolific authors 
</I>&gt;<i> with many papers in biotech, medicine, computer science, electrical 
</I>&gt;<i> engineering, and several other fields. One of them is a member of the US 
</I>&gt;<i> Congress!
</I>&gt;<i> 
</I>&gt;<i> Much as we like to think otherwise, our names are NOT unique!
</I>&gt;<i> 
</I>&gt;<i> Karen
</I>&gt;<i> 
</I>&gt;<i> On Mon, Aug 30, 2010 at 3:38 PM, &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">diva at metaverseink.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">diva at metaverseink.com</A>&gt;&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>     OK, so here's the form of the URI that will start showing up in the
</I>&gt;<i>     [non-Simian] DBs soon, specifically in the GridUser table:
</I>&gt;<i>     <A HREF="http://authority/user/user_id/First+Last">http://authority/user/user_id/First+Last</A>
</I>&gt;<i> 
</I>&gt;<i>     Yes?
</I>&gt;<i> 
</I>&gt;<i>     I suspect that SimianGrid will take things like
</I>&gt;<i>     LoggedIn(string userID) and
</I>&gt;<i>     StoreGridUserInfo(GridUserInfo info)
</I>&gt;<i> 
</I>&gt;<i>     and create user accounts for these if they don't exist, because I
</I>&gt;<i>     think SimanGrid collapses the 2 concepts. Just keep in mind that
</I>&gt;<i>     you'll soon be receiving URLs of the form above as arguments.
</I>&gt;<i> 
</I>&gt;<i>     I agree with Melanie that not adding the display name is a missed
</I>&gt;<i>     opportunity for caching, but I'm willing to write up code that
</I>&gt;<i>     accounts for it being optional for all the grid operators who would
</I>&gt;<i>     rather have the extra lookups coming their way.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>     Hurliman, John wrote:
</I>&gt;<i> 
</I>&gt;<i>         If we are still on the same page, there should never be a case
</I>&gt;<i>         where something could be either a local identifier (UUID) or a
</I>&gt;<i>         global identifier (URL). The context is always clear, where
</I>&gt;<i>         cross-grid communication and exported content uses only global
</I>&gt;<i>         identifiers and all intra-grid communication uses only local
</I>&gt;<i>         identifiers. If a sim wants to resolve the creator of a prim it
</I>&gt;<i>         uses a single path, the UUID-&gt;Profile (aka display name) API
</I>&gt;<i>         call which takes advantage of all the caching and optimizations
</I>&gt;<i>         we've built into OpenSim. There is no ambiguity there or
</I>&gt;<i>         potential for the code to take a slower or less tested path. The
</I>&gt;<i>         discussion is about communication outside of the local grid
</I>&gt;<i>         context, when you are exporting content or moving people or
</I>&gt;<i>         content between grids. In every use case there I think it makes
</I>&gt;<i>         sense to always use global identifiers, or at least a clear path
</I>&gt;<i>         to build a global identifier.
</I>&gt;<i> 
</I>&gt;<i>         John
</I>&gt;<i> 
</I>&gt;<i>             -----Original Message-----
</I>&gt;<i>             From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>
</I>&gt;<i>             &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>&gt;
</I>&gt;<i>             [mailto:opensim-dev- &lt;mailto:opensim-dev-&gt;
</I>&gt;<i>             <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>&gt;]
</I>&gt;<i>             On Behalf Of Melanie
</I>&gt;<i>             Sent: Monday, August 30, 2010 2:30 PM
</I>&gt;<i>             To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;<i>             &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>             Subject: Re: [Opensim-dev] Global identifiers
</I>&gt;<i> 
</I>&gt;<i>             I think we already have a perfectly good field, which is a
</I>&gt;<i>             UUID for
</I>&gt;<i>             local users and a URL for remote ones.
</I>&gt;<i> 
</I>&gt;<i>             Melanie
</I>&gt;<i> 
</I>&gt;<i>             Serendipity Seraph wrote:
</I>&gt;<i> 
</I>&gt;<i>                  On 8/30/10 2:09 PM, <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">diva at metaverseink.com</A>
</I>&gt;<i>                 &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">diva at metaverseink.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i>                     Hurliman, John wrote:
</I>&gt;<i> 
</I>&gt;<i>                         My interpretation (please correct me if I'm
</I>&gt;<i>                         wrong) is that there is
</I>&gt;<i>                         rough consensus on the overall strategy, but an
</I>&gt;<i>                         open question of
</I>&gt;<i> 
</I>&gt;<i>             how
</I>&gt;<i> 
</I>&gt;<i>                         to encode global identities when cross-grid
</I>&gt;<i>                         communication (or
</I>&gt;<i>                         out-of-grid archiving) happens.
</I>&gt;<i> 
</I>&gt;<i>                     That's what's going on.
</I>&gt;<i>                     Up to now, all global identifiers (that already
</I>&gt;<i>                     exist) have been
</I>&gt;<i>                     volatile; nothing has persisted. As I found myself
</I>&gt;<i>                     writing code that
</I>&gt;<i>                     would inject global identifiers into a DB table, I
</I>&gt;<i>                     thought we should
</I>&gt;<i>                     all talk about the form of such identifiers.
</I>&gt;<i> 
</I>&gt;<i>                         There is probably also a hidden question of how
</I>&gt;<i>                         to mark a local
</I>&gt;<i>                         account as linked to a foreign identity, which
</I>&gt;<i>                         may solve the
</I>&gt;<i>                         friending issue. If I am friends with your
</I>&gt;<i>                         avatar and we are both
</I>&gt;<i> 
</I>&gt;<i>             on
</I>&gt;<i> 
</I>&gt;<i>                         grid B but your avatar actually originated from
</I>&gt;<i>                         grid A, that link
</I>&gt;<i> 
</I>&gt;<i>             in
</I>&gt;<i> 
</I>&gt;<i>                         the profile is what can tip off the presence
</I>&gt;<i>                         service to try a
</I>&gt;<i> 
</I>&gt;<i>             remote
</I>&gt;<i> 
</I>&gt;<i>                         presence check (assuming the user is not online
</I>&gt;<i>                         in the local grid).
</I>&gt;<i>                         My only interest in these low level questions
</I>&gt;<i>                         like how the global
</I>&gt;<i>                         identifiers and profile links look is what the
</I>&gt;<i>                         final decision is so
</I>&gt;<i> 
</I>&gt;<i>             I
</I>&gt;<i> 
</I>&gt;<i>                         can implement it in the OpenSim SimianGrid
</I>&gt;<i>                         connectors.
</I>&gt;<i> 
</I>&gt;<i>                     Well, we distinguish &quot;user accounts&quot; from &quot;grid
</I>&gt;<i>                     users&quot; -- these are
</I>&gt;<i> 
</I>&gt;<i>             2
</I>&gt;<i> 
</I>&gt;<i>                     different interfaces, although implementers may
</I>&gt;<i>                     decide to collapse
</I>&gt;<i>                     them. But they are different concepts. User accounts
</I>&gt;<i>                     are the
</I>&gt;<i>                     locally-registered users; in some cases, like for
</I>&gt;<i>                     example, the UCI
</I>&gt;<i>                     grid, there's only some people who can get accounts
</I>&gt;<i>                     there, namely
</I>&gt;<i>                     people associated with the university. Grid users
</I>&gt;<i>                     are users that are
</I>&gt;<i>                     referenced by things that happen in the grid. So we
</I>&gt;<i>                     already have an
</I>&gt;<i>                     interface for that, although now I'm thinking that
</I>&gt;<i>                     perhaps we need
</I>&gt;<i> 
</I>&gt;<i>             to
</I>&gt;<i> 
</I>&gt;<i>                     separate its UserID field into 2 things: a local
</I>&gt;<i>                     UUID and a
</I>&gt;<i> 
</I>&gt;<i>             reference
</I>&gt;<i> 
</I>&gt;<i>                     to the external name. And I guess that's my main
</I>&gt;<i>                     issue at this
</I>&gt;<i> 
</I>&gt;<i>             point.
</I>&gt;<i> 
</I>&gt;<i>                 It seems more reasonable in a distributed system to say
</I>&gt;<i>                 that an X is
</I>&gt;<i> 
</I>&gt;<i>             an
</I>&gt;<i> 
</I>&gt;<i>                 X - a User is a User, whether they originally were
</I>&gt;<i>                 instantiated on a
</I>&gt;<i>                 local or a remote system.   So I would go for collapsing
</I>&gt;<i>                 the two as
</I>&gt;<i> 
</I>&gt;<i>             much
</I>&gt;<i> 
</I>&gt;<i>                 as possible as a matter of policy.  Otherwise freedom to
</I>&gt;<i>                 move between
</I>&gt;<i>                 nodes in the system is more limited and there is more
</I>&gt;<i>                 special case
</I>&gt;<i> 
</I>&gt;<i>             logic
</I>&gt;<i> 
</I>&gt;<i>                 to deal with.    But that is speaking from a general
</I>&gt;<i>                 distributed
</I>&gt;<i>                 computing perspective.  There may be many Opensim
</I>&gt;<i>                 details that make
</I>&gt;<i> 
</I>&gt;<i>             that
</I>&gt;<i> 
</I>&gt;<i>                 seemingly ideal position in practice rather naive.
</I>&gt;<i> 
</I>&gt;<i>                 - s
</I>&gt;<i> 
</I>&gt;<i>                 _______________________________________________
</I>&gt;<i>                 Opensim-dev mailing list
</I>&gt;<i>                 <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i>                 &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>                 <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i>             _______________________________________________
</I>&gt;<i>             Opensim-dev mailing list
</I>&gt;<i>             <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i>             &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>             <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> 
</I>&gt;<i>         _______________________________________________
</I>&gt;<i>         Opensim-dev mailing list
</I>&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> 
</I>&gt;<i>     _______________________________________________
</I>&gt;<i>     Opensim-dev mailing list
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009427.html">[Opensim-dev] Global identifiers
</A></li>
	<LI>Next message: <A HREF="009431.html">[Opensim-dev] Global identifiers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9428">[ date ]</a>
              <a href="thread.html#9428">[ thread ]</a>
              <a href="subject.html#9428">[ subject ]</a>
              <a href="author.html#9428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
