<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] SaveChangedAttachments on RemoveClient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2012-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20SaveChangedAttachments%20on%20RemoveClient&In-Reply-To=%3C4F28C939.8080201%40metaverseink.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="010884.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] SaveChangedAttachments on RemoveClient</H1>
    <B>Diva Canto</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20SaveChangedAttachments%20on%20RemoveClient&In-Reply-To=%3C4F28C939.8080201%40metaverseink.com%3E"
       TITLE="[Opensim-dev] SaveChangedAttachments on RemoveClient">diva at metaverseink.com
       </A><BR>
    <I>Wed Feb  1 06:10:17 CET 2012</I>
    <P><UL>
        
        <LI>Next message: <A HREF="010884.html">[Opensim-dev] SaveChangedAttachments on RemoveClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10882">[ date ]</a>
              <a href="thread.html#10882">[ thread ]</a>
              <a href="subject.html#10882">[ subject ]</a>
              <a href="author.html#10882">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Justin,

In case I don't see you in the IRC, could you please look into what's 
going on in AttachmentsModule.SaveChangedAttachments, specifically 
commit 8880ae and 62b3e7 both on 2011/9/13.
That method is being called when avies leave the sims, and, as is, it's 
saving the attachments independent on whether they were changed or not 
(when they have scripts). The assetID in inventory is being changed. 
This screws up inventory when the avie is visiting other grids, because 
the assetID at that point exists only in the visited grid, and is not 
being posted back.

I would fix it, but I don't know what the intentions of that code are... 
It seems very odd that attachments are always being recreated when avies 
leave sims.

Thanks.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="010884.html">[Opensim-dev] SaveChangedAttachments on RemoveClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10882">[ date ]</a>
              <a href="thread.html#10882">[ thread ]</a>
              <a href="subject.html#10882">[ subject ]</a>
              <a href="author.html#10882">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
