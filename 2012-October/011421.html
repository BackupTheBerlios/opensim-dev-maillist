<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Update for group module &amp; flotsam
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2012-October/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Update%20for%20group%20module%20%26%20flotsam&In-Reply-To=%3C506C6117.7060207%40archimuh.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011422.html">
   <LINK REL="Next"  HREF="011425.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Update for group module &amp; flotsam</H1>
    <B>Michelle Argus</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Update%20for%20group%20module%20%26%20flotsam&In-Reply-To=%3C506C6117.7060207%40archimuh.de%3E"
       TITLE="[Opensim-dev] Update for group module &amp; flotsam">argus at archimuh.de
       </A><BR>
    <I>Wed Oct  3 18:00:23 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011422.html">[Opensim-dev] [Opensim-users] Slow handling of POST -
</A></li>
        <LI>Next message: <A HREF="011425.html">[Opensim-dev] Update for group module &amp; flotsam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11421">[ date ]</a>
              <a href="thread.html#11421">[ thread ]</a>
              <a href="subject.html#11421">[ subject ]</a>
              <a href="author.html#11421">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

  I have added some changes to the group module of OpenSim and the 
flotsam server.

The changes are:

- added agents online status to flotsam
- added agents last login data to flotsam
- displaying the online/last login data in the groupmembers list viewerside
- added optional filter to get a memberlist of online members only 
instead of allways receiving all groupmembers
- send groupchat IMs only to online members.

The changes can be found in the 2 gits here: <A HREF="https://github.com/MAReantals">https://github.com/MAReantals</A>

The main issue we had is, that especialy on events the groupmodule 
always needed to be deactivated to prevent massive lag mainly due to 
groupchat in the larger groups. Sofar the chat would try to send an IM 
to each member no matter if they are online or not. With the proposed 
changes messages are only sent to online members and as a bonus 
sideeffect the Last Login data is shown behind each groupmember listed 
inworld.

  We did also experiment with other aproach without success. Instead of 
modifying flotsam, we filtered out all offline members directly in the 
GroupMessagingModule. This aproach also failed and caused even more lag 
as each groupmember would need to pass the online/offline check with the 
gridservices on each IM beeing sent (groupsize +500 members with 30 
members actualy beeing online).


Michelle Argus

NB: Both changes to flotsam and opensim are backward compatible and do 
not require that both parts are updated. If some simulators are not 
updated it can happen that some groupmembers do not receive 
groupmessages as their online status is not updated correctly. In a grid 
like OSgrid my recomendation would thus be to first update the 
simulators and at a later stage flotsam.


</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011422.html">[Opensim-dev] [Opensim-users] Slow handling of POST -
</A></li>
	<LI>Next message: <A HREF="011425.html">[Opensim-dev] Update for group module &amp; flotsam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11421">[ date ]</a>
              <a href="thread.html#11421">[ thread ]</a>
              <a href="subject.html#11421">[ subject ]</a>
              <a href="author.html#11421">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
