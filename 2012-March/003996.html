<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2012-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.35.1331736338.7835.opensim-dev%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003995.html">
   <LINK REL="Next"  HREF="004087.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.35.1331736338.7835.opensim-dev%40lists.berlios.de%3E"
       TITLE="No subject">
       </A><BR>
    <I>Wed Mar 14 15:44:31 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="003995.html">No subject
</A></li>
        <LI>Next message: <A HREF="004087.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3996">[ date ]</a>
              <a href="thread.html#3996">[ thread ]</a>
              <a href="subject.html#3996">[ subject ]</a>
              <a href="author.html#3996">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>leport&amp;nbsp=3Bpackets (and possibly some others=2C like IM?)&amp;nbsp=3Bwhere t=
he viewer can only accept IP. That is why it is implicitly resolved in some=
 places. (Or rather=2C that's the rationale for why those places need it)&lt;B=
R&gt;&amp;nbsp=3B&lt;BR&gt;The remoting issue=2C I don't know what that actually means=
=2C but remoting should be resolved thru hostname as well.&lt;BR&gt;&amp;nbsp=3B&lt;BR&gt;I=
t pains me to admit that I'm probably the source of all this confusion=2C a=
s I=2C way back then=2C did the DNS resolve as a quick fix to fix some netw=
orking issues - but at that time I was not aware of the DnsEndPoint class.&lt;=
BR&gt;&amp;nbsp=3B&lt;BR&gt;So=2C really=2C the endpoint info should be&amp;nbsp=3Bstored in=
&amp;nbsp=3B_DnsEndPoint_ not _IPEndpoint_ all thru core.&lt;BR&gt;&amp;nbsp=3B&lt;BR&gt;and&lt;BR=
&gt;<i>&amp;nbsp=3B&lt;BR&gt;Unless anybody knows of a reason not to=2C I suggest moving an=
</I>y&amp;nbsp=3BIP resolving into the&amp;nbsp=3BLL client stack=2C as close to the ac=
tual needed conversion as possible=2C and let core&amp;nbsp=3Buse hostnames=2C =
via DnsEndPoint=2C&amp;nbsp=3Ball over.&lt;BR&gt;&lt;BR&gt;Best regards=2C&lt;BR&gt;Stefan Anders=
son&lt;BR&gt;Tribal Media AB&lt;BR&gt;&amp;nbsp=3B&lt;BR&gt;Join the&amp;nbsp=3B3d web revolution : &lt;=
A href=3D&quot;<A HREF="http://tribalnet.se/">http://tribalnet.se/</A>&quot;&gt;<A HREF="http://tribalnet.se/&lt;/A">http://tribalnet.se/&lt;/A</A>&gt;&lt;BR&gt;&amp;nbsp=3B&lt;BR&gt;&lt;BR=
&gt;<i>&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;
</I>
&lt;HR id=3DEC_stopSpelling&gt;
&lt;BR&gt;
&lt;BR&gt;Date: Thu=2C 11 Dec 2008 17:38:04 -0800&lt;BR&gt;From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&lt;BR&gt;T=
o: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>&lt;BR&gt;Subject: Re: [Opensim-dev] external host=
 name&lt;BR&gt;&lt;BR&gt;The thing is that this can potentially create a RegionInfo dat=
a structure with &lt;BR&gt;&amp;nbsp=3B&amp;nbsp=3B&amp;nbsp=3B&amp;nbsp=3B&amp;nbsp=3B&amp;nbsp=3B&amp;nbsp=
=3B&amp;nbsp=3B&amp;nbsp=3B&amp;nbsp=3B nRegionInfo.ExternalHostName =3D regionData.IPA=
DDR=3B&lt;BR&gt;&lt;BR&gt;This is inconsistent with certain queries on the Grid server=
=2C like &quot;give me all my neighbors&quot; which may send host names.&lt;BR&gt;&lt;BR&gt;So=2C=
 back to the point: someone needs to decide what is it that RegionInfo.Exte=
rnalHostName&amp;nbsp=3B is supposed to hold.&lt;BR&gt;&lt;BR&gt;Teravus Ovares wrote: &lt;BR&gt;=
&lt;BR&gt;
&lt;BLOCKQUOTE cite=3Dmid:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">34cc66250812111718j3b5b1092w90dbb7d45131f5c8 at mail.gm</A>=
ail.com&gt;&lt;PRE&gt;RegionUpData is my fault=2C and spawned from compatibility iss=
ues with
.NET remoting and Mono remoting with complex types.  It is only used
to notify a neighbor region that 'this region is up'

Best Regards

Teravus

On 12/11/08=2C Cristina Videira Lopes &lt;A class=3DEC_EC_moz-txt-link-rfc2396=
E href=3D&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&quot;&gt;&amp;lt=<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">3Blopes at ics.uci.edu</A>&amp;gt=3B&lt;/A&gt; wrote=
:<i>
</I>  &lt;/PRE&gt;
&lt;BLOCKQUOTE&gt;&lt;PRE&gt;Things are very messy right now. You can search for &quot;sim_i=
p&quot;=2C for example=2C
which is used in chatting with the grid server=2C and where it is being
converted to an IP address in about half of the cases.

To compensate=2C and before I noticed this inconsistency=2C Homer introduce=
d
another field called &quot;sim_host&quot;=2C so not to mess with what was already the=
re=2C
that is supposed to carry the external host name=2C but this only works up =
to
the point in which RegionInfo data structures are created. At that point=2C=
 we
need to decide what to place in m_externalHostName=2C sim_ip or sim_host.
Which means changes in OGS1.

I also noticed that there is yet another data structure called RegionUpData
that uses IP addresses.

So=2C messy. Someone should decide what this field is supposed to be=2C and=
 make
it a rule.

Charles Krinke wrote:

Dear Diva:

You have a very good point and I would support harmonizing to one notion
even at the expense of breaking some things for a while.

In fact=2C if someone can identify what some of those things are=2C or come=
 up
with a couple of search strings or grep expressions=2C I would like to look=
 at
the anomalies myself.

+1 on external_host_name

Charles

________________________________


From: Cristina Videira Lopes &lt;A class=3DEC_EC_moz-txt-link-rfc2396E href=3D=
&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&quot;&gt;&amp;lt=<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">3Blopes at ics.uci.edu</A>&amp;gt=3B&lt;/A&gt;
To: &lt;A class=3DEC_EC_moz-txt-link-abbreviated href=3D&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at li</A>=
sts.berlios.de&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>&lt;/A&gt;
Sent: Thursday=2C December 11=2C 2008 2:42:05 PM
Subject: [Opensim-dev] external host name

It turns out that a lot of problems with CAPs have to do with
inconsistencies surrounding the URL of the seed cap. Specifically=2C in
some cases we're producing URLs with hostnames=2C other times we're
producing URLs with IP addresses=2C for example:

&lt;A class=3DEC_EC_moz-txt-link-freetext href=3D&quot;<A HREF="http://ucigrid03.nacs.uci.ed=">http://ucigrid03.nacs.uci.ed=</A>
u:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/&quot;&gt;<A HREF="http://ucigrid03.nacs.uc=">http://ucigrid03.nacs.uc=</A>
i.edu:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/&lt;/A&gt;
vs.
MailScanner has detected a possible fraud attempt from &quot;128.200.71.43:9000&quot;
claiming to be MailScanner warning: numerical links are often malicious:
&lt;A class=3DEC_EC_moz-txt-link-freetext href=3D&quot;<A HREF="http://128.200.71.43:9000/CA=">http://128.200.71.43:9000/CA=</A>
PS/4cfc94fa-09be-409b-b136-cda2cdde0000/&quot;&gt;&lt;FONT color=3Dred&gt;&lt;B&gt;MailScanner =
warning: numerical links are often malicious:&lt;/B&gt;&lt;/FONT&gt; <A HREF="http://128.200.71.=">http://128.200.71.=</A>
43:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/&lt;/A&gt;

The client is not smart enough to test if this is the same host=2C it
assumes it isn't=2C so it decides someone's trying to game it.

The inconsistencies are all over the code in OpenSim=2C and they pertain
to the use of ExternalHostName in several data s! tructures. In some
cases=2C an explicit conversion to IP addresses is made.

We should converge to one single thing. And I believe that thing should
be whatever it is given in external_host_name config. Is this right?
However=2C I am a bit afraid this is going to break 17 different things...

Crista

_______________________________________________
Opensim-dev mailing list
&lt;A class=3DEC_EC_moz-txt-link-abbreviated href=3D&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.</A>=
berlios.de&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&lt;/A&gt;
&lt;A class=3DEC_EC_moz-txt-link-freetext href=3D&quot;<A HREF="https://lists.berlios.de/mai=">https://lists.berlios.de/mai=</A>
lman/listinfo/opensim-dev&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensi=">https://lists.berlios.de/mailman/listinfo/opensi=</A>
m-dev&lt;/A&gt;
________________________________

    &lt;/PRE&gt;&lt;/BLOCKQUOTE&gt;&lt;PRE&gt;_______________________________________________
Opensim-dev
  &lt;/PRE&gt;
&lt;BLOCKQUOTE&gt;&lt;PRE&gt;mailing
list
    &lt;/PRE&gt;&lt;/BLOCKQUOTE&gt;&lt;PRE&gt;&lt;A class=3DEC_EC_moz-txt-link-abbreviated href=
=3D&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&lt;/A&gt;
&lt;A class=3DEC_EC_moz-txt-link-freetext href=3D&quot;<A HREF="https://lists.berlios.de/mai=">https://lists.berlios.de/mai=</A>
lman/listinfo/opensim-dev&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensi=">https://lists.berlios.de/mailman/listinfo/opensi=</A>
m-dev&lt;/A&gt;
  &lt;/PRE&gt;
&lt;BLOCKQUOTE&gt;&lt;PRE&gt;_______________________________________________
Opensim-dev mailing list
&lt;A class=3DEC_EC_moz-txt-link-abbreviated href=3D&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.</A>=
berlios.de&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&lt;/A&gt;
&lt;A class=3DEC_EC_moz-txt-link-freetext href=3D&quot;<A HREF="https://lists.berlios.de/mai=">https://lists.berlios.de/mai=</A>
lman/listinfo/opensim-dev&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensi=">https://lists.berlios.de/mailman/listinfo/opensi=</A>
m-dev&lt;/A&gt;


    &lt;/PRE&gt;&lt;/BLOCKQUOTE&gt;&lt;PRE&gt;_______________________________________________
Opensim-dev mailing list
&lt;A class=3DEC_EC_moz-txt-link-abbreviated href=3D&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.</A>=
berlios.de&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&lt;/A&gt;
&lt;A class=3DEC_EC_moz-txt-link-freetext href=3D&quot;<A HREF="https://lists.berlios.de/mai=">https://lists.berlios.de/mai=</A>
lman/listinfo/opensim-dev&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensi=">https://lists.berlios.de/mailman/listinfo/opensi=</A>
m-dev&lt;/A&gt;
  &lt;/PRE&gt;&lt;/BLOCKQUOTE&gt;&lt;BR&gt;&lt;/body&gt;
&lt;/html&gt;=

--_93cdcf36-e58e-41c7-9d0c-28c44b8d43ea_--

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003995.html">No subject
</A></li>
	<LI>Next message: <A HREF="004087.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3996">[ date ]</a>
              <a href="thread.html#3996">[ thread ]</a>
              <a href="subject.html#3996">[ subject ]</a>
              <a href="author.html#3996">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
