<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Proposal: Implement a de-duplicating core ROBUST asset service
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2012-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Proposal%3A%20Implement%20a%20de-duplicating%20core%20ROBUST%0A%20asset%20service&In-Reply-To=%3C4F51F71A.9000803%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010930.html">
   <LINK REL="Next"  HREF="010932.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Proposal: Implement a de-duplicating core ROBUST asset service</H1>
    <B>Wade Schuette</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Proposal%3A%20Implement%20a%20de-duplicating%20core%20ROBUST%0A%20asset%20service&In-Reply-To=%3C4F51F71A.9000803%40gmail.com%3E"
       TITLE="[Opensim-dev] Proposal: Implement a de-duplicating core ROBUST asset service">wade.schuette at gmail.com
       </A><BR>
    <I>Sat Mar  3 11:48:58 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="010930.html">[Opensim-dev] Proposal: Implement a de-duplicating core ROBUST asset service
</A></li>
        <LI>Next message: <A HREF="010932.html">[Opensim-dev] Proposal: Implement a de-duplicating core ROBUST asset service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10931">[ date ]</a>
              <a href="thread.html#10931">[ thread ]</a>
              <a href="subject.html#10931">[ subject ]</a>
              <a href="author.html#10931">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For the few other people who are interested, and since it's 3 AM and I 
can't sleep, and as long as we're talking long-term directions,  let me 
suggest a goal to work towards for the next decade or so -- an asset 
service which gets faster with use and takes up less absolute space as 
more and more people use it.   Imagine an algorithm that actually 
improves as the number of users N increases,  versus one that just gets 
worse less rapidly than another as N increases.

Picture that, instead of an asset service that hits a ceiling, like 
Second Life, where redoubling the number of users would probably take 8 
minutes to retrieve a pair of shoes from inventory.

At a minimum,  imagine breaking the barrier from lossless-storage (for 
images, say TIFF or PNG) to lossy-storage ( JPG) at user-controlled 
acceptable quality levels.     With images we're talking reducing some 
10 Meg images to 50 K in size, for example.   And with successive 
resolution,  we're talking improving BOTH retrieval speed AND storage 
space, with models, like mesh, that are &quot;low&quot;, &quot;medium&quot;, and &quot;high&quot; 
resolutions and using the lowest one that works for, say, a speeding flyby.

But the real power would be in an artificially intelligent system that 
did far more than just identifying exact duplicates, but one that hashed 
objects into object categories,  then conceptualized the object-oriented 
definitions and mapped, say, ALL chairs into a &quot;CHAIR&quot; category,  where 
it only needed to specify the parameters that distinguish THIS instance 
of a chair from the base object.    And over time, with a Google-like 
size memory, it would get better and better at recognizing familiar 
categories of objects that people use.

As with the ALICE chatbot strategy,  even a dumb parsing algorithm might 
handle 80% of what people often do, and 98% of what people almost always 
do, which is 95% of the asset server.

Everyone uses &quot;chairs&quot;, &quot;vehicles&quot;, &quot;walls&quot;, &quot;shoes&quot;, &quot;walls&quot;, 
&quot;windows&quot;, &quot;doors&quot;, etc. and they will predictably continue to do so for 
the next decade, so why not get better and better at implementing new 
sub-sub-flavors of such common classes? Or, for a creative user, why not 
use a &quot;snap-to-grid&quot; type solution?  &quot;Hey, are you trying to make a 
chair?  How about THIS?&quot; (Except please skip the annoying animated 
paperclip and puppy part!)

Of course, this would ALSO get vastly better if the entire system, 
conceptually,  understood hierarchical-objects with unlimited or even 16 
sub-groupings, so that the &quot;CAR&quot; category expected that part of most 
CAR's would be something like &quot;WHEELS&quot;, and there are only a finite 
number of types of wheels that would suffice, and for that matter all 
four on a vehicle should be instances of each other,  as the original 
no-duplicates proposal implements.

Then, rather than creating a face with an artists brush,  the &quot;rest of 
us&quot; could use a police-IDENTIKIT type system to fill-in, top down,  
&quot;Chair,  office, ...&quot; and in 15 mouseclicks have located in the 
marketplace or &quot;created&quot; a new version of &quot;chair&quot; that meets our needs, 
and at the same time generated a data-base representation of it as the 
12 parameters needed to generate it from known object classes,  instead 
of storing each and every aspect of each and every chair as if there was 
no savings to be had in learning about &quot;chairs&quot; and generalizing.

Wade













On 3/3/12 1:35 AM, M.E. Verhagen wrote:
&gt;<i> +1
</I>&gt;<i>
</I>&gt;<i> spitting up the asset tabel is brilliant.
</I>&gt;<i> loading an iar or oar of a few 100mb wich was previously saved on the 
</I>&gt;<i> same grid would than not increase the database with the few 100mb but 
</I>&gt;<i> just a few 100k :)
</I>&gt;<i>
</I>&gt;<i> Op zaterdag 3 maart 2012 schreef Justin Clark-Casey 
</I>&gt;<i> (<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt;) het volgende:
</I>&gt;<i> &gt; Hi folks.  As we know, the space required for asset storage in 
</I>&gt;<i> OpenSimulator grows continuously over time.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think this is inevitable in a web-like virtual world - distributed 
</I>&gt;<i> garbage collection is practically impossible. However, the current 
</I>&gt;<i> OpenSimulator asset service stores much more data than it needs to 
</I>&gt;<i> since it fails to identify assets that are exact duplicates of each other.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Previous work in places such as OSGrid, which now uses Dave Coyle's 
</I>&gt;<i> Simple Ruby Asset Service (SRAS) [1], reveals that preventing 
</I>&gt;<i> duplicate assets has a significant effect on storage requirements (I 
</I>&gt;<i> can't remember the exact figures but I think that it's &gt;30%).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Therefore, I propose to introduce a new core asset service 
</I>&gt;<i> (xassetservice) that will implement asset de-duplication via asset 
</I>&gt;<i> data hashing.  This has already been shown to work by SRAS.  I regard 
</I>&gt;<i> this feature as critical for future plans to extend IAR loading and to 
</I>&gt;<i> improve the 3-months-out-of-the-box OpenSimulator experience.  It does 
</I>&gt;<i> not aim to replace external projects such as SRAS for heavy users.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I already have a working implementation in the xassetservice git 
</I>&gt;<i> branch (configuration instructions at [2]).  This should not be used 
</I>&gt;<i> in way except for testing - it is still in the prototype stage and can 
</I>&gt;<i> change at any time.  Only a MySQL implementation exists right now.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The plan would be to have xassetservice exist alongside and 
</I>&gt;<i> independent of the existing asset service.  Only one service can be 
</I>&gt;<i> used at a time and this is determined via config files.  After 
</I>&gt;<i> considerable testing, xassetservice would become the default asset 
</I>&gt;<i> service for new OpenSimulator installations.  The existing asset 
</I>&gt;<i> service would continue alongside for a very, very, very long time.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Since asset datasets are so large and critical there would be no 
</I>&gt;<i> automatic migration between assetservice data and xassetservice. 
</I>&gt;<i>  Instead, there would be an external migration tool.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I may also take this opportunity to implement other asset service 
</I>&gt;<i> features, such as data storage on disk instead of database (possibly 
</I>&gt;<i> nicking stuff from kcozen's previous patch for this) and maybe 
</I>&gt;<i> compression (though I'm currently thinking that the cons of this 
</I>&gt;<i> outweight the pros).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; More detail is at [3].  Comments or alternative implementation 
</I>&gt;<i> suggestions from developers, etc., are welcome.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [1] <A HREF="https://github.com/coyled/sras">https://github.com/coyled/sras</A>
</I>&gt;<i> &gt; [2] 
</I>&gt;<i> <A HREF="http://opensimulator.org/wiki/Feature_Proposals/Deduplicating_Asset_Service#Testing">http://opensimulator.org/wiki/Feature_Proposals/Deduplicating_Asset_Service#Testing</A>
</I>&gt;<i> &gt; [3] 
</I>&gt;<i> <A HREF="http://opensimulator.org/wiki/Feature_Proposals/Deduplicating_Asset_Service">http://opensimulator.org/wiki/Feature_Proposals/Deduplicating_Asset_Service</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Justin Clark-Casey (justincc)
</I>&gt;<i> &gt; <A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
</I>&gt;<i> &gt; <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Groningen en Hannover Opensims: 
</I>&gt;<i> <A HREF="secondlife://meverhagen.nl:8002:Hannover">secondlife://meverhagen.nl:8002:Hannover</A> ZW/
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20120303/a02f9a41/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20120303/a02f9a41/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010930.html">[Opensim-dev] Proposal: Implement a de-duplicating core ROBUST asset service
</A></li>
	<LI>Next message: <A HREF="010932.html">[Opensim-dev] Proposal: Implement a de-duplicating core ROBUST asset service
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10931">[ date ]</a>
              <a href="thread.html#10931">[ thread ]</a>
              <a href="subject.html#10931">[ subject ]</a>
              <a href="author.html#10931">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
