<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] appearance update
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20appearance%20update&In-Reply-To=%3CAANLkTikV2uTjK4yK0vocMUneL-tsVOo_eMsNmKoOFzVZ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009759.html">
   <LINK REL="Next"  HREF="009761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] appearance update</H1>
    <B>Mic Bowman</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20appearance%20update&In-Reply-To=%3CAANLkTikV2uTjK4yK0vocMUneL-tsVOo_eMsNmKoOFzVZ%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] appearance update">cmickeyb at gmail.com
       </A><BR>
    <I>Thu Nov 18 19:33:39 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009759.html">[Opensim-dev] terrain texture blend weight painting
</A></li>
        <LI>Next message: <A HREF="009761.html">[Opensim-dev] Camilo Galeano invited you to Dropbox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9760">[ date ]</a>
              <a href="thread.html#9760">[ thread ]</a>
              <a href="subject.html#9760">[ subject ]</a>
              <a href="author.html#9760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>just an update on appearance...

i just uploaded a patch in mantis that should fix some of the appearance
issues osgrid is seeing. however, after testing with nebadon, i'm still
seeing some very strange behavior. what the logs show is that the viewer
starts to upload baked textures, but the uploads take a LONG time to
complete or never complete at all. nebadon reports that when users having a
hard time rezzing drop their viewer bandwidth setting, they quickly rez
fully. i'm not at all sure what's going on with that problem.

more detail...
on login, the simulator sends the appearance packets to the viewer
the viewer sends a request for wearables and the simulator sends the correct
response
the viewer begins to call setappearance to update the appearance
the viewer generally sends between 6 and 8 setappearance packets that adjust
the visual parameters
then the viewer begins to upload baked textures (i track the completion of
the upload in Caps.cs fn BakedTextureUploaded)
when all of the baked textures have been uploaded completely, the viewer
sends a final setappearance packet that sets the texture uuids.

when avatars are not fully rezzed, the logs show that not all of the baked
textures are uploaded and the final setappearance packet is not sent (which
should trigger the final send to the other avatars in the region).

the baking appears to be successful because the user generally sees his/her
own avatar correctly. its just that the upload is not completing.

looking at the console logs in the viewer, i'm not seeing any errors. and i
do see (sometimes after several minutes) the textures finally being
uploaded.

--mic
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20101118/c8e055b3/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20101118/c8e055b3/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009759.html">[Opensim-dev] terrain texture blend weight painting
</A></li>
	<LI>Next message: <A HREF="009761.html">[Opensim-dev] Camilo Galeano invited you to Dropbox
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9760">[ date ]</a>
              <a href="thread.html#9760">[ thread ]</a>
              <a href="subject.html#9760">[ subject ]</a>
              <a href="author.html#9760">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
