<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Bump GridComms Version Notice
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Bump%20GridComms%20Version%20Notice&In-Reply-To=%3C63FAD4F222230A4EA79DE9E8BE664735340EFEFD%40winxbeus19.exchange.xchg%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007229.html">
   <LINK REL="Next"  HREF="007231.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Bump GridComms Version Notice</H1>
    <B>Frisby, Adam</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Bump%20GridComms%20Version%20Notice&In-Reply-To=%3C63FAD4F222230A4EA79DE9E8BE664735340EFEFD%40winxbeus19.exchange.xchg%3E"
       TITLE="[Opensim-dev] Bump GridComms Version Notice">adam at deepthink.com.au
       </A><BR>
    <I>Sun Jul 26 01:45:57 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007229.html">[Opensim-dev] Bump GridComms Version Notice
</A></li>
        <LI>Next message: <A HREF="007231.html">[Opensim-dev] Bump GridComms Version Notice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7230">[ date ]</a>
              <a href="thread.html#7230">[ thread ]</a>
              <a href="subject.html#7230">[ subject ]</a>
              <a href="author.html#7230">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think ultimately; we shouldn't be using LLSD in anywhere that isn't explicitly dealing with CAPS and it's required.

Frankly it's not an ideal serialisation format for anything but LL compatibility.

Adam

From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Dahlia Trimble
Sent: Saturday, 25 July 2009 4:18 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Bump GridComms Version Notice

I've noticed one issue already with the &quot;core&quot; split after 0.7, references that were originally resolved to OpenMetaverse.dll now are in the new Core dll. This broke binary level compatibility with third party dlls, and source projects now need to be distributed assuming either configuration.

On Sat, Jul 25, 2009 at 4:06 PM, Jim Radford &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jradford at npl.com</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jradford at npl.com</A>&gt;&gt; wrote:
OSD (StructuredData) != Types, Full release notes:
<A HREF="http://jira.openmetaverse.org/secure/ReleaseNote.jspa?version=10071&amp;styleName=Html&amp;projectId=10000&amp;Create=Create">http://jira.openmetaverse.org/secure/ReleaseNote.jspa?version=10071&amp;styleName=Html&amp;projectId=10000&amp;Create=Create</A>


Although I notice there is nothing in those release notes that indicates
the breaking changes since 0.6.x, We (libomv) need to be better about
flagging changes as such. They are generally flagged as breaking in the
commit message, the problem is we don't always create jira issues for such
changes (bad behavior on our part). We'll get this process fixed so
breaking changes in 0.8 will be more obvious. Its probably worthwhile to do
a svn log (or browse through the -commits mailing list) which might help
indicate other possible issues in updating to 0.7.0.

Additionally the specifics of the change Teravus talks about  were done due
to a change in the OGP draft specs which the commit message indicates If
memory serves me correctly.

And lastly, one of the major projects for 0.8 will be to split the &quot;core&quot;
functionality (messages, packets, etc) into its own assembly separate from
client related items. This will for opensim of course mean a leaner
assembly without a bunch of the stuff you don't currently need. This change
will not be much in the way of API/Namespace changes. The desire is to
continue to support the many use cases for the library but in a more
organized fashion that makes better sense in those use cases.

Teravus: thanks for pointing these things out so we can improve the
process.

Regards,
Jim

On Sat, 25 Jul 2009 18:41:22 -0400, &quot;Frisby, Adam&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">adam at deepthink.com.au</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">adam at deepthink.com.au</A>&gt;&gt;
wrote:
&gt;<i> D'oh.
</I>&gt;<i>
</I>&gt;<i> Wasn't moving to OMVTypes supposed to avoid breaks like this?
</I>&gt;<i>
</I>&gt;<i> Adam
</I>&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>&gt; [mailto:opensim-dev-&lt;mailto:opensim-dev-&gt;
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>&gt;] On Behalf Of Teravus Ovares
</I>&gt;&gt;<i> Sent: Saturday, 25 July 2009 2:05 PM
</I>&gt;&gt;<i> To: opensim-dev
</I>&gt;&gt;<i> Subject: [Opensim-dev] Bump GridComms Version Notice
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hey everyone
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> After fighting with things for a bit, I'm going to recommend bumping
</I>&gt;&gt;<i> the version of the gridcomms.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It turns out that the json serialization of the UUID type was changed
</I>&gt;&gt;<i> in libOMV revision r2588 to a plain string.
</I>&gt;&gt;<i> This leaves older regions expecting a 'uuid::' prefix (as was the
</I>&gt;&gt;<i> previous format) unable to decode UUIDs and return a UUID.Zero.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This will break Hypergrid and some types of region to region comms
</I>&gt;&gt;<i> between OpenSim revisions 10081 and 10082. Regions in versions 10082
</I>&gt;&gt;<i> cannot talk properly to regions 10081 and below.   If you try, some
</I>&gt;&gt;<i> regions will show, some won't, you'll have border crossing issues
</I>&gt;&gt;<i> sometimes and you'll get weird console messages.   For grids who want
</I>&gt;&gt;<i> a consistent experience, you will need to upgrade regions together so
</I>&gt;&gt;<i> organize the effort appropriately.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Unfortunately, there isn't really anything that we can do besides this
</I>&gt;&gt;<i> except roll back the LibOMV 0.7.0 commit and stay on an older version
</I>&gt;&gt;<i> of libOMV.  There isn't any way to programmatically change, without
</I>&gt;&gt;<i> forking OpenMetaverse.StructureData, what should go over the wire
</I>&gt;&gt;<i> serialization.   Additionally, on the receiving side, there's no way
</I>&gt;&gt;<i> to know what was a UUID and what was a string with UUID text in it's
</I>&gt;&gt;<i> contents so converting it there is also out of the question.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Additionally, any services that make use of the json serialization are
</I>&gt;&gt;<i> affected (json stats come to mind).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Be aware of these changes
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Teravus
</I>-- Jim

!DSPAM:370,4a6b8ffa312361761917752!


_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&gt;
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20090725/ed1f4a6b/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20090725/ed1f4a6b/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007229.html">[Opensim-dev] Bump GridComms Version Notice
</A></li>
	<LI>Next message: <A HREF="007231.html">[Opensim-dev] Bump GridComms Version Notice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7230">[ date ]</a>
              <a href="thread.html#7230">[ thread ]</a>
              <a href="subject.html#7230">[ subject ]</a>
              <a href="author.html#7230">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
