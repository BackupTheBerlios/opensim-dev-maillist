<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Bump GridComms Version Notice
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Bump%20GridComms%20Version%20Notice&In-Reply-To=%3Cab84ceb10907251617u36e07876j60e96a0dda089b80%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007228.html">
   <LINK REL="Next"  HREF="007230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Bump GridComms Version Notice</H1>
    <B>Dahlia Trimble</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Bump%20GridComms%20Version%20Notice&In-Reply-To=%3Cab84ceb10907251617u36e07876j60e96a0dda089b80%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] Bump GridComms Version Notice">dahliatrimble at gmail.com
       </A><BR>
    <I>Sun Jul 26 01:17:39 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007228.html">[Opensim-dev] Bump GridComms Version Notice
</A></li>
        <LI>Next message: <A HREF="007230.html">[Opensim-dev] Bump GridComms Version Notice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7229">[ date ]</a>
              <a href="thread.html#7229">[ thread ]</a>
              <a href="subject.html#7229">[ subject ]</a>
              <a href="author.html#7229">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've noticed one issue already with the &quot;core&quot; split after 0.7, references
that were originally resolved to OpenMetaverse.dll now are in the new Core
dll. This broke binary level compatibility with third party dlls, and source
projects now need to be distributed assuming either configuration.

On Sat, Jul 25, 2009 at 4:06 PM, Jim Radford &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jradford at npl.com</A>&gt; wrote:

&gt;<i> OSD (StructuredData) != Types, Full release notes:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://jira.openmetaverse.org/secure/ReleaseNote.jspa?version=10071&amp;styleName=Html&amp;projectId=10000&amp;Create=Create">http://jira.openmetaverse.org/secure/ReleaseNote.jspa?version=10071&amp;styleName=Html&amp;projectId=10000&amp;Create=Create</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Although I notice there is nothing in those release notes that indicates
</I>&gt;<i> the breaking changes since 0.6.x, We (libomv) need to be better about
</I>&gt;<i> flagging changes as such. They are generally flagged as breaking in the
</I>&gt;<i> commit message, the problem is we don't always create jira issues for such
</I>&gt;<i> changes (bad behavior on our part). We'll get this process fixed so
</I>&gt;<i> breaking changes in 0.8 will be more obvious. Its probably worthwhile to do
</I>&gt;<i> a svn log (or browse through the -commits mailing list) which might help
</I>&gt;<i> indicate other possible issues in updating to 0.7.0.
</I>&gt;<i>
</I>&gt;<i> Additionally the specifics of the change Teravus talks about  were done due
</I>&gt;<i> to a change in the OGP draft specs which the commit message indicates If
</I>&gt;<i> memory serves me correctly.
</I>&gt;<i>
</I>&gt;<i> And lastly, one of the major projects for 0.8 will be to split the &quot;core&quot;
</I>&gt;<i> functionality (messages, packets, etc) into its own assembly separate from
</I>&gt;<i> client related items. This will for opensim of course mean a leaner
</I>&gt;<i> assembly without a bunch of the stuff you don't currently need. This change
</I>&gt;<i> will not be much in the way of API/Namespace changes. The desire is to
</I>&gt;<i> continue to support the many use cases for the library but in a more
</I>&gt;<i> organized fashion that makes better sense in those use cases.
</I>&gt;<i>
</I>&gt;<i> Teravus: thanks for pointing these things out so we can improve the
</I>&gt;<i> process.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Jim
</I>&gt;<i>
</I>&gt;<i> On Sat, 25 Jul 2009 18:41:22 -0400, &quot;Frisby, Adam&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">adam at deepthink.com.au</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; D'oh.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Wasn't moving to OMVTypes supposed to avoid breaks like this?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Adam
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; -----Original Message-----
</I>&gt;<i> &gt;&gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:opensim-dev-
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>] On Behalf Of Teravus Ovares
</I>&gt;<i> &gt;&gt; Sent: Saturday, 25 July 2009 2:05 PM
</I>&gt;<i> &gt;&gt; To: opensim-dev
</I>&gt;<i> &gt;&gt; Subject: [Opensim-dev] Bump GridComms Version Notice
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Hey everyone
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; After fighting with things for a bit, I'm going to recommend bumping
</I>&gt;<i> &gt;&gt; the version of the gridcomms.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; It turns out that the json serialization of the UUID type was changed
</I>&gt;<i> &gt;&gt; in libOMV revision r2588 to a plain string.
</I>&gt;<i> &gt;&gt; This leaves older regions expecting a 'uuid::' prefix (as was the
</I>&gt;<i> &gt;&gt; previous format) unable to decode UUIDs and return a UUID.Zero.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; This will break Hypergrid and some types of region to region comms
</I>&gt;<i> &gt;&gt; between OpenSim revisions 10081 and 10082. Regions in versions 10082
</I>&gt;<i> &gt;&gt; cannot talk properly to regions 10081 and below.   If you try, some
</I>&gt;<i> &gt;&gt; regions will show, some won't, you'll have border crossing issues
</I>&gt;<i> &gt;&gt; sometimes and you'll get weird console messages.   For grids who want
</I>&gt;<i> &gt;&gt; a consistent experience, you will need to upgrade regions together so
</I>&gt;<i> &gt;&gt; organize the effort appropriately.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Unfortunately, there isn't really anything that we can do besides this
</I>&gt;<i> &gt;&gt; except roll back the LibOMV 0.7.0 commit and stay on an older version
</I>&gt;<i> &gt;&gt; of libOMV.  There isn't any way to programmatically change, without
</I>&gt;<i> &gt;&gt; forking OpenMetaverse.StructureData, what should go over the wire
</I>&gt;<i> &gt;&gt; serialization.   Additionally, on the receiving side, there's no way
</I>&gt;<i> &gt;&gt; to know what was a UUID and what was a string with UUID text in it's
</I>&gt;<i> &gt;&gt; contents so converting it there is also out of the question.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Additionally, any services that make use of the json serialization are
</I>&gt;<i> &gt;&gt; affected (json stats come to mind).
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Be aware of these changes
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Regards
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Teravus
</I>&gt;<i>
</I>&gt;<i> -- Jim
</I>&gt;<i>
</I>&gt;<i> !DSPAM:370,4a6b8ffa312361761917752!
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20090725/5e21ef60/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20090725/5e21ef60/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007228.html">[Opensim-dev] Bump GridComms Version Notice
</A></li>
	<LI>Next message: <A HREF="007230.html">[Opensim-dev] Bump GridComms Version Notice
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7229">[ date ]</a>
              <a href="thread.html#7229">[ thread ]</a>
              <a href="subject.html#7229">[ subject ]</a>
              <a href="author.html#7229">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
