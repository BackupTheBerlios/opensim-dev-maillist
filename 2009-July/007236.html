<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Inventory loss
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Inventory%20loss&In-Reply-To=%3CB293F9025AB9DF4BBD3BC3403F25DA450160AA59A32D%40EXW10.eum.root.eumetsat.int%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007235.html">
   <LINK REL="Next"  HREF="007237.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Inventory loss</H1>
    <B>Colin B. Withers</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Inventory%20loss&In-Reply-To=%3CB293F9025AB9DF4BBD3BC3403F25DA450160AA59A32D%40EXW10.eum.root.eumetsat.int%3E"
       TITLE="[Opensim-dev] Inventory loss">Colin.Withers at eumetsat.int
       </A><BR>
    <I>Mon Jul 27 14:02:33 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007235.html">[Opensim-dev] Inventory loss
</A></li>
        <LI>Next message: <A HREF="007237.html">[Opensim-dev] Inventory loss
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7236">[ date ]</a>
              <a href="thread.html#7236">[ thread ]</a>
              <a href="subject.html#7236">[ subject ]</a>
              <a href="author.html#7236">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I wonder what proportion of inventory items that go astray are the result of the success/failure of an operation, or are due to database corruption issues.

Rock

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Melanie
Sent: Monday, July 27, 2009 12:30 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Inventory loss

There is a question here of why inventory loss occurs at all. At 
what stage do we actually lose (as opposed to failing to bump the 
folder serial) inventory items at all, and why?

While a &quot;deleted&quot; flag and an undelete function do make an admin's 
life easier, I believe the real focus should be on the inventory 
code. It will be redesigned anyway and once that happens, I think a 
strong focus needs to be placed on data integrity preservation.

That would then mae the undelete functionality largely unnecessary. 
Current inventory code often doesn't check for success of an 
operation at all. That needs to be revisited.

Melanie

Thomas Grimshaw wrote:
&gt;<i> Hey folks.
</I>&gt;<i> 
</I>&gt;<i> Been thinking a lot about inventory loss in OpenSim, something that I 
</I>&gt;<i> think we should really do as much as possible to avoid. We've been 
</I>&gt;<i> experiencing numerous cases of lost inventory in K-Grid recently.
</I>&gt;<i> 
</I>&gt;<i> What i'd like to implement, is..
</I>&gt;<i> 
</I>&gt;<i> When an item is removed from inventory (deleted, or rezzed if it's 
</I>&gt;<i> no-copy), it is not actually deleted by instead an &quot;available&quot; flag is 
</I>&gt;<i> set in the inventory database.
</I>&gt;<i> All inventory queries will check for the flag and thus it will appear as 
</I>&gt;<i> deleted to the user, but it can be restored easily by an admin if 
</I>&gt;<i> needed.  A timestamp should also be set which indicates when the item 
</I>&gt;<i> was made unavailable, so that routine cleanup can be performed on items 
</I>&gt;<i> which were made unavailable a long time ago.
</I>&gt;<i> 
</I>&gt;<i> I wanted to get people's opinons of this before I implemented it in 
</I>&gt;<i> code. Can anyone think of any drawbacks or possible issues? Any further 
</I>&gt;<i> room for improvement?
</I>&gt;<i> 
</I>&gt;<i> Cheers
</I>&gt;<i> 
</I>&gt;<i> Thomas Grimshaw
</I>&gt;<i> (RemedyTomm)
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007235.html">[Opensim-dev] Inventory loss
</A></li>
	<LI>Next message: <A HREF="007237.html">[Opensim-dev] Inventory loss
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7236">[ date ]</a>
              <a href="thread.html#7236">[ thread ]</a>
              <a href="subject.html#7236">[ subject ]</a>
              <a href="author.html#7236">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
