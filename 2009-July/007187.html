<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] World map - map doesnt load on large grids
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20World%20map%20-%20map%20doesnt%20load%20on%20large%20grids&In-Reply-To=%3C34cc66250907201027w32c692u5b361d436968af6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007186.html">
   <LINK REL="Next"  HREF="007188.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] World map - map doesnt load on large grids</H1>
    <B>Teravus Ovares</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20World%20map%20-%20map%20doesnt%20load%20on%20large%20grids&In-Reply-To=%3C34cc66250907201027w32c692u5b361d436968af6%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] World map - map doesnt load on large grids">teravus at gmail.com
       </A><BR>
    <I>Mon Jul 20 19:27:29 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007186.html">[Opensim-dev] World map - map doesnt load on large grids
</A></li>
        <LI>Next message: <A HREF="007188.html">[Opensim-dev] World map - map doesnt load on large grids
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7187">[ date ]</a>
              <a href="thread.html#7187">[ thread ]</a>
              <a href="subject.html#7187">[ subject ]</a>
              <a href="author.html#7187">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Normally the client sends a post to one of the map CAPs, and then
sends a bunch of UDP requests.    On OSGrid, in the 10,000 range, the
client just posts to the map CAP unless you click in an empty maptile
space.    Since no requests are made, no maptiles show.     The hack
is that when the client posts to the map cap, immediately send the map
data for 10 spaces above and below the region the avatar is currently
in.

Regards

Teravus

On Mon, Jul 20, 2009 at 12:54 PM, Frisby, Adam&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">adam at deepthink.com.au</A>&gt; wrote:
&gt;<i> &lt;hack&gt;Subtract 8,000 from all coordinates for the world map?&lt;/hack&gt;
</I>&gt;<i> (derive 8,000 from the median position on the grid)
</I>&gt;<i>
</I>&gt;<i> Adam
</I>&gt;<i>
</I>&gt;&gt;<i> -----Original Message-----
</I>&gt;&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:opensim-dev-
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>] On Behalf Of Frisby, Adam
</I>&gt;&gt;<i> Sent: Monday, 20 July 2009 9:34 AM
</I>&gt;&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> Subject: Re: [Opensim-dev] World map - map doesnt load on large grids
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Lame SL is lame.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is anyone able to patch Hippo to fix this issue? (tx?)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Adam
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; -----Original Message-----
</I>&gt;&gt;<i> &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:opensim-dev-
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>] On Behalf Of Teravus Ovares
</I>&gt;&gt;<i> &gt; Sent: Monday, 20 July 2009 9:27 AM
</I>&gt;&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; Subject: Re: [Opensim-dev] World map - map doesnt load on large grids
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Normally, the client requests things as they are scrolled on to,
</I>&gt;&gt;<i> &gt; however, in OSGrid's case, the regions are way outside the normal
</I>&gt;&gt;<i> &gt; space that the client is used to. &#160; &#160; Remember that 4096m bug that
</I>&gt;&gt;<i> &gt; causes regions to be a void space when you teleport? &#160; That also
</I>&gt;&gt;<i> &gt; applies to the map. &#160; &#160; In fact, on OSGrid, without a hack I created
</I>&gt;&gt;<i> &gt; for exactly that situation, the map doesn't display at all until you
</I>&gt;&gt;<i> &gt; click on a region space.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; A couple of potential solutions:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; 1. &#160;Move all regions within 4096 region block spaces.
</I>&gt;&gt;<i> &gt; 2. &#160;Expand the hack that I created so that it forces sending a
</I>&gt;&gt;<i> &gt; significantly larger amount of regions.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Regards
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Teravus
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Mon, Jul 20, 2009 at 11:31 AM, Frisby, Adam&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">adam at deepthink.com.au</A>&gt;
</I>&gt;&gt;<i> &gt; wrote:
</I>&gt;&gt;<i> &gt; &gt; Does anyone know what packets/messages the client requests as the
</I>&gt;&gt;<i> map
</I>&gt;&gt;<i> &gt; is
</I>&gt;&gt;<i> &gt; &gt; scrolled &amp; zoomed - right now, only the initial area is shown when
</I>&gt;&gt;<i> &gt; you load
</I>&gt;&gt;<i> &gt; &gt; the map. On OSGrid this represents like 10% of the total world map
</I>&gt;&gt;<i> &gt; being
</I>&gt;&gt;<i> &gt; &gt; visible.
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt; Adam
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; &gt; Opensim-dev mailing list
</I>&gt;&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; Opensim-dev mailing list
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007186.html">[Opensim-dev] World map - map doesnt load on large grids
</A></li>
	<LI>Next message: <A HREF="007188.html">[Opensim-dev] World map - map doesnt load on large grids
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7187">[ date ]</a>
              <a href="thread.html#7187">[ thread ]</a>
              <a href="subject.html#7187">[ subject ]</a>
              <a href="author.html#7187">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
