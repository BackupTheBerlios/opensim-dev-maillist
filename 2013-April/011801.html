<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Opensim-dev Digest, Vol 68,	Issue 11 RESONSE TO MESSAGE 3 from Justin
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2013-April/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Opensim-dev%20Digest%2C%20Vol%2068%2C%0A%09Issue%2011%20RESONSE%20TO%20MESSAGE%203%20from%20Justin&In-Reply-To=%3C000c01ce3d59%24ace2a000%2406a7e000%24%40com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011798.html">
   <LINK REL="Next"  HREF="011806.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Opensim-dev Digest, Vol 68,	Issue 11 RESONSE TO MESSAGE 3 from Justin</H1>
    <B>Dave Gubser</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Opensim-dev%20Digest%2C%20Vol%2068%2C%0A%09Issue%2011%20RESONSE%20TO%20MESSAGE%203%20from%20Justin&In-Reply-To=%3C000c01ce3d59%24ace2a000%2406a7e000%24%40com%3E"
       TITLE="[Opensim-dev] Opensim-dev Digest, Vol 68,	Issue 11 RESONSE TO MESSAGE 3 from Justin">gubser at dynacee.com
       </A><BR>
    <I>Sat Apr 20 01:57:38 CEST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="011798.html">[Opensim-dev] Opensim-dev Client-side NPC development update (youtube)
</A></li>
        <LI>Next message: <A HREF="011806.html">[Opensim-dev] GridInfoService Grid Message URI?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11801">[ date ]</a>
              <a href="thread.html#11801">[ thread ]</a>
              <a href="subject.html#11801">[ subject ]</a>
              <a href="author.html#11801">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings Justin,

	I was surprised as well (regarding the change to Coarse Location
Updates) and was just doing a &quot;once over&quot; to see if I missed some
configuration setting before ripping into the server code to see WHY the
bots were receiving scrambled/inaccurate data streams from the server, the
moment I added a 23 bot. (this was tested on several servers and OS versions
.7.3, .4, .5 etc to verify and I did multiple modifications to the bots
client side interface to request less frequent updates TO NO AVAIL).
Moding the ini file with 100 for the course update and bang, worked/works
great. The interface for the bots, obviously, doesn't need or use any real
graphical interface except to log them on and set tasks.
I thought modifying C.L.U. might effect the ability of the bots to learn to
zero in (bows/arrows..etc) but that was also not the case and proves your
statement regarding (no effect on anything but human viewer notification of
&quot;Dots&quot;.) Point: it does not screw up ballistic calcs or other timing in any
way that effects server responsiveness or information that might be time
sensitive for other calculations, that I could determine.
	
I was hoping, this simple solution might help someone else who might have
run into this same &quot;wall&quot; although , without diving into the server code and
hunting the dependencies down, I have no clue as to why the simple mod
works. BUT IT DOES :) and I as a human (uh...last time I checked) really
don't mind my browser mini-map only being updated every 2 seconds instead of
1. (occasionally, I get a nagging feeling that one day, I will be falling
into the pool of server code instead of occasionally dipping a toe in.)

Be well Justin,

Dave




-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-request at lists.berlios.de</A>
Sent: Friday, April 19, 2013 2:48 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Opensim-dev Digest, Vol 68, Issue 11

Send Opensim-dev mailing list submissions to
	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-request at lists.berlios.de</A>

You can reach the person managing the list at
	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-owner at lists.berlios.de</A>

When replying, please edit your Subject line so it is more specific than
&quot;Re: Contents of Opensim-dev digest...&quot;


Today's Topics:

   1. Re: Documentation for IClientNetworkServer (Sergiy Byelozyorov)
   2. Re: Documentation for IClientNetworkServer (Justin Clark-Casey)
   3. Re: Opensim-dev Client-side NPC development update (youtube)
      (Justin Clark-Casey)
   4. Re: AddRegion() not triggered (Justin Clark-Casey)


----------------------------------------------------------------------

Message: 1
Date: Fri, 19 Apr 2013 21:10:43 +0200
From: Sergiy Byelozyorov &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">rryk.ua at gmail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Documentation for IClientNetworkServer
Message-ID:
	&lt;CAHeh0keB2V9n=b_g8c32YmPUa46C8VC7ggqo7Vf=MMM6cUY8=<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">w at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

Thank you. This mailing list is in principle some kind of documentation. :-)

Btw, I have done some study of the LL protocol and wrote a small summary for
a few messages (that were logged by the server while a client has performed
a few simple actions such as walking and flying). I haven't found any
documentation on the protocol other than the one in the code, which is where
I have got the information from. Perhaps someone can use my research - where
can I post my study? Would be also great if I could update it as I will
continue to learn more about the protocol with time.


Sergiy


On Tue, Apr 16, 2013 at 11:06 PM, Justin Clark-Casey &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt; wrote:

&gt;<i> This is very old code, some of which was originally present for load 
</I>&gt;<i> balancing experiments which have long been defunct and the original 
</I>&gt;<i> coders unavailable.  Its purpose was also completely undocumented.  
</I>&gt;<i> Therefore, I have removed NetworkStop().
</I>&gt;<i>
</I>&gt;<i> As for AddScene, you can assume it will only be called once.  There is 
</I>&gt;<i> a mechanism in OpenSimBase which looks like it was intended as a 
</I>&gt;<i> bypass (presumably so that AddScene() could be called multiple times 
</I>&gt;<i> on a single INetworkClientServer).  But I believe this was again 
</I>&gt;<i> present for the above load balancing experiments and is effectively
</I>defunct.
&gt;<i>
</I>&gt;<i> I'm afraid no general documentation really exists for the client stack 
</I>&gt;<i> interfaces and mechanisms.  The best we can do is try and fill in the 
</I>&gt;<i> blanks on request.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 15/04/13 15:27, Sergiy Byelozyorov wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Also what's the difference between Stop and NetworkStop?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sergiy
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mon, Apr 15, 2013 at 4:21 PM, Sergiy Byelozyorov
</I>&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">rryk.ua at gmail.com</A>&lt;mailto:
&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">rryk.ua at gmail.com</A>&gt;&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I am implementing a new client network server class. Is there any 
</I>&gt;&gt;<i> documentation on IClientNetworkServer? In
</I>&gt;&gt;<i>     particular I am interested whether AddScene may be called several 
</I>&gt;&gt;<i> times or not.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Sergiy
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ______________________________**_________________
</I>&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists">https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists</A>
</I>&gt;&gt;<i> .berlios.de/mailman/listinfo/opensim-dev&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Justin Clark-Casey (justincc)
</I>&gt;<i> OSVW Consulting
</I>&gt;<i> <A HREF="http://justincc.org">http://justincc.org</A>
</I>&gt;<i> <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists.">https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists.</A>
</I>&gt;<i> berlios.de/mailman/listinfo/opensim-dev&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL:
&lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20130419/714c6b5">https://lists.berlios.de/pipermail/opensim-dev/attachments/20130419/714c6b5</A>
6/attachment-0001.html&gt;

------------------------------

Message: 2
Date: Fri, 19 Apr 2013 20:26:55 +0100
From: Justin Clark-Casey &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Documentation for IClientNetworkServer
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">51719A7F.3070308 at googlemail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

A great place to do this would be on new wiki page(s) linked from [1].
Please feel free just to create a wiki account and start editing!  I haven't
yet written up any general information the LL viewer-server protocol and it
would be great to have some.

Another place for protocol information might be the libomv wiki [2], though
on a (very) casual glance I don't see any protocol-level doc apart from the
auto-extracted UDP message templates.

The other sources of protocol information would be the LL wiki.

[1] <A HREF="http://opensimulator.org/wiki/Communication_Protocols">http://opensimulator.org/wiki/Communication_Protocols</A>
[2] <A HREF="http://lib.openmetaverse.org/wiki/Developer_Portal">http://lib.openmetaverse.org/wiki/Developer_Portal</A>

On 19/04/13 20:10, Sergiy Byelozyorov wrote:
&gt;<i> Thank you. This mailing list is in principle some kind of 
</I>&gt;<i> documentation. :-)
</I>&gt;<i>
</I>&gt;<i> Btw, I have done some study of the LL protocol and wrote a small 
</I>&gt;<i> summary for a few messages (that were logged by the server while a 
</I>&gt;<i> client has performed a few simple actions such as walking and flying). 
</I>&gt;<i> I haven't found any documentation on the protocol other than the one 
</I>&gt;<i> in the code, which is where I have got the information from. Perhaps
</I>someone can use my research - where can I post my study? Would be also great
if I could update it as I will continue to learn more about the protocol
with time.
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sergiy
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Apr 16, 2013 at 11:06 PM, Justin Clark-Casey
</I>&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt;&gt; wrote:
&gt;<i>
</I>&gt;<i>     This is very old code, some of which was originally present for load
</I>balancing experiments which have long been
&gt;<i>     defunct and the original coders unavailable.  Its purpose was also
</I>completely undocumented.  Therefore, I have
&gt;<i>     removed NetworkStop().
</I>&gt;<i>
</I>&gt;<i>     As for AddScene, you can assume it will only be called once.  There is
</I>a mechanism in OpenSimBase which looks like
&gt;<i>     it was intended as a bypass (presumably so that AddScene() could be
</I>called multiple times on a single
&gt;<i>     INetworkClientServer).  But I believe this was again present for the
</I>above load balancing experiments and is
&gt;<i>     effectively defunct.
</I>&gt;<i>
</I>&gt;<i>     I'm afraid no general documentation really exists for the client stack
</I>interfaces and mechanisms.  The best we can
&gt;<i>     do is try and fill in the blanks on request.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     On 15/04/13 15:27, Sergiy Byelozyorov wrote:
</I>&gt;<i>
</I>&gt;<i>         Also what's the difference between Stop and NetworkStop?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         Sergiy
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         On Mon, Apr 15, 2013 at 4:21 PM, Sergiy Byelozyorov
</I>&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">rryk.ua at gmail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">rryk.ua at gmail.com</A>&gt;
&gt;<i>         &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">rryk.ua at gmail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">rryk.ua at gmail.com</A>&gt;&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>              Hi,
</I>&gt;<i>
</I>&gt;<i>              I am implementing a new client network server class. Is there
</I>any documentation on IClientNetworkServer? In
&gt;<i>              particular I am interested whether AddScene may be called
</I>several times or not.
&gt;<i>
</I>&gt;<i>              Sergiy
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         _________________________________________________
</I>&gt;<i>         Opensim-dev mailing list
</I>&gt;<i>         <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>         <A HREF="https://lists.berlios.de/__mailman/listinfo/opensim-dev">https://lists.berlios.de/__mailman/listinfo/opensim-dev</A> 
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     --
</I>&gt;<i>     Justin Clark-Casey (justincc)
</I>&gt;<i>     OSVW Consulting
</I>&gt;<i>     <A HREF="http://justincc.org">http://justincc.org</A>
</I>&gt;<i>     <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;<i>     _________________________________________________
</I>&gt;<i>     Opensim-dev mailing list
</I>&gt;<i>     <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>     <A HREF="https://lists.berlios.de/__mailman/listinfo/opensim-dev">https://lists.berlios.de/__mailman/listinfo/opensim-dev</A> 
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>

--
Justin Clark-Casey (justincc)
OSVW Consulting
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>


------------------------------

Message: 3
Date: Fri, 19 Apr 2013 20:30:05 +0100
From: Justin Clark-Casey &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Opensim-dev Client-side NPC development
	update (youtube)
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">51719B3D.2050900 at googlemail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Coarse location updates are used by the viewer to display the avatar green
dots on the minimap.  Decreasing the 
frequency (by increasing n frames) simply means that human viewers will see
the minimap updating less frequently.

This is completely unrelated to the position updates that actually change
your 3D view of other avatars, so I'm 
surprised that increasing this value allows you to place more bots.

On 18/04/13 17:50, Dave Gubser wrote:
&gt;<i> NPCs and General Number of AVs in a sim:
</I>&gt;<i>
</I>&gt;<i> UpdateCoarseLocationsEveryNFrames in Opensimdefaults.ini (in the bin
</I>folder)
&gt;<i> I found, what appears to be a bottleneck related to the # of users in a
</I>&gt;<i> simulator/servers ability to update each users position (to each other).
</I>&gt;<i> Experimenting with over 22 NPC on my sims, generated missing or corrupted
</I>AV
&gt;<i> position information communications from the server. Adding the
</I>&gt;<i> UpdateCoarseLocationsEveryNFrames = 50 (experiment with values that work
</I>for
&gt;<i> you) allowed me to place 50 plus bots (all actually going someplace and
</I>&gt;<i> performing functions) on sims with this added line, modification. It also
</I>&gt;<i> appears to have no effect on any other part of the simulator. The question
</I>&gt;<i> being, by modifying my Opensim.ini with the line, am I going to break
</I>&gt;<i> something else?... some bad effect?
</I>&gt;<i> For fun, I included a Youtube vid of the latest npc updates:
</I>&gt;<i> <A HREF="http://www.youtube.com/watch?v=HxrdbV9OFYw">http://www.youtube.com/watch?v=HxrdbV9OFYw</A>
</I>&gt;<i> -Dave
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>
</I>&gt;<i> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-request at lists.berlios.de</A>
</I>&gt;<i> Sent: Thursday, April 18, 2013 3:00 AM
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;<i> Subject: Opensim-dev Digest, Vol 68, Issue 9
</I>&gt;<i>
</I>&gt;<i> Send Opensim-dev mailing list submissions to
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-request at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-owner at lists.berlios.de</A>
</I>&gt;<i>
</I>&gt;<i> When replying, please edit your Subject line so it is more specific than
</I>&gt;<i> &quot;Re: Contents of Opensim-dev digest...&quot;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Today's Topics:
</I>&gt;<i>
</I>&gt;<i>     1. Re: AddRegion() not triggered (FoTo50)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Wed, 17 Apr 2013 15:30:19 +0200
</I>&gt;<i> From: FoTo50 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">info at foto50.com</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;<i> Subject: Re: [Opensim-dev] AddRegion() not triggered
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">516EA3EB.5090701 at foto50.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;iso-8859-1&quot;; Format=&quot;flowed&quot;
</I>&gt;<i>
</I>&gt;<i> Hi Justin
</I>&gt;<i>
</I>&gt;<i> My other 2 modules (search and profile) do not run into this issue,
</I>&gt;<i> allthough they are more or less structured the same way. The money module
</I>is
&gt;<i> like all my others a shared module. When I add debug lines to the log, I
</I>can
&gt;<i> see it running through &quot;Initialise(IConfigSource source)&quot;
</I>&gt;<i> and then never hear/read anything of it anymore. Not AddRegion() or
</I>&gt;<i> RegionLoaded() or anything else ... and it either receives AddRegion for
</I>all
&gt;<i> regions or for none. When I check with &quot;show modules&quot; it tells me that it
</I>is
&gt;<i> not even loaded (running here 0.7.5 stable btw), allthough some custom
</I>&gt;<i> console commands of the module are working.
</I>&gt;<i>
</I>&gt;<i> Thanks for the hint with the log level of &quot;RegionModulesControllerPlugin&quot;.
</I>&gt;<i> Turning this to &quot;DEBUG&quot; I get sometimes a line (when it loads correctly)
</I>&gt;<i> like:
</I>&gt;<i>
</I>&gt;<i> DEBUG -
</I>&gt;<i>
</I>OpenSim.ApplicationPlugins.RegionModulesController.RegionModulesControllerPl
&gt;<i> ugin
</I>&gt;<i> [REGIONMODULE]: Deferred load of jOpenSimMoneyModule and a bit later then
</I>&gt;<i> DEBUG -
</I>&gt;<i>
</I>OpenSim.ApplicationPlugins.RegionModulesController.RegionModulesControllerPl
&gt;<i> ugin
</I>&gt;<i> [REGIONMODULE]: Adding scene testregion to shared module
</I>jOpenSimMoneyModule
&gt;<i> (deferred)
</I>&gt;<i>
</I>&gt;<i> ... but when it fails, it writes only the first one and then later it adds
</I>&gt;<i> the BetaGridLikeMoneyModule instead, allthough this should be disabled by
</I>&gt;<i> configuration in OpenSim.ini:
</I>&gt;<i>
</I>&gt;<i> [Startup]
</I>&gt;<i> ...
</I>&gt;<i> economymodule = jOpenSimMoneyModule
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> Also something &quot;interesting&quot;: once it failed to startup correct, it will
</I>&gt;<i> fail to startup correct most of time later at restart. Renaming the
</I>&gt;<i> containing folder helps sometimes ?!?!?
</I>&gt;<i>
</I>&gt;<i> Greetz
</I>&gt;<i> Georg
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Am 16.04.2013 22:37, schrieb Justin Clark-Casey:
</I>&gt;&gt;<i> I'm not sure what would cause this behaviour, since AddRegion() should
</I>&gt;&gt;<i> always be triggered on startup and if there was a general problem then
</I>&gt;&gt;<i> there would be many problems with core modules.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do any other modules suffer this issue?  Is this a shared or
</I>&gt;&gt;<i> non-shared module?  Does the module receive AddRegion for other
</I>&gt;&gt;<i> regions?  Does the module receive other events?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You can see more information on module startup if you change the
</I>&gt;&gt;<i> RegionModulesControllerPlugin log level in OpenSim.exe.config.  In
</I>&gt;&gt;<i> fairly recent dev versions of OpenSimulator there is also a &quot;show
</I>&gt;&gt;<i> modules&quot; command which will show loaded modules.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 16/04/13 16:01, FoTo50 wrote:
</I>&gt;&gt;&gt;<i> Hi
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Developing a third party (currency) module I run into some strange
</I>&gt;&gt;&gt;<i> behaviour. Sometimes AddRegion() is triggered at startup, sometimes
</I>&gt;&gt;&gt;<i> it is not triggered. Does somebody know what could cause this
</I>&gt;&gt;&gt;<i> behaviour? (running on several plattforms, but mostly under
</I>&gt;&gt;&gt;<i> linux/mono 2.10.8.1)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Greetz
</I>&gt;&gt;&gt;<i> FoTo50 alias Georg
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i>
</I>&lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20130417/d714da1">https://lists.berlios.de/pipermail/opensim-dev/attachments/20130417/d714da1</A>
&gt;<i> 3/attachment-0001.html&gt;
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>&gt;<i> End of Opensim-dev Digest, Vol 68, Issue 9
</I>&gt;<i> ******************************************
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>

-- 
Justin Clark-Casey (justincc)
OSVW Consulting
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>


------------------------------

Message: 4
Date: Fri, 19 Apr 2013 22:48:12 +0100
From: Justin Clark-Casey &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt;
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] AddRegion() not triggered
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">5171BB9C.7030408 at googlemail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

On 17/04/13 14:30, FoTo50 wrote:
&gt;<i> Hi Justin
</I>&gt;<i>
</I>&gt;<i> My other 2 modules (search and profile) do not run into this issue,
</I>allthough they are more or less structured the same
&gt;<i> way. The money module is like all my others a shared module. When I add
</I>debug lines to the log, I can see it running
&gt;<i> through &quot;Initialise(IConfigSource source)&quot; and then never hear/read
</I>anything of it anymore. Not AddRegion() or
&gt;<i> RegionLoaded() or anything else ... and it either receives AddRegion for
</I>all regions or for none. When I check with
&gt;<i> &quot;show modules&quot; it tells me that it is not even loaded (running here 0.7.5
</I>stable btw), allthough some custom console
&gt;<i> commands of the module are working.
</I>
Perhaps you could pastebin the module code if it's not confidential so we
can take a quick look (though personally I 
probably won't get a chance until Monday).

&gt;<i>
</I>&gt;<i> Thanks for the hint with the log level of &quot;RegionModulesControllerPlugin&quot;.
</I>Turning this to &quot;DEBUG&quot; I get sometimes a
&gt;<i> line (when it loads correctly) like:
</I>&gt;<i>
</I>&gt;<i> DEBUG -
</I>OpenSim.ApplicationPlugins.RegionModulesController.RegionModulesControllerPl
ugin [REGIONMODULE]: Deferred load
&gt;<i> of jOpenSimMoneyModule
</I>&gt;<i> and a bit later then
</I>&gt;<i> DEBUG -
</I>OpenSim.ApplicationPlugins.RegionModulesController.RegionModulesControllerPl
ugin [REGIONMODULE]: Adding scene
&gt;<i> testregion to shared module jOpenSimMoneyModule (deferred)
</I>&gt;<i>
</I>&gt;<i> ... but when it fails, it writes only the first one and then later it adds
</I>the BetaGridLikeMoneyModule instead,
&gt;<i> allthough this should be disabled by configuration in OpenSim.ini:
</I>
At the moment, by default OpenSimulator loads all modules even if they are
disabled in their individual configurations 
(e.g. by Enabled = false).  This is wasteful and confusing.  I believe there
is a mechanism for preventing load 
altogether but I haven't used it myself so I don't remember what it is (not
very useful, I know).  I will try and have a 
look next week.

&gt;<i>
</I>&gt;<i> [Startup]
</I>&gt;<i> ...
</I>&gt;<i> economymodule = jOpenSimMoneyModule
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> Also something &quot;interesting&quot;: once it failed to startup correct, it will
</I>fail to startup correct most of time later at
&gt;<i> restart. Renaming the containing folder helps sometimes ?!?!?
</I>
Perhaps the Mono addins cache is getting corrupted, even though we haven't
seen this for a long time.  You might want to 
try deleting bin/addin-db-001 before restarting if this happens.

&gt;<i>
</I>&gt;<i> Greetz
</I>&gt;<i> Georg
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Am 16.04.2013 22:37, schrieb Justin Clark-Casey:
</I>&gt;&gt;<i> I'm not sure what would cause this behaviour, since AddRegion() should
</I>always be triggered on startup and if there was
&gt;&gt;<i> a general problem then there would be many problems with core modules.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do any other modules suffer this issue?  Is this a shared or non-shared
</I>module?  Does the module receive AddRegion for
&gt;&gt;<i> other regions?  Does the module receive other events?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You can see more information on module startup if you change the
</I>RegionModulesControllerPlugin log level in
&gt;&gt;<i> OpenSim.exe.config.  In fairly recent dev versions of OpenSimulator there
</I>is also a &quot;show modules&quot; command which will
&gt;&gt;<i> show loaded modules.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 16/04/13 16:01, FoTo50 wrote:
</I>&gt;&gt;&gt;<i> Hi
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Developing a third party (currency) module I run into some strange
</I>behaviour. Sometimes AddRegion() is triggered at
&gt;&gt;&gt;<i> startup, sometimes it is not triggered. Does somebody know what could
</I>cause this behaviour? (running on several
&gt;&gt;&gt;<i> plattforms, but mostly under linux/mono 2.10.8.1)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Greetz
</I>&gt;&gt;&gt;<i> FoTo50 alias Georg
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>

-- 
Justin Clark-Casey (justincc)
OSVW Consulting
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>


------------------------------

_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>

End of Opensim-dev Digest, Vol 68, Issue 11
*******************************************

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011798.html">[Opensim-dev] Opensim-dev Client-side NPC development update (youtube)
</A></li>
	<LI>Next message: <A HREF="011806.html">[Opensim-dev] GridInfoService Grid Message URI?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11801">[ date ]</a>
              <a href="thread.html#11801">[ thread ]</a>
              <a href="subject.html#11801">[ subject ]</a>
              <a href="author.html#11801">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
