<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] User services refactoring status
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20User%20services%20refactoring%20status&In-Reply-To=%3C4B4210FB.40600%40metaverseink.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008146.html">
   <LINK REL="Next"  HREF="008150.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] User services refactoring status</H1>
    <B>diva at metaverseink.com</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20User%20services%20refactoring%20status&In-Reply-To=%3C4B4210FB.40600%40metaverseink.com%3E"
       TITLE="[Opensim-dev] User services refactoring status">diva at metaverseink.com
       </A><BR>
    <I>Mon Jan  4 17:02:03 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008146.html">[Opensim-dev] Mumble &amp; Voice
</A></li>
        <LI>Next message: <A HREF="008150.html">[Opensim-dev] User services refactoring status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8149">[ date ]</a>
              <a href="thread.html#8149">[ thread ]</a>
              <a href="subject.html#8149">[ subject ]</a>
              <a href="author.html#8149">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

Just an quick message to let you know about the status of the 
refactoring, and to ask for help in some parts.

Between Christmas and now, Melanie and I have re-engineered the way that 
OpenSim handles users, agents, and avatars, and the persistent data 
associated with all of these. This is the final push on the refactoring 
(and improvement) work that started back in May. This last piece of the 
work is being done in the branch presence-refactor.

There are several new services that correspond to breaking up the user 
server into smaller pieces, i.e. things that the user server already did 
but in very awkward manner. Namely: user accounts (it's just that, 
accounts), authentication (manages passwords, auth tokens and the like), 
presence (knows where agents are), avatar (manages the 'carcass') and 
friends (social net basics). All of these have been made fairly generic, 
and this will enable a whole new level of extending OpenSim. For 
example, strings are used in important identifiers instead of UUIDs.

Additionally, what was previously known as &quot;Interregion Comms&quot; (Local 
and REST) is now a simulation service provided by the sims. This last 
service makes agent transfers consistent throughout their existence -- 
login and TPs -- and allows for future alternative ways of driving agents.

ETA on merging this with master branch is next weekend. I think we're on 
track to have OpenSim 0.7 sometime in January. This will also allow us 
to start taking security seriously right after 0.7 is tagged.

I encourage you to check out the branch and, at least, look through 
OpenSim.Services.Interfaces, which now tell the story quite well. The 
really brave can try it out on test grids/standalones. (Please use test 
grids/DBs only for the time being!) Notice the configuration files which 
now have a lot more in them. NOTE: only works for MySQL at the moment.

This leads me to the asking-for-help part. The DB schema has changed 
substantially. We have been doing this with MySql. We need help to make 
the same changes to SQLite and MSSQL, if these are to be supported from 
here on. I know we can count on StrawberryFride to update the MSSQL 
connector. However, for SQLite... it has been falling through the 
cracks. There is already a show-stopper bug in it that makes the SQLite 
connector not work with mono 2.4.3 and higher 
(<A HREF="http://opensimulator.org/mantis/view.php?id=4463">http://opensimulator.org/mantis/view.php?id=4463</A>). Unless someone steps 
in and takes care of the SQLite connector, I'm afraid it will go the way 
of the dinosaurs.

Thanks!

Diva / Canto

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008146.html">[Opensim-dev] Mumble &amp; Voice
</A></li>
	<LI>Next message: <A HREF="008150.html">[Opensim-dev] User services refactoring status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8149">[ date ]</a>
              <a href="thread.html#8149">[ thread ]</a>
              <a href="subject.html#8149">[ subject ]</a>
              <a href="author.html#8149">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
