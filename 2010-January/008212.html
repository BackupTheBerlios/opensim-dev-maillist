<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] OGP module and the grand re-factor...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20OGP%20module%20and%20the%20grand%20re-factor...&In-Reply-To=%3CD96577CD-F380-48E7-9968-428C833A39DA%40ics.uci.edu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008210.html">
   <LINK REL="Next"  HREF="008213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] OGP module and the grand re-factor...</H1>
    <B>Cristina Videira Lopes</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20OGP%20module%20and%20the%20grand%20re-factor...&In-Reply-To=%3CD96577CD-F380-48E7-9968-428C833A39DA%40ics.uci.edu%3E"
       TITLE="[Opensim-dev] OGP module and the grand re-factor...">lopes at ics.uci.edu
       </A><BR>
    <I>Thu Jan  7 23:51:47 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008210.html">[Opensim-dev] OGP module and the grand re-factor...
</A></li>
        <LI>Next message: <A HREF="008213.html">[Opensim-dev] OGP module and the grand re-factor...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8212">[ date ]</a>
              <a href="thread.html#8212">[ thread ]</a>
              <a href="subject.html#8212">[ subject ]</a>
              <a href="author.html#8212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yep -- that is all part of protocol design, the fun part :)

With this new software architecture you can instantiate your handler  
with whatever service references you need, so you can do whatever  
additional functional bits you need for your protocol. For example, if  
you need to create/retrieve accounts, have your handler either get or  
create an IUserAccountService object.

When you get to this point in your rewrite, if you need help let me  
know, and I can explain better how to get service connectors to the  
handlers themselves.


On Jan 7, 2010, at 2:01 PM, David W Levine wrote:

&gt;<i>
</I>&gt;<i> There's an interesting thought lurking there. Some of these choices  
</I>&gt;<i> are going to be made by the grid builders,
</I>&gt;<i> not the protocol builders. I think, in a *lot* of cases, Meadhbh is  
</I>&gt;<i> right. The visiting avatar's home  grid will
</I>&gt;<i> be holding inventory and assets will be scattered on services as  
</I>&gt;<i> that grid (and possibly user) chooses.
</I>&gt;<i>
</I>&gt;<i> That said, nothing prevents a region from allowing its users to say  
</I>&gt;<i> &quot;Hey, Jacob <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">SillyAvatarName at Grid1.vwcompany.com</A>&quot;  should
</I>&gt;<i> be managed persistently here in a relationship with &quot;Jacob <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Smith at localGrid.vwfreegrid.org</A> 
</I>&gt;<i> &quot; my identity here. I'm strongly in favor
</I>&gt;<i> of delegating as many of these choices as possible to the grids, and  
</I>&gt;<i> the services they deploy and trying very hard to prejudge
</I>&gt;<i> what the grid creators and ultimately end users will want.
</I>&gt;<i>
</I>&gt;<i> - David / Zha
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> wrote on 01/07/2010 04:55:25 PM:
</I>&gt;<i>
</I>&gt;<i> &gt; [image removed]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Re: [Opensim-dev] OGP module and the grand re-factor...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Melanie
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; to:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; opensim-dev
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 01/07/2010 04:55 PM
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Sent by:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Please respond to opensim-dev
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; the other night, Meadhbh told me that the persistent accounts were
</I>&gt;<i> &gt; not intended. So that's cleared up.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Melanie
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cristina Videira Lopes wrote:
</I>&gt;<i> &gt; &gt; David,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; With this latest refactoring came the new Simulation service,
</I>&gt;<i> &gt; &gt; represented by ISimulationService. Please take a look at it. The  
</I>&gt;<i> data
</I>&gt;<i> &gt; &gt; structures that it currently takes for creating and updating  
</I>&gt;<i> agents
</I>&gt;<i> &gt; &gt; are still incomplete (one of them needs more data for foreign  
</I>&gt;<i> users),
</I>&gt;<i> &gt; &gt; but I think you'll get the idea very quickly. We may be able to  
</I>&gt;<i> come
</I>&gt;<i> &gt; &gt; up with the basic common data, and then have more specialized data
</I>&gt;<i> &gt; &gt; structures for each agent transfer protocol.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I took a look at the OGP module the other day, and it really  
</I>&gt;<i> looked to
</I>&gt;<i> &gt; &gt; me like it can be written as an alternative handler that receives/
</I>&gt;<i> &gt; &gt; sends the data from/to the wire using the specific protocol that  
</I>&gt;<i> you
</I>&gt;<i> &gt; &gt; guys have been cooking, but that calls the existing simulation  
</I>&gt;<i> service
</I>&gt;<i> &gt; &gt; exactly like the existing handler. The existing handler is in
</I>&gt;<i> &gt; &gt; OpenSim.Server.Handlers.Simulation.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; There were several important details that you obviously need to  
</I>&gt;<i> make
</I>&gt;<i> &gt; &gt; decisions upon, like -- do you really want to create a persistent
</I>&gt;<i> &gt; &gt; account for foreign users? etc. As I was about to do the rewrite  
</I>&gt;<i> of
</I>&gt;<i> &gt; &gt; that module for the new services, it was obvious that I couldn't  
</I>&gt;<i> make
</I>&gt;<i> &gt; &gt; that call, or I would be designing OGP myself :)
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; As I was hoping, I think this will be an excellent vehicle to  
</I>&gt;<i> discuss
</I>&gt;<i> &gt; &gt; similarities and differences between OGP and HG and any other  
</I>&gt;<i> agent
</I>&gt;<i> &gt; &gt; transfer protocols out there.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Crista / Diva
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; On Jan 7, 2010, at 1:29 PM, David W Levine wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; There's a more recent copy on the github repository linked to  
</I>&gt;<i> out of
</I>&gt;<i> &gt; &gt;&gt; gridforge. (gridforge still being SVN is... a wee challange)  The
</I>&gt;<i> &gt; &gt;&gt; tree there is a light fork off
</I>&gt;<i> &gt; &gt;&gt; of September.  There are a couple of changes which permit  
</I>&gt;<i> inventory
</I>&gt;<i> &gt; &gt;&gt; to run from caps hosted by the Agent Service in that tree, as  
</I>&gt;<i> well
</I>&gt;<i> &gt; &gt;&gt; as some code to manage
</I>&gt;<i> &gt; &gt;&gt; reflecting region inventory interactions to the Agent Service.
</I>&gt;<i> &gt; &gt;&gt; <A HREF="git://github.com/zekizeki/agentservice.git">git://github.com/zekizeki/agentservice.git</A>   That should be  
</I>&gt;<i> current.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; I've been giving the right way to sync up a bit of thought. I
</I>&gt;<i> &gt; &gt;&gt; suspect that the OGP module really wants to be built at a  
</I>&gt;<i> different
</I>&gt;<i> &gt; &gt;&gt; layer in the post re-factor world, probably
</I>&gt;<i> &gt; &gt;&gt; as a service, using the connectors to talk to the rest of the  
</I>&gt;<i> system
</I>&gt;<i> &gt; &gt;&gt; like any other well behaved component. The basic task of the OGP
</I>&gt;<i> &gt; &gt;&gt; code is to parse the request from
</I>&gt;<i> &gt; &gt;&gt; a remote Agent Service, decide whether to accept it or not, and
</I>&gt;<i> &gt; &gt;&gt; then, setup the region to welcome the client. Currently the OGP  
</I>&gt;<i> code
</I>&gt;<i> &gt; &gt;&gt; stuff things into the region with a bit
</I>&gt;<i> &gt; &gt;&gt; of a sledghammer. I'd think doing it properly, with connectors  
</I>&gt;<i> would
</I>&gt;<i> &gt; &gt;&gt; be much nicer for everyone, and isolate the code properly. I  
</I>&gt;<i> suspect
</I>&gt;<i> &gt; &gt;&gt; the biggest tricky bit is whether
</I>&gt;<i> &gt; &gt;&gt; the right bits are exposed to have the region ready to talk to  
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt;&gt; client with the right agentID, secure Circuit ID, and a properly
</I>&gt;<i> &gt; &gt;&gt; setup user agent to match. I'll start looking
</I>&gt;<i> &gt; &gt;&gt; at that in the current connector code.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; Overall, the connector approach, and getting as many of the  
</I>&gt;<i> services
</I>&gt;<i> &gt; &gt;&gt; decoupled is clearly the way to go, especially, if we want to  
</I>&gt;<i> allow
</I>&gt;<i> &gt; &gt;&gt; everyone to explore a range of
</I>&gt;<i> &gt; &gt;&gt; messaging, inventory and asset serving models over the next  
</I>&gt;<i> chunk of
</I>&gt;<i> &gt; &gt;&gt; grid evolution. I'm hopeful we can start getting some really  
</I>&gt;<i> useful
</I>&gt;<i> &gt; &gt;&gt; evolution to happen pairwise in the
</I>&gt;<i> &gt; &gt;&gt; clients and the services this year, which should make everyone's
</I>&gt;<i> &gt; &gt;&gt; life more flexible.
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; - David
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> wrote on 01/06/2010  
</I>&gt;<i> 01:14:32 PM:
</I>&gt;<i> &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; [image removed]
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; Re: [Opensim-dev] OGP module and the grand re-factor...
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; diva
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; to:
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; opensim-dev
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; 01/06/2010 01:14 PM
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; Sent by:
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; Please respond to diva, opensim-dev
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; Hi David,
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; First question is: what's the most updated version of OGP? Is  
</I>&gt;<i> it
</I>&gt;<i> &gt; &gt;&gt; what's
</I>&gt;<i> &gt; &gt;&gt; &gt; currently in the core distro, or do you have something more  
</I>&gt;<i> recent
</I>&gt;<i> &gt; &gt;&gt; &gt; somewhere else?
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; Diva / Crista
</I>&gt;<i> &gt; &gt;&gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; David W Levine wrote:
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; I gather the current grand refactoring is washing up on the
</I>&gt;<i> &gt; &gt;&gt; shores of
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; the OGP module (which is hardly surprising) So, I'll raise my
</I>&gt;<i> &gt; &gt;&gt; hand and
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; say &quot;I'll make sure it gets sorted out&quot; I gather Melanie and
</I>&gt;<i> &gt; &gt;&gt; DIva are
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; looking
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; for that hand raise, so here it is. Since I'm also about to  
</I>&gt;<i> look
</I>&gt;<i> &gt; &gt;&gt; at
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; adding in X.509 based counterpart validation to the code this
</I>&gt;<i> &gt; &gt;&gt; month,
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; I'll be in there anyway. So... Lets sort out what's needed to
</I>&gt;<i> &gt; &gt;&gt; make this
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; as painless as
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; possible for everyone.
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; - David / Zha
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt;  
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt; &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt; &gt;&gt; Opensim-dev mailing list
</I>&gt;<i> &gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20100107/b1d921fd/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20100107/b1d921fd/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008210.html">[Opensim-dev] OGP module and the grand re-factor...
</A></li>
	<LI>Next message: <A HREF="008213.html">[Opensim-dev] OGP module and the grand re-factor...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8212">[ date ]</a>
              <a href="thread.html#8212">[ thread ]</a>
              <a href="subject.html#8212">[ subject ]</a>
              <a href="author.html#8212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
