<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Kudos MW
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Kudos%20MW&In-Reply-To=%3C170fa1780906290804g75a2cc33t16bc88e44c1a9021%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006912.html">
   <LINK REL="Next"  HREF="006914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Kudos MW</H1>
    <B>James Stallings II</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Kudos%20MW&In-Reply-To=%3C170fa1780906290804g75a2cc33t16bc88e44c1a9021%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] Kudos MW">james.stallings at gmail.com
       </A><BR>
    <I>Mon Jun 29 17:04:25 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006912.html">[Opensim-dev] Default Avatar Script
</A></li>
        <LI>Next message: <A HREF="006914.html">[Opensim-dev] explanation of services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6913">[ date ]</a>
              <a href="thread.html#6913">[ thread ]</a>
              <a href="subject.html#6913">[ subject ]</a>
              <a href="author.html#6913">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Greetings, List,

Just wanted to take the opportunity to give the OpenSim dev team a robust
pat on the back, an attaboy, a wtg peeps, a standing ovation, and most
importantly the heartfelt thanks and admiration  of myself and my colleagues
on the OSGrid management team, for the work reflected in the last 50 or so
svn revisions; not to take anything away from the 9900 or so prior revs
*winks* but these last 50 or so include some that have positively impact
performance and stability in profound ways.



Some that come immediately to mind as contributing to the improvement:

r9951: MW
Removed the List&lt;NewForce&gt; m_forceList from ScenePresence, as there wasn't
any need for a list, as only the last entry in it was acted on. So it now
has a single NewForce m_nextVelocity , which is updated (rather than a
NewForce object being created every AgentUpdate). So as well as cutting out
all the adds and clearing of the list, it also removes the creation of upto
100+ new objects per second per avatar.


r9934: Dr Scofield for Allan Webb

After noticing on several occasions that the thread counts
we see when running OpenSIm were bordering on the astronomical
I decided to seriously investigate.

After much poking I discovered that the problem is actually very
simple. The XEngine secition of the example ini says that the
timeout for an iden thread is in seconds, and an example value
of 60 is specified. In fact, this is actually resulting in a 60mS
idle timeout, which is not normally enough for a smart thread
to survive. I have added a multiplier to the XEngine constructor
so that the number now matches the published behavior.


r9925-9938: Dr Scofield

MUCH work to streamline and optimize packet-handling code

r9924: Dr Scofield for Alan Webb

Nice patch to streamline and optimize texture processing

...and many more :)

We have seen available memory on our linux plaza boxes go from ~380MB as of
~r9940 to a little over 1GB since updating to r9952.

There's still a few problems - Lbsa Plaza was not accepting logins this
morning, but it was still running - and that after a dozen hours straight of
high-traffic uptime. This is a serious improvement, as we have been seeing
sim crashes there on a nearly hourly basis in recent times.

Thanks Y'all :D

Keep up the good fight :D

Cheers!

James
aka Hiro_P/daTwitch/Hiro Protagonist

-- 
===================================
<A HREF="http://osgrid.org">http://osgrid.org</A>
<A HREF="http://del.icio.us/SPQR">http://del.icio.us/SPQR</A>
<A HREF="http://twitter.com/jstallings2">http://twitter.com/jstallings2</A>
<A HREF="http://www.linkedin.com/pub/5/770/a49">http://www.linkedin.com/pub/5/770/a49</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20090629/2ba69d63/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20090629/2ba69d63/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006912.html">[Opensim-dev] Default Avatar Script
</A></li>
	<LI>Next message: <A HREF="006914.html">[Opensim-dev] explanation of services
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6913">[ date ]</a>
              <a href="thread.html#6913">[ thread ]</a>
              <a href="subject.html#6913">[ subject ]</a>
              <a href="author.html#6913">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
