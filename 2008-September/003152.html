<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Questions about attachment point and offset
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Questions%20about%20attachment%20point%20and%20offset&In-Reply-To=%3C34cc66250809290124n3fb10ff4xd5847f7bbf61aba1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003151.html">
   <LINK REL="Next"  HREF="003157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Questions about attachment point and offset</H1>
    <B>Teravus Ovares</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Questions%20about%20attachment%20point%20and%20offset&In-Reply-To=%3C34cc66250809290124n3fb10ff4xd5847f7bbf61aba1%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] Questions about attachment point and offset">teravus at gmail.com
       </A><BR>
    <I>Mon Sep 29 10:24:28 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003151.html">[Opensim-dev] Questions about attachment point and offset
</A></li>
        <LI>Next message: <A HREF="003157.html">[Opensim-dev] Questions about attachment point and offset
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3152">[ date ]</a>
              <a href="thread.html#3152">[ thread ]</a>
              <a href="subject.html#3152">[ subject ]</a>
              <a href="author.html#3152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1.  Shape.State is where the data is saved in the object itself.  It's
saved there because there are 'other things' that go there as well..
like the Tree type.  It also gets persisted.   Attachment point is
not.  Do you want to keep picking the attachment point when wearing an
item, or do you want it to remember?

2. ??
3. ??
4. Because you don't look at the asset table alone ever.   You always
look at it in the context of an inventory item.   There could be many
inventory items referring to the same asset. (but in practice this is
rarely the case)
5.  Yes.  If you have it in SceneObjectGroup, there's actually a
method to call to determine if it's an attachment for you.
6.  Technically, you could pull out the asset data from the assets
table, decode it, and search for prim with a State that is nonzero and
a pcode = [to the enum value PCode.Prim]


On 9/28/08, Tao YANG (GMAIL) &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">thomas.tao.yang at gmail.com</A>&gt; wrote:
&gt;<i> Hi everyone,
</I>&gt;<i>
</I>&gt;<i> Could anyone kindly answer the following questions?
</I>&gt;<i>
</I>&gt;<i> 1. Why attachment point is saved in both &quot;avatarattachments&quot; table and
</I>&gt;<i> &quot;SceneObjectGroup.m_rootPart.Shape.State&quot; at the same time
</I>&gt;<i> 2. Why the one saved in &quot;avatarattachments&quot; table is used when avatar logs
</I>&gt;<i> in?
</I>&gt;<i> 3. Why the one saved in
</I>&gt;<i> &quot;SceneObjectGroup.m_rootPart.Shape.State&quot; when &quot;wear&quot;?
</I>&gt;<i>
</I>&gt;<i> 4. Why attachment offset is not saved in &quot;avatarattachments&quot; table
</I>&gt;<i>     but &quot;SceneObjectGroup.m_rootPart.GroupPosition&quot;, which
</I>&gt;<i> is converted to &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot; sub-elements of &quot;GroupPosition&quot; element in the
</I>&gt;<i> &quot;data&quot; filed of &quot;assets&quot; table?
</I>&gt;<i> 5. Is &quot;SceneObjectGroup.AbsolutePosition&quot; used as
</I>&gt;<i> attachment offset when a prim is attached?
</I>&gt;<i> 6. If the anser of Q.5 is &quot;YES&quot;, how to know whether the prim is attached or
</I>&gt;<i> not when reading &quot;data&quot; from &quot;assets&quot; table?
</I>&gt;<i>
</I>&gt;<i> Thanks in advance
</I>&gt;<i> Thomas
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003151.html">[Opensim-dev] Questions about attachment point and offset
</A></li>
	<LI>Next message: <A HREF="003157.html">[Opensim-dev] Questions about attachment point and offset
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3152">[ date ]</a>
              <a href="thread.html#3152">[ thread ]</a>
              <a href="subject.html#3152">[ subject ]</a>
              <a href="author.html#3152">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
