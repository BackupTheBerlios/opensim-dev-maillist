<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Thoughts on adding a generic key-value storage system	to OpenSim?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Thoughts%20on%20adding%20a%20generic%20key-value%20storage%0A%20system%09to%20OpenSim%3F&In-Reply-To=%3C62BFE5680C037E4DA0B0A08946C0933D96898CA7%40rrsmsx506.amr.corp.intel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007602.html">
   <LINK REL="Next"  HREF="007607.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Thoughts on adding a generic key-value storage system	to OpenSim?</H1>
    <B>Hurliman, John</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Thoughts%20on%20adding%20a%20generic%20key-value%20storage%0A%20system%09to%20OpenSim%3F&In-Reply-To=%3C62BFE5680C037E4DA0B0A08946C0933D96898CA7%40rrsmsx506.amr.corp.intel.com%3E"
       TITLE="[Opensim-dev] Thoughts on adding a generic key-value storage system	to OpenSim?">john.hurliman at intel.com
       </A><BR>
    <I>Mon Sep 21 22:05:17 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007602.html">[Opensim-dev] Thoughts on adding a generic key-value storage system	to OpenSim?
</A></li>
        <LI>Next message: <A HREF="007607.html">[Opensim-dev] Thoughts on adding a generic key-value storage system	to OpenSim?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7605">[ date ]</a>
              <a href="thread.html#7605">[ thread ]</a>
              <a href="subject.html#7605">[ subject ]</a>
              <a href="author.html#7605">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Formatting got messed up, that should have looked like this:

// returns true if the key was found and data was updated, otherwise false if a new key row was added
bool AddOrUpdateKeyValue(string context, string key, string value);

// returns true if the key was found and deleted
bool DeleteKeyValue(string context, string key);

// returns the string value if the key was found, otherwise null
string GetValue(string context, string key);

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Hurliman, John
Sent: Monday, September 21, 2009 12:54 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: [Opensim-dev] Thoughts on adding a generic key-value storage system to OpenSim?

A lot of the work going into OpenSim recently has been modularizing the codebase and making it easy for third party developers to write plugins. One feature that I think would really complete the picture would be a (simple) generic data storage interface that leveraged the existing OpenSim storage framework. Most plugins I've seen (and wrote) currently tack on their own database tables, use a simple text file with a custom format, or use some other means of data storage that does not match up with the rest of OpenSim. Adding a new database table that had three columns: [context, key, value] would allow plugins to store key/value mappings (string to string) without worrying about data collisions between plugins or having to implement a custom data store every time.

// returns true if the key was found and data was updated, otherwise false if a new key row was added
bool AddOrUpdateKeyValue(string context, string key, string value);
// returns true if the key was found and deleted
bool DeleteKeyValue(string context, string key);
// returns the string value if the key was found, otherwise null
string GetValue(string context, string key);

Although I've been writing extensions for the OpenSim codebase for quite a while, I'm still fairly new to the guts of the system. Does this seem like the correct solution? If so, where would this interface go? I'm happy to write the code to implement this, I just want feedback from the dev community first to see if I'm on track.

John
_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007602.html">[Opensim-dev] Thoughts on adding a generic key-value storage system	to OpenSim?
</A></li>
	<LI>Next message: <A HREF="007607.html">[Opensim-dev] Thoughts on adding a generic key-value storage system	to OpenSim?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7605">[ date ]</a>
              <a href="thread.html#7605">[ thread ]</a>
              <a href="subject.html#7605">[ subject ]</a>
              <a href="author.html#7605">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
