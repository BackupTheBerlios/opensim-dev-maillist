<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] creating some Asset
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20creating%20some%20Asset&In-Reply-To=%3C3E3A2EE732BD4C9D884E2911A1D7DFBC%40mmstsystems.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007503.html">
   <LINK REL="Next"  HREF="007523.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] creating some Asset</H1>
    <B>Daniel Herzog</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20creating%20some%20Asset&In-Reply-To=%3C3E3A2EE732BD4C9D884E2911A1D7DFBC%40mmstsystems.de%3E"
       TITLE="[Opensim-dev] creating some Asset">dhe at mms-dresden.de
       </A><BR>
    <I>Tue Sep  8 19:13:33 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007503.html">[Opensim-dev] Load OAR and on_rez
</A></li>
        <LI>Next message: <A HREF="007523.html">[Opensim-dev] creating some Asset
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7504">[ date ]</a>
              <a href="thread.html#7504">[ thread ]</a>
              <a href="subject.html#7504">[ subject ]</a>
              <a href="author.html#7504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

 

I'm trying to map a picture stored in an image file to a texture situated on
a prim in Opensim via code. For that reason I have looked to the
osMakeNotecard() function in OSSL_Api.cs to get an overview which steps are
needed to upload an object to an inventory.

 

The first thing they do is to create an AssetBase followed by a
TaskInventoryItem that could be added to the inventory of the specified
prim. For me it seems that the AssetBase object has the data of the object
that should be added (for me: the data of the image) and is connected with
the TaskInventoryItem in the next step. 

 

To get started, I have created an AssetBase object as well as an
TaskInventoryItem as shown in the osMakeNotecard function. To fill my
AssetBase object with some data, I have used the LoadAsset function found in
AssetLoadeFileSystem.cs (in addition I have also tried to get the data of an
image file with the function shown below). As a result I see the new
TaskItem in the inventory list of my prim as an image but unfortunately with
no content. What might be the reason for that empty image?

 

Furthermore, is this the right way by creating an AssetBase and a
TaskInventoryItem to get an image on a prim via code? Are there any other
possibilities?

 

Thanks in advance,

Daniel

 

-----------------------------------------------

 

private byte[] BildToByteArray(Image Bild,
System.Drawing.Imaging.ImageFormat Bildformat)

        {

            MemoryStream IS = new MemoryStream();

            Bild.Save(IS, Bildformat);

            IS.Flush();

            return IS.ToArray();

       }

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20090908/90389ce0/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20090908/90389ce0/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007503.html">[Opensim-dev] Load OAR and on_rez
</A></li>
	<LI>Next message: <A HREF="007523.html">[Opensim-dev] creating some Asset
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7504">[ date ]</a>
              <a href="thread.html#7504">[ thread ]</a>
              <a href="subject.html#7504">[ subject ]</a>
              <a href="author.html#7504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
