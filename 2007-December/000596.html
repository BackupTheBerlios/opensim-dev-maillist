<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Partial libSL.Packet fix submitted
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Partial%20libSL.Packet%20fix%20submitted&In-Reply-To=%3C1198130102.9568.9.camel%403Di0018n%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000595.html">
   <LINK REL="Next"  HREF="000597.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Partial libSL.Packet fix submitted</H1>
    <B>Johan Berntsson</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Partial%20libSL.Packet%20fix%20submitted&In-Reply-To=%3C1198130102.9568.9.camel%403Di0018n%3E"
       TITLE="[Opensim-dev] Partial libSL.Packet fix submitted">johan at ngigroup.com
       </A><BR>
    <I>Thu Dec 20 06:55:02 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000595.html">[Opensim-dev] Why we shouldnt support Estates
</A></li>
        <LI>Next message: <A HREF="000597.html">[Opensim-dev] Partial libSL.Packet fix submitted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#596">[ date ]</a>
              <a href="thread.html#596">[ thread ]</a>
              <a href="subject.html#596">[ subject ]</a>
              <a href="author.html#596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>From the IRC:
</I>
02:44:09 PM) CIA-1: opensim: chi11ken * r2765 /trunk/ (43 files in 20
dirs): Added patch from Johan. First attempt to solve the LibSL.Packet
GC problem. Works with LibSL rev&gt;1532
(02:50:40 PM) joha2: The patch implements a PacketPool (currently in
UPDServer.cs) which recycles packages. It is used by all incoming
packets, and the RegionHandshakePacket, and can easily be extended to
all outgoing packages later. I have submitted a libSL patch which is
included from rev. 1532, but the libsecondlife.dll version in OpenSim is
based on rev 1498 with these files from the later version
(mapgenerator.cs, Types.cs, template.cs). Rev. 1532 compiles and works,
but the avatar's clothes are gray, so something is wrong. I don't think
this is caused by my changes, but by other changes in LibSL, and I'm
hoping that someone can figure out what's wrong. Until then 1498 + the
patched files from 1532 should be ok.
---
I will need to expand the fix to work for all packets and do performance
testing to verify that it works better, but this should work for now.

Cheers,
Johan



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000595.html">[Opensim-dev] Why we shouldnt support Estates
</A></li>
	<LI>Next message: <A HREF="000597.html">[Opensim-dev] Partial libSL.Packet fix submitted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#596">[ date ]</a>
              <a href="thread.html#596">[ thread ]</a>
              <a href="subject.html#596">[ subject ]</a>
              <a href="author.html#596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
