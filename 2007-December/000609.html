<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Automated Testing
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Automated%20Testing&In-Reply-To=%3CBLU134-W209CC0C0A08B2D594088BDD55D0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000607.html">
   <LINK REL="Next"  HREF="000569.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Automated Testing</H1>
    <B>Stefan Andersson</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Automated%20Testing&In-Reply-To=%3CBLU134-W209CC0C0A08B2D594088BDD55D0%40phx.gbl%3E"
       TITLE="[Opensim-dev] Automated Testing">stefan at tribalmedia.se
       </A><BR>
    <I>Thu Dec 20 14:16:05 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000607.html">[Opensim-dev] Automated Testing
</A></li>
        <LI>Next message: <A HREF="000569.html">[Opensim-dev] Automated Testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#609">[ date ]</a>
              <a href="thread.html#609">[ thread ]</a>
              <a href="subject.html#609">[ subject ]</a>
              <a href="author.html#609">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> As well as some of the points below (most of which I very much agree &gt; with), I would like to say that if we are to introduce unit tests, we &gt; should also seriously consider introducing continuous integration (as &gt; Gerikes is probably talking about below), where a machine rebuilds on &gt; every code change, runs the tests, and then publishes the results to the &gt; website. If any test fails we'll know at the point of breakage. If we &gt; have a culture of fixing broken tests immediately, this should enhance &gt; stability.
</I>Yes, we actually had CI up and running on our old server, but when we moved I guess we never took it up.
 
+1 on CI (duh) it's a great tool and minimizes the 'shit-nobody-ran-tests-for-a-week-and-now-everything's-red-and-I-don't-have-the-time-to-fix' factor.
 
&gt;<i> &gt; #3) Anyone should be allowed to throw away a test that they don't &gt; &gt; understand well enough to change.&gt; To me, this sounds like an excuse to ignore testing code. If the test &gt; works and passes (and doesn't test too much) then it should be &gt; understandable. Perhaps you're right, but I think the bar should be set &gt; high for this action.
</I> 
It's the 'and doesn't test too much' that tend to be the problem. But yeah, chucking a test isn't something that should be done on a whim. What I mean is that bad tests should be weeded out; tests should evolve just as much as the code it's testing. In most cases, you'd probably just narrow the test down, not throw it away completely.
 
I have spend too much time pulling my hair over overly complicated tests that don't explain anything about what's gone wrong if they're red to put up with that.
 
Also, we can never set testing as a policy in this project, so it has to be something people do out of their own needs.
&gt;<i> &gt; #1) The more classes involved, the more the test will hinder &gt; &gt; effortless refactoring, as when moving functions from one place &gt; &gt; to another. The tests themselves become 'couplers'&gt; True. IDEs like Java ameliorate this (through their extensive &gt; refactoring support), but this becomes more difficult without such &gt; support - perhaps the non-free editions of Visual Studio have good &gt; support but the free one doesn't appear to, and there's not all that &gt; much in SharpDevelop or MonoDevelop). Hopefully with loose coupling &gt; this won't be quite such a problem.
</I> 
Well, both me and MW are on VS200x with ReSharper, so we're VERY automated, which makes us rather itchy about things getting in the way for smooth refactorings.
&gt;<i> &gt; #3) Test should make you faster, not slower. If changing the code &gt; &gt; becomes difficult because of a test, the test should go, not the &gt; &gt; change. Either chuck the test, or narrow its scope.&gt; I think that tests, with continuous integration, would also enhance &gt; stability. I've already seen a number of instances where working &gt; OpenSim functionality has been broken by subsequent changes.
</I> 
Definitively; the regression bit is a sad affair in this project. Almost every major contribution breaks something else somewhere, which will make it VERY cumbersome to use this platform for commercial purposes. We will all have to do our own test-cycles before putting new code into production.
 
That will be a very inefficient situation.
/Stefan
 
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20071220/df5489ec/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20071220/df5489ec/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000607.html">[Opensim-dev] Automated Testing
</A></li>
	<LI>Next message: <A HREF="000569.html">[Opensim-dev] Automated Testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#609">[ date ]</a>
              <a href="thread.html#609">[ thread ]</a>
              <a href="subject.html#609">[ subject ]</a>
              <a href="author.html#609">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
