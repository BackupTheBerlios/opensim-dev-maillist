<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Partial libSL.Packet fix submitted
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2007-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Partial%20libSL.Packet%20fix%20submitted&In-Reply-To=%3C476A4621.6030107%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000599.html">
   <LINK REL="Next"  HREF="000610.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Partial libSL.Packet fix submitted</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Partial%20libSL.Packet%20fix%20submitted&In-Reply-To=%3C476A4621.6030107%40googlemail.com%3E"
       TITLE="[Opensim-dev] Partial libSL.Packet fix submitted">jjustincc at googlemail.com
       </A><BR>
    <I>Thu Dec 20 11:38:25 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000599.html">[Opensim-dev] Partial libSL.Packet fix submitted
</A></li>
        <LI>Next message: <A HREF="000610.html">[Opensim-dev] Partial libSL.Packet fix submitted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#603">[ date ]</a>
              <a href="thread.html#603">[ thread ]</a>
              <a href="subject.html#603">[ subject ]</a>
              <a href="author.html#603">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Johan Berntsson wrote:
&gt;<i> This problem is not caused by my work, but of changes in later versions
</I>&gt;<i> of LibSL. It has changed from using ToString (unhyphenated) and
</I>&gt;<i> ToStringHyphenated(), to only using ToString() (hyphenated). This means
</I>&gt;<i> that there is no way of getting an unhyphenated string from libSL
</I>&gt;<i> anymore. I changed all instances of  ToStringHyphenated() in OpenSim to
</I>&gt;<i> ToString(), but I didn't realize that there would be a problem with
</I>&gt;<i> plain ToString() calls.
</I>&gt;<i>
</I>&gt;<i> The basic problem is that we are relying on a libSL behaviour that is
</I>&gt;<i> outside our control, and has changed. If we want to keep up to date with
</I>&gt;<i> libSL I suggest that the problem is solved.
</I>&gt;<i>
</I>&gt;<i> Possible solutions:
</I>&gt;<i> 1. Identify the problematic ToString() calls and use a utility function
</I>&gt;<i> (Util.ConvertToUnhyphentated) to fix them like before.
</I>&gt;<i> 2. Write scripts to update the current databases to use hyphenated
</I>&gt;<i> GUID:s
</I>&gt;<i> 3. Change the code not to use ToString at all.
</I>&gt;<i>
</I>&gt;<i> I prefer option 3, and to be compatible it could output unhyphenated
</I>&gt;<i> GUIDs. At least this means that we won't have problems every time libSL
</I>&gt;<i> is refactored (and ToString is meant as a debug tool, not as a provider
</I>&gt;<i> of keys to a database)
</I>&gt;<i>   
</I>Is there any chance that, if asked, the LibSL folks would add extra 
methods such as

ToGuidString()
ToGuidHyphenatedString()

?  We would still be relying on LibSL but with explicitly named and 
purposed methods such as these rather than ToString(), I would hope 
no-notice refactoring would be much less likely.

If necessary, we could then migrate to our own methods at our leisure 
(after patching all the string calls to use these two methods).

Even if they won't do this, we could patch their code in the meantime 
for these methods (I doubt that would be very complicated) if migrating 
now would be considerable and destablizing work (in light of 0.5).

Regards,

--
justincc

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000599.html">[Opensim-dev] Partial libSL.Packet fix submitted
</A></li>
	<LI>Next message: <A HREF="000610.html">[Opensim-dev] Partial libSL.Packet fix submitted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#603">[ date ]</a>
              <a href="thread.html#603">[ thread ]</a>
              <a href="subject.html#603">[ subject ]</a>
              <a href="author.html#603">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
