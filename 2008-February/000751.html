<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Opensim-dev Digest, Vol 6, Issue 5
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Opensim-dev%20Digest%2C%20Vol%206%2C%20Issue%205&In-Reply-To=%3C002901c8671e%2440342c60%24c09c8520%24%40com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000750.html">
   <LINK REL="Next"  HREF="000752.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Opensim-dev Digest, Vol 6, Issue 5</H1>
    <B>Sakai Openlife</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Opensim-dev%20Digest%2C%20Vol%206%2C%20Issue%205&In-Reply-To=%3C002901c8671e%2440342c60%24c09c8520%24%40com%3E"
       TITLE="[Opensim-dev] Opensim-dev Digest, Vol 6, Issue 5">sakai at openlifegrid.com
       </A><BR>
    <I>Mon Feb  4 12:08:16 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000750.html">[Opensim-dev] Search server DB schema
</A></li>
        <LI>Next message: <A HREF="000752.html">[Opensim-dev] Opensim-dev Digest, Vol 6, Issue 5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#751">[ date ]</a>
              <a href="thread.html#751">[ thread ]</a>
              <a href="subject.html#751">[ subject ]</a>
              <a href="author.html#751">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think this search idea also re-inforces my earlier call (already in
Mantis) that parcel data should be held grid side. Rather than the current
position of in the local prim store. 

However the option of it being local should still be there as not every
application of the OpenSimulator will be an 'SL Like' style Grid.&lt;-Perhaps
flagged in the .ini

It may also be beneficial to have a 'parcel' just for handling this things
much like we have a grid server, as not to overwhelm existing services such
as GRID or USER.

Sakai Openlife

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>
[mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-request at lists.berlios.de</A>
Sent: Monday, 4 February 2008 9:02 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Opensim-dev Digest, Vol 6, Issue 5

Send Opensim-dev mailing list submissions to
	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>

To subscribe or unsubscribe via the World Wide Web, visit
	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
or, via email, send a message with subject or body 'help' to
	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-request at lists.berlios.de</A>

You can reach the person managing the list at
	<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-owner at lists.berlios.de</A>

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of Opensim-dev digest...&quot;


Today's Topics:

   1. Search server DB schema (David Wendt JR.)
   2. Re: Search server DB schema (Justin Clark-Casey)
   3. Re: Search server DB schema (Dalien Talbot)


----------------------------------------------------------------------

Message: 1
Date: Sun, 3 Feb 2008 10:19:35 -0800 (PST)
From: &quot;David Wendt JR.&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">dcrkid at yahoo.com</A>&gt;
Subject: [Opensim-dev] Search server DB schema
To: Opensim-dev mailing list &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>&gt;
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">171180.25639.qm at web58314.mail.re3.yahoo.com</A>&gt;
Content-Type: text/plain; charset=&quot;us-ascii&quot;

Hello, OpenSim developers.

    I have recently taken up OpenSim development. I'm writing plugins to
allow Search to work. I need your opinion on a database schema for storing
the indexed search information for a hypothetical (so far) new grid service
&quot;SearchServer&quot;.

    I figure out for searching &quot;Places&quot;, &quot;Popular Places&quot;, and &quot;Land Sales&quot;
we will need the following fields: Parcel UUID, Name, Description, LandArea,
Traffic, Region UUID, Region Maturity Flag, Region Parent Estate ID, Loc X,
Loc Y, Loc Z, Image UUID, ForSaleStatus, Category, ForSalePrice, AuctionID,
Owner UUID, OwnerIsGroup Flag. Some of these fields won't be implemented for
a long time (especially ParentEstates) but it's good to have those anyway.

    The &quot;Classifieds&quot; search tab requires these fields: Entry UUID, Name,
Description, Publisher UUID, Publisher Parent Estate ID, Image UUID,
ClassifiedPrice, AutoRenewFlag, Category, Region UUID, Loc X, Loc Y, Loc Z,
MatureFlag.

    The &quot;Events&quot; calendar search tab requires these fields: Event UUID,
Name, Description, Publisher UUID, Publisher Parent Estate ID, Mature
Content Flag, Event Date, Event Length, Region UUID, Loc X, Loc Y, Loc Z,
Cover Charge. The Event calendar also supports notifying people who opt-in,
so it would also require another table with Event UUID and Subscribing
Avatar UUID.

    New Search (which I don't forsee being able to implement until way
later) also requires sim object data. Object UUID, Parent Parcel UUID, Name,
ForSaleStatus, ForSalePrice, Loc X, Loc Y, Loc Z seem to be good enough.

    Now I need your opinion on this schema. Is it a good idea to have each
type of searchable object in a separate table? Or would it be more feasible
to have all the relevant fields in a single table &quot;search&quot; with an
&quot;objecttype&quot; enum to differentiate between the types?

From,
    KMeist Hax




 
____________________________________________________________________________
________
Be a better friend, newshound, and 
know-it-all with Yahoo! Mobile.  Try it now.
<A HREF="http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ">http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ</A> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20080203/15b30aed">https://lists.berlios.de/pipermail/opensim-dev/attachments/20080203/15b30aed</A>
/attachment-0001.html 

------------------------------

Message: 2
Date: Mon, 04 Feb 2008 08:29:26 +0000
From: Justin Clark-Casey &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt;
Subject: Re: [Opensim-dev] Search server DB schema
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">47A6CCE6.4020205 at googlemail.com</A>&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Hi David,

Personally, my instinct would be to have one table to hold all the 
common fields between these searchable objects, and separate tables to 
hold the details specific to each.

However, this opinion is formed more by my desire for neatness (not 
having lots of redundant attributes for search objects where certain 
fields don't apply) than any knowledge about how this may affect 
performance.

Regards,

--
justincc

David Wendt JR. wrote:
&gt;<i> Hello, OpenSim developers.
</I>&gt;<i>
</I>&gt;<i>     I have recently taken up OpenSim development. I'm writing plugins 
</I>&gt;<i> to allow Search to work. I need your opinion on a database schema for 
</I>&gt;<i> storing the indexed search information for a hypothetical (so far) new 
</I>&gt;<i> grid service &quot;SearchServer&quot;.
</I>&gt;<i>
</I>&gt;<i>     I figure out for searching &quot;Places&quot;, &quot;Popular Places&quot;, and &quot;Land 
</I>&gt;<i> Sales&quot; we will need the following fields: Parcel UUID, Name, 
</I>&gt;<i> Description, LandArea, Traffic, Region UUID, Region Maturity Flag, 
</I>&gt;<i> Region Parent Estate ID, Loc X, Loc Y, Loc Z, Image UUID, 
</I>&gt;<i> ForSaleStatus, Category, ForSalePrice, AuctionID, Owner UUID, 
</I>&gt;<i> OwnerIsGroup Flag. Some of these fields won't be implemented for a 
</I>&gt;<i> long time (especially ParentEstates) but it's good to have those anyway.
</I>&gt;<i>
</I>&gt;<i>     The &quot;Classifieds&quot; search tab requires these fields: Entry UUID, 
</I>&gt;<i> Name, Description, Publisher UUID, Publisher Parent Estate ID, Image 
</I>&gt;<i> UUID, ClassifiedPrice, AutoRenewFlag, Category, Region UUID, Loc X, 
</I>&gt;<i> Loc Y, Loc Z, MatureFlag.
</I>&gt;<i>
</I>&gt;<i>     The &quot;Events&quot; calendar search tab requires these fields: Event 
</I>&gt;<i> UUID, Name, Description, Publisher UUID, Publisher Parent Estate ID, 
</I>&gt;<i> Mature Content Flag, Event Date, Event Length, Region UUID, Loc X, Loc 
</I>&gt;<i> Y, Loc Z, Cover Charge. The Event calendar also supports notifying 
</I>&gt;<i> people who opt-in, so it would also require another table with Event 
</I>&gt;<i> UUID and Subscribing Avatar UUID.
</I>&gt;<i>
</I>&gt;<i>     New Search (which I don't forsee being able to implement until way 
</I>&gt;<i> later) also requires sim object data. Object UUID, Parent Parcel UUID, 
</I>&gt;<i> Name, ForSaleStatus, ForSalePrice, Loc X, Loc Y, Loc Z seem to be good 
</I>&gt;<i> enough.
</I>&gt;<i>
</I>&gt;<i>     Now I need your opinion on this schema. Is it a good idea to have 
</I>&gt;<i> each type of searchable object in a separate table? Or would it be 
</I>&gt;<i> more feasible to have all the relevant fields in a single table 
</I>&gt;<i> &quot;search&quot; with an &quot;objecttype&quot; enum to differentiate between the types?
</I>&gt;<i>
</I>&gt;<i> From,
</I>&gt;<i>     KMeist Hax
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> Be a better friend, newshound, and know-it-all with Yahoo! Mobile. Try 
</I>&gt;<i> it now. 
</I>&gt;<i>
</I>&lt;<A HREF="http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i62sR8">http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i62sR8</A>
HDtDypao8Wcj9tAcJ%20&gt; 
&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>   
</I>

-- 
justincc
Justin Clark-Casey



------------------------------

Message: 3
Date: Mon, 4 Feb 2008 09:59:37 +0100
From: &quot;Dalien Talbot&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">dalienta at gmail.com</A>&gt;
Subject: Re: [Opensim-dev] Search server DB schema
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Message-ID:
	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">970c50810802040059p6d7389dav6b6dc6db80154f37 at mail.gmail.com</A>&gt;
Content-Type: text/plain; charset=&quot;iso-8859-1&quot;

David,

just curious - have you played with the non-relational methods of doing the
search ?

I've had a very good success with Xapian library - and it has bindings for
anything and everything (although - yick. this would mean one more native
code lib in the code base).

But the upside is that it would allow for more flexible &quot;google-like&quot;
searches, imho - which is the very big plus. And you can allow quite a few
custom tags to be included into boolean search - even though it is not very
fast to index, the convenience of working with it was extremely pleasing.

Another interesting beast is sphinx - I did not test it personally, but from
what they write here:

<A HREF="http://www.mysqlperformanceblog.com/2007/07/23/sphinx-going-beyond-full-text">http://www.mysqlperformanceblog.com/2007/07/23/sphinx-going-beyond-full-text</A>
-search/

It looks quite promising scalability-wise.

An engine which was theoretically very good (at least according to the
benchmarks that I've read) was zettair. However, playing with the code
showed the quality of it is really &quot;alpha&quot; - sprinkled with assert's - and
not without a few bugs too :-) - so probably more of theoretical  interest.

/d




On Feb 3, 2008 7:19 PM, David Wendt JR. &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">dcrkid at yahoo.com</A>&gt; wrote:

&gt;<i> Hello, OpenSim developers.
</I>&gt;<i>
</I>&gt;<i>     I have recently taken up OpenSim development. I'm writing plugins to
</I>&gt;<i> allow Search to work. I need your opinion on a database schema for storing
</I>&gt;<i> the indexed search information for a hypothetical (so far) new grid
</I>service
&gt;<i> &quot;SearchServer&quot;.
</I>&gt;<i>
</I>&gt;<i>     I figure out for searching &quot;Places&quot;, &quot;Popular Places&quot;, and &quot;Land
</I>&gt;<i> Sales&quot; we will need the following fields: Parcel UUID, Name, Description,
</I>&gt;<i> LandArea, Traffic, Region UUID, Region Maturity Flag, Region Parent Estate
</I>&gt;<i> ID, Loc X, Loc Y, Loc Z, Image UUID, ForSaleStatus, Category,
</I>ForSalePrice,
&gt;<i> AuctionID, Owner UUID, OwnerIsGroup Flag. Some of these fields won't be
</I>&gt;<i> implemented for a long time (especially ParentEstates) but it's good to
</I>have
&gt;<i> those anyway.
</I>&gt;<i>
</I>&gt;<i>     The &quot;Classifieds&quot; search tab requires these fields: Entry UUID, Name,
</I>&gt;<i> Description, Publisher UUID, Publisher Parent Estate ID, Image UUID,
</I>&gt;<i> ClassifiedPrice, AutoRenewFlag, Category, Region UUID, Loc X, Loc Y, Loc
</I>Z,
&gt;<i> MatureFlag.
</I>&gt;<i>
</I>&gt;<i>     The &quot;Events&quot; calendar search tab requires these fields: Event UUID,
</I>&gt;<i> Name, Description, Publisher UUID, Publisher Parent Estate ID, Mature
</I>&gt;<i> Content Flag, Event Date, Event Length, Region UUID, Loc X, Loc Y, Loc Z,
</I>&gt;<i> Cover Charge. The Event calendar also supports notifying people who
</I>opt-in,
&gt;<i> so it would also require another table with Event UUID and Subscribing
</I>&gt;<i> Avatar UUID.
</I>&gt;<i>
</I>&gt;<i>     New Search (which I don't forsee being able to implement until way
</I>&gt;<i> later) also requires sim object data. Object UUID, Parent Parcel UUID,
</I>Name,
&gt;<i> ForSaleStatus, ForSalePrice, Loc X, Loc Y, Loc Z seem to be good enough.
</I>&gt;<i>
</I>&gt;<i>     Now I need your opinion on this schema. Is it a good idea to have each
</I>&gt;<i> type of searchable object in a separate table? Or would it be more
</I>feasible
&gt;<i> to have all the relevant fields in a single table &quot;search&quot; with an
</I>&gt;<i> &quot;objecttype&quot; enum to differentiate between the types?
</I>&gt;<i>
</I>&gt;<i> From,
</I>&gt;<i>     KMeist Hax
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> Be a better friend, newshound, and know-it-all with Yahoo! Mobile. Try it
</I>&gt;<i>
</I>now.&lt;<A HREF="http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i6">http://us.rd.yahoo.com/evt=51733/*http://mobile.yahoo.com/;_ylt=Ahu06i6</A>
2sR8HDtDypao8Wcj9tAcJ&gt;
&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL:
<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20080204/4c13fe39">https://lists.berlios.de/pipermail/opensim-dev/attachments/20080204/4c13fe39</A>
/attachment-0001.html 

------------------------------

_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>


End of Opensim-dev Digest, Vol 6, Issue 5
*****************************************


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000750.html">[Opensim-dev] Search server DB schema
</A></li>
	<LI>Next message: <A HREF="000752.html">[Opensim-dev] Opensim-dev Digest, Vol 6, Issue 5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#751">[ date ]</a>
              <a href="thread.html#751">[ thread ]</a>
              <a href="subject.html#751">[ subject ]</a>
              <a href="author.html#751">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
