<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Opensim + Hibernate: It works!!!
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Opensim%20%2B%20Hibernate%3A%20It%20works%21%21%21&In-Reply-To=%3Cc5851bcf0802141540l61c65900ke0bc67af5418ca52%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000873.html">
   <LINK REL="Next"  HREF="000893.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Opensim + Hibernate: It works!!!</H1>
    <B>Impalah</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Opensim%20%2B%20Hibernate%3A%20It%20works%21%21%21&In-Reply-To=%3Cc5851bcf0802141540l61c65900ke0bc67af5418ca52%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] Opensim + Hibernate: It works!!!">impalah at gmail.com
       </A><BR>
    <I>Fri Feb 15 00:40:02 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000873.html">[Opensim-dev] libgdiplus and OS X
</A></li>
        <LI>Next message: <A HREF="000893.html">[Opensim-dev] Opensim + Hibernate: It works!!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#887">[ date ]</a>
              <a href="thread.html#887">[ thread ]</a>
              <a href="subject.html#887">[ subject ]</a>
              <a href="author.html#887">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi:

I've finished for today... I'm tired :-) But I have the work almost done, at
least it's &quot;functional&quot; (tested on Opensim version of february 5th)

It's here for download:
<A HREF="http://ai-designstudio.net/index.php?option=com_docman&amp;task=doc_details&amp;gid=41&amp;Itemid=88889037&amp;lang=en">http://ai-designstudio.net/index.php?option=com_docman&amp;task=doc_details&amp;gid=41&amp;Itemid=88889037&amp;lang=en</A>

There is a prebuild.xml file but we must include &quot;by hand&quot; the
hibernate.cfg.xml file and all the hbm.xml into the project Persistence.
Later we must copy these files to the main bin directory (not into mappings
in bin). The xml files must be configured as &quot;Embedded resources&quot;.

I've included an Opensim.ini file with the configuration. For configuring
the database:
- Create A NEW SCHEMA for testing
- Open hibernate.cfg.xml and set the values for database, user and password.
- Execute the SQL Alltables.sql (careful with the database name into the
script, I've used &quot;nhopensim&quot;).

Rebuild and launch...

What is working now:
- Create user from the console (maybe any little problem with inventories).
- Login, build, modify prims (except texture and shape... it's my fault but
I'm too tired to look for the error). Copy prims, delete, etc.
- Inventory, create new items, delete, etc.
- The objects in the region are persisted so they will be there when you
reboot opensim.

And the errors:
- Primshapes and related, sometimes has errors.
- No &quot;lock&quot; in any method, maybe sometimes there will be threading
problems... I need to solve this.
- Sometimes is slow, I need to polish up the code (transactions and
flushes).

I've tested the code in Windows with mySql both in .NET and mono. It worked
ok in both cases.

I have pending jobs: one is to finish the integration and stabilize, the
other is to test completely opensim with sqlite and mssql.

This morning I tested the automatic database model generator (it will be
included in opensim core) at work, over mssql and sqlite; it worked ok, and
passed the nunit tests, so I think there won't be any problem (Oracle is
another objective, maybe next week).

I will be very grateful if someone test the code and tell me how it works.
And if there is the possibility of having a SVN repository where Jon and I
can work it will make easy our work (a branch with an opensim version where
we can upload the files).

Greetings


PD - Ah... the dummy question again: what's the parameter of prebuild to
include the xml files as embedded resources???
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20080215/2ae735e0/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20080215/2ae735e0/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000873.html">[Opensim-dev] libgdiplus and OS X
</A></li>
	<LI>Next message: <A HREF="000893.html">[Opensim-dev] Opensim + Hibernate: It works!!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#887">[ date ]</a>
              <a href="thread.html#887">[ thread ]</a>
              <a href="subject.html#887">[ subject ]</a>
              <a href="author.html#887">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
