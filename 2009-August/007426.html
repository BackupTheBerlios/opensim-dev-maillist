<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Performance optimization of complex ScienceSim regions
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Performance%20optimization%20of%20complex%20ScienceSim%0A%20regions&In-Reply-To=%3C4A9BBFCF.6000507%40xyzzyxyzzy.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007425.html">
   <LINK REL="Next"  HREF="007427.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Performance optimization of complex ScienceSim regions</H1>
    <B>Dr Scofield</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Performance%20optimization%20of%20complex%20ScienceSim%0A%20regions&In-Reply-To=%3C4A9BBFCF.6000507%40xyzzyxyzzy.net%3E"
       TITLE="[Opensim-dev] Performance optimization of complex ScienceSim regions">DrScofield at xyzzyxyzzy.net
       </A><BR>
    <I>Mon Aug 31 14:19:27 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007425.html">[Opensim-dev] Performance optimization of complex ScienceSim regions
</A></li>
        <LI>Next message: <A HREF="007427.html">[Opensim-dev] Performance optimization of complex ScienceSim	regions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7426">[ date ]</a>
              <a href="thread.html#7426">[ thread ]</a>
              <a href="subject.html#7426">[ subject ]</a>
              <a href="author.html#7426">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Lake, Dan wrote:
&gt;<i> A few months back, we analyzed and proposed optimizations to scripting and timers on homogeneous regions which were dynamically created with up to 40,000 simple cubes and physics disabled. Considerable reductions in scene creation time and cpu utilization were achieved. 
</I>&gt;<i> 
</I>&gt;<i> The regions running on ScienceSim at this time have few scripts (less than 1% of objects), have large linked sets,  are loaded at startup from a database, and most have ODE physics enabled although very few objects are physical. This represents a completely different workload for OpenSim from our previous analysis. Some of these ScienceSim regions are extremely complex with between 60,000 and 140,000 prims. We have noticed that startup on these regions can take 45 minutes or more and consume 50% of a CPU once they reach a steady state with no users connected. We did not expect that high utilization since script counts were below 200 and no users were connected.
</I>&gt;<i> 
</I>&gt;<i> We have identified 3 areas of optimization.
</I>&gt;<i> 
</I>&gt;<i> 1. On startup, the region must be loaded from the database and all region modules must be started to prepare the region to run. On the largest ScienceSim regions, this step takes 20 minutes before the command prompt appears. We refer to this phase as the startup time. 
</I>&gt;<i> 
</I>&gt;<i> 2. The appearance of the OpenSim command prompt indicates that the Heartbeat thread has started up. Commands can be issued such as &quot;create user&quot; or &quot;show stats&quot;, but the Heartbeat thread itself will remain in its first &quot;beat&quot; for up to 40 more minutes. During this time, users cannot connect and the stats are all listed as 0 and do not update. We refer to this phase as &quot;first heartbeat time&quot;. 	
</I>&gt;<i> 
</I>&gt;<i> 3. Once the region has completely started up, but before any users have connected, we notice that the CPU utilization seems unusually high for the amount of &quot;action&quot; in the scene. Less than 200 scripted or physical objects should not represent a high load, but the 140,000 static prims somehow consumed 50% of a CPU.
</I>&gt;<i> 
</I>&gt;<i> Analysis
</I>&gt;<i> 
</I>[lots of very good stuff]

wow!

-- 
dr dirk husemann ---- virtual worlds research ---- ibm zurich research lab
SL: dr scofield ---- <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">drscofield at xyzzyxyzzy.net</A> ---- <A HREF="http://xyzzyxyzzy.net/">http://xyzzyxyzzy.net/</A>
RL: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">hud at zurich.ibm.com</A> - +41 44 724 8573 - <A HREF="http://www.zurich.ibm.com/~hud/">http://www.zurich.ibm.com/~hud/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007425.html">[Opensim-dev] Performance optimization of complex ScienceSim regions
</A></li>
	<LI>Next message: <A HREF="007427.html">[Opensim-dev] Performance optimization of complex ScienceSim	regions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7426">[ date ]</a>
              <a href="thread.html#7426">[ thread ]</a>
              <a href="subject.html#7426">[ subject ]</a>
              <a href="author.html#7426">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
