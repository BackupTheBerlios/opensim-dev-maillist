<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Main Repository now in Git
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Main%20Repository%20now%20in%20Git&In-Reply-To=%3C4A7BF1EA.2060205%40alcor.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007344.html">
   <LINK REL="Next"  HREF="007348.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Main Repository now in Git</H1>
    <B>Chris Down</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Main%20Repository%20now%20in%20Git&In-Reply-To=%3C4A7BF1EA.2060205%40alcor.co.uk%3E"
       TITLE="[Opensim-dev] Main Repository now in Git">Chris.Down at alcor.co.uk
       </A><BR>
    <I>Fri Aug  7 11:20:42 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007344.html">[Opensim-dev] Main Repository now in Git
</A></li>
        <LI>Next message: <A HREF="007348.html">[Opensim-dev] Main Repository now in Git
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7347">[ date ]</a>
              <a href="thread.html#7347">[ thread ]</a>
              <a href="subject.html#7347">[ subject ]</a>
              <a href="author.html#7347">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>James,
Just a thought.

You could use the git log command to extract the information form the 
repo. This would output details of the last commit e.g.

git log -n 1

commit 270ae50d700831ac996025045dc32341d68ee0f9
Author: Adam Frisby &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">adam at deepthink.com.au</A>&gt;
Date:   Fri Aug 7 14:17:51 2009 +1000

     * Implements MRM's Stop() interface member.
     * MRM Scripts should do appropriate cleanup within this event, to 
allow for clean shutdowns and script updates. This means unbinding from 
events you are listening to, and releasing any resources.


All the information you need is in this text. You could then add a post 
commit script that parses the text to extract the information and put 
this into a file which could be read by the show version command.

Chris


On 07/08/2009 04:53, James Stallings II wrote:
&gt;<i> So far Adam it's just the hash, but I've not got even that working yet
</I>&gt;<i> so I will see if I can find a way to get a date in there too :)
</I>&gt;<i>
</I>&gt;<i> Cheers!
</I>&gt;<i>
</I>&gt;<i> On Thu, Aug 6, 2009 at 10:00 PM, Frisby, Adam &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">adam at deepthink.com.au</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">adam at deepthink.com.au</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Does that store the date of last &#8216;commit&#8217; or current revision?
</I>&gt;<i>
</I>&gt;<i>     If we&#8217;re replacing the version number from 0.X.Y.SVNNUM &#8211; I think we
</I>&gt;<i>     should probably use:
</I>&gt;<i>
</I>&gt;<i>     0.X.DDMMYYYY.GITHASH &#8211; since the DDMMYYYY is going to be a lot
</I>&gt;<i>     easier to type.
</I>&gt;<i>
</I>&gt;<i>     Adam
</I>&gt;<i>
</I>&gt;<i>     *From:* <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>&gt;
</I>&gt;<i>     [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>&gt;] *On Behalf Of *James
</I>&gt;<i>     Stallings II
</I>&gt;<i>     *Sent:* Thursday, 6 August 2009 4:39 PM
</I>&gt;<i>
</I>&gt;<i>     *To:* <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>&gt;
</I>&gt;<i>     *Subject:* Re: [Opensim-dev] Main Repository now in Git
</I>&gt;<i>
</I>&gt;<i>     Greetings List  :)
</I>&gt;<i>
</I>&gt;<i>     Just wanted to drop a line to the list and let you all know that
</I>&gt;<i>     we've (OSGrid Core Team) done a bit of research and determined the
</I>&gt;<i>     location of the file in the which git stores the hash for the the
</I>&gt;<i>     checked out tree (for lack of better terminology).
</I>&gt;<i>
</I>&gt;<i>     I am personally finishing up a patch at the moment to replace the
</I>&gt;<i>     appearance of the svn revision number with the git hash where it has
</I>&gt;<i>     been present before (in the client, at region server startup and at
</I>&gt;<i>     in the region server's 'show version' command output).
</I>&gt;<i>
</I>&gt;<i>     Please bear with me, I am not a core dev either and fumble a bit
</I>&gt;<i>     here and there with the tools, but I am rapidly improving my skills ;)
</I>&gt;<i>
</I>&gt;<i>     I will notify the list as soon as I have the patch ready.
</I>&gt;<i>
</I>&gt;<i>     ETA: sometime this evening CST.
</I>&gt;<i>
</I>&gt;<i>     Hope this eases some concerns among you.
</I>&gt;<i>
</I>&gt;<i>     Cheers!
</I>&gt;<i>     James
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007344.html">[Opensim-dev] Main Repository now in Git
</A></li>
	<LI>Next message: <A HREF="007348.html">[Opensim-dev] Main Repository now in Git
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7347">[ date ]</a>
              <a href="thread.html#7347">[ thread ]</a>
              <a href="subject.html#7347">[ subject ]</a>
              <a href="author.html#7347">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
