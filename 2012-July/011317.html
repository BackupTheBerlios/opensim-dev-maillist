<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Avatar sinking into the terrain
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2012-July/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Avatar%20sinking%20into%20the%20terrain&In-Reply-To=%3CCADQNs22s8v0j2sRPAV1YVys1DRHOmLP3h78SRUPC18wifH7WOg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011311.html">
   <LINK REL="Next"  HREF="011322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Avatar sinking into the terrain</H1>
    <B>nlin</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Avatar%20sinking%20into%20the%20terrain&In-Reply-To=%3CCADQNs22s8v0j2sRPAV1YVys1DRHOmLP3h78SRUPC18wifH7WOg%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] Avatar sinking into the terrain">nlin.message at gmail.com
       </A><BR>
    <I>Wed Jul 18 05:47:24 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011311.html">[Opensim-dev] Avatar sinking into the terrain
</A></li>
        <LI>Next message: <A HREF="011322.html">[Opensim-dev] Avatar sinking into the terrain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11317">[ date ]</a>
              <a href="thread.html#11317">[ thread ]</a>
              <a href="subject.html#11317">[ subject ]</a>
              <a href="author.html#11317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> On 16/07/12 10:52, Oren Hurvitz wrote:
</I>&gt;&gt;<i> I want to bring up again the problem of avatars sinking into the terrain.
</I>
I strongly believe that to properly resolve this, better physics
visualization is needed to visualize the internal data structures (the
terrain and the physical avatar capsule). There was some code
available that would display the physics world as ODE sees it in
real-time, but when I last worked on this (years ago) I think the
terrain wasn't visualized. If the code is still as I last left it,
then the avatar capsule orientation is still rather hacky in that it
is always tilted. A straight-up capsule should theoretically have
worked fine, but it didn't (falling through the ground very
frequently), and apparently a tilted capsule, while better, also
doesn't always work.

I remember being able to reproduce the problem (a collision should
have been registered, but wasn't) and investigating the in-memory
structures of the terrain collider, but I didn't have time to find the
root cause. Though I'm not actively working on OpenSim these days,
this still bugs me, as I feel I was close to the solution but didn't
quite get there.

To really get to the root cause, I would recommend implementing some
sort of collision logging, visualization, and forward/backward
stepping through the log file to see what collisions are happening at
each timestep. Then find a specific geometry that can reliably
reproduce the bug and determine where the missing collisions are
occurring (times when the avatar capsule is geometrically intersecting
the terrain - which must be confirmed in the visualization tool
previously mentioned - yet ODE failed to report a collision). Then,
trace through the capsule-terrain collider to see why the collision
was not produced.

It would be a fun endeavor for me but my hands are full with other
projects right now. :(

-Norman (nlin)
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011311.html">[Opensim-dev] Avatar sinking into the terrain
</A></li>
	<LI>Next message: <A HREF="011322.html">[Opensim-dev] Avatar sinking into the terrain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11317">[ date ]</a>
              <a href="thread.html#11317">[ thread ]</a>
              <a href="subject.html#11317">[ subject ]</a>
              <a href="author.html#11317">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
