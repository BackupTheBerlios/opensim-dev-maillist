<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] llDetectedType and NPC's
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2012-July/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20llDetectedType%20and%20NPC%27s&In-Reply-To=%3C4FFF42B7.7070905%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011297.html">
   <LINK REL="Next"  HREF="011346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] llDetectedType and NPC's</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20llDetectedType%20and%20NPC%27s&In-Reply-To=%3C4FFF42B7.7070905%40googlemail.com%3E"
       TITLE="[Opensim-dev] llDetectedType and NPC's">jjustincc at googlemail.com
       </A><BR>
    <I>Thu Jul 12 23:33:43 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="011297.html">[Opensim-dev] llDetectedType and NPC's
</A></li>
        <LI>Next message: <A HREF="011346.html">[Opensim-dev] llDetectedType and NPC's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11298">[ date ]</a>
              <a href="thread.html#11298">[ thread ]</a>
              <a href="subject.html#11298">[ subject ]</a>
              <a href="author.html#11298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, as Dahlia points out, LL could very well implement the NPC constant to mean something else, at which point we are 
screwed.  Retaining and improving the level of compatibility with LSL is a very important use case for some of us.

So rather than spreading the NPC constant to llDetectedType(), I propose to create OS_NPC instead, which is much less 
likely to be used by LL (unless they really go out of their way).  This constant name is in keeping with all the other 
previously established OS_NPC* constants.

This would be used in llDetectedType() as well as with the existing llSensor(), llRepeatSensor() uses.  NPC would remain 
valid but would be deprecated.  If and when LL uses NPC then it will have to change to mean whatever they establish it 
to mean, unless that were somehow identical to OS implementation (which seems unlikely to me).

Another course of action would be to create parallel osDetectedType(), osSensor(), etc. whenever the OpenSimulator 
behaviour can diverge from what is strictly allowed by LSL.  As part of this, these commands would have to be available 
by default.  Even then, there is still a mixing with LSL due to the use of events such as sensor, unless one were to 
also create parallel os events (e.g. ossensor).  But I think the over-complexity outweighs the risks of doing some stuff 
within the LSL namespaces.

On 12/07/12 16:43, Argus wrote:
&gt;<i> I think Dahlia means the symbolic constant being the same. Dahlia pointed out in the mantis that LL might be
</I>&gt;<i> implementing the symbolic constant NPC for something else...
</I>&gt;<i>
</I>&gt;<i> Am 12.07.2012 04:19, schrieb Melanie:
</I>&gt;&gt;<i> Then it will be a case in point to use symbolic constants, not magic
</I>&gt;&gt;<i> numbers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Melanie
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 12/07/2012 03:58, Dahlia Trimble wrote:
</I>&gt;&gt;&gt;<i> So what happens when LL defines &quot;NPC&quot; and it means something different that
</I>&gt;&gt;&gt;<i> what is defined in OpenSimulator?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> And yes, I believe the probability is quite high that they will eventually
</I>&gt;&gt;&gt;<i> define it.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Wed, Jul 11, 2012 at 5:01 PM, Justin Clark-Casey &lt;
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> That's a neat solution, Argus.  Since the intention of
</I>&gt;&gt;&gt;&gt;<i> OS_NPC_SENSE_AS_AGENT was to provide compatibility rather than 'fool', I
</I>&gt;&gt;&gt;&gt;<i> think returning both NPC and AGENT flags would be perfectly acceptable.
</I>&gt;&gt;&gt;&gt;<i>   Let's see if there are any other comments, otherwise I think we can
</I>&gt;&gt;&gt;&gt;<i> proceed along those lines.  I'm still not that happy with extending
</I>&gt;&gt;&gt;&gt;<i> llDetectedType() but leakage has already occurred and I suspect its
</I>&gt;&gt;&gt;&gt;<i> inevitable.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On another note, I'm not sure what 'plausibility' checks you're referring
</I>&gt;&gt;&gt;&gt;<i> to.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On 11/07/12 13:04, Argus wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> I am fully aware of the open source factor and that in each open grid
</I>&gt;&gt;&gt;&gt;&gt;<i> everything can be changed, which is why one always
</I>&gt;&gt;&gt;&gt;&gt;<i> needs backend function to make sure no fals information is passed on to
</I>&gt;&gt;&gt;&gt;&gt;<i> the central service. One can however filter 99%
</I>&gt;&gt;&gt;&gt;&gt;<i> of the fals data in the local sim which helps the central service because
</I>&gt;&gt;&gt;&gt;&gt;<i> it does not need to process every single
</I>&gt;&gt;&gt;&gt;&gt;<i> plausability checks. In a multi grid environment with closed grids we
</I>&gt;&gt;&gt;&gt;&gt;<i> even have a lower chance of false data beeing
</I>&gt;&gt;&gt;&gt;&gt;<i> passed than in a open grid only environment.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>    We have the same situations in opensim were the simulator often does
</I>&gt;&gt;&gt;&gt;&gt;<i> some local plausability checks before it send
</I>&gt;&gt;&gt;&gt;&gt;<i> data to the gridservers. The gridservers again do a plausability check
</I>&gt;&gt;&gt;&gt;&gt;<i> combined with other methods which are not
</I>&gt;&gt;&gt;&gt;&gt;<i> available on the local sim. Only if all steps are plausable the data gets
</I>&gt;&gt;&gt;&gt;&gt;<i> processed further.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Anyway, I added a new patch for llDetectedType were NPCs always return
</I>&gt;&gt;&gt;&gt;&gt;<i> NPC and useing OS_NPC_SENSE_AS_AGENT will returns
</I>&gt;&gt;&gt;&gt;&gt;<i> AGENT + NPC. I think that is an acceptable compromize... I also added an
</I>&gt;&gt;&gt;&gt;&gt;<i> example script were the true NPC detection
</I>&gt;&gt;&gt;&gt;&gt;<i> always makes sense  ;)
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Am 11.07.2012 02:01, schrieb Justin Clark-Casey:
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Argus, if your system relies on always reliably identifying unique
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> avatars then that is simply not possible in any
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> OpenSimulator environment where simulators are controlled by third
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> parties or where hypergrid travel is allowed.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Even if OS_NPC_SENSE_AS_AGENT did not exist, then people would be able
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> to compile a version of the code that did have
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> that functionality. This is not about ideology - it's about what is
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> physically possible!
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Equally, it is perfectly possible to create duplicate HG details -
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> anything can be put in the agent data that comes
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> from a foreign grid (<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">justin at hg.osgrid.org</A> or whatever).  You cannot
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> rely on these to be unique either.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> Without any central authority (like DNS, the secure certificate
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> infrastructure of something like Bitcoin block chains)
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> it is simply not possible to uniquely identify avatars.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> I don't see this as much different from the web where one has to get
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> people to create unique accounts with passwords
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> in order to identify them later.  Such a thing has to be done in some
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> authority system outside of OpenSimulator itself.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> If your point is that without OS_NPC_SENSE_AS_AGENT then the vast
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> majority of systems would always present NPCs as
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> NPCs (rather than agents) then I would agree.  In fact, in practice most
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> people won't use OS_NPC_SENSE_AS_AGENT anyway
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> as it's the option rather than the default.  But you cannot rely on
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> uniquely identifying avatars on any environment
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> outside those that you directly control.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> On a minor note, script functions that don't make any sense for NPCs
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> should behave as if the UUID they received did
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> not relate to a valid entity for that function.
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> ______________________________**_________________
</I>&gt;&gt;&gt;&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists.berlios.de/mailman/listinfo/opensim-dev</A>&gt;
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;&gt;<i> Justin Clark-Casey (justincc)
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> ______________________________**_________________
</I>&gt;&gt;&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists.berlios.de/mailman/listinfo/opensim-dev</A>&gt;
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org/blog">http://justincc.org/blog</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011297.html">[Opensim-dev] llDetectedType and NPC's
</A></li>
	<LI>Next message: <A HREF="011346.html">[Opensim-dev] llDetectedType and NPC's
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11298">[ date ]</a>
              <a href="thread.html#11298">[ thread ]</a>
              <a href="subject.html#11298">[ subject ]</a>
              <a href="author.html#11298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
