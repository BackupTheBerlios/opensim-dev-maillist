<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Interop
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Interop&In-Reply-To=%3C4C7F2C70.707%40metaverseink.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009483.html">
   <LINK REL="Next"  HREF="009485.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Interop</H1>
    <B>diva at metaverseink.com</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Interop&In-Reply-To=%3C4C7F2C70.707%40metaverseink.com%3E"
       TITLE="[Opensim-dev] Interop">diva at metaverseink.com
       </A><BR>
    <I>Thu Sep  2 06:47:44 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009483.html">[Opensim-dev] Interop
</A></li>
        <LI>Next message: <A HREF="009485.html">[Opensim-dev] Interop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9484">[ date ]</a>
              <a href="thread.html#9484">[ thread ]</a>
              <a href="subject.html#9484">[ subject ]</a>
              <a href="author.html#9484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Nice, Meadhbh, thank you for all the pointers!
It seems like the work in VWRAP is pretty much in sync with the work 
OpenSim, configurations and all.
Indeed, the only case that HG1.5 does not support is the federated trust 
model (c). (d) is in the realm of the client-driven HG2.0, which I doubt 
we'll ever get into because it needs serious client redesign -- but if 
we're ok with wrapping LL clients in proxies, like grider, then it's 
actually pretty easy because it's just a matter of using dlls from 
OpenSim in the client itself.

What I don't see below is the mechanism for actually making these trust 
models exist. Perhaps that is still being worked on in the &quot;auth spec&quot;. 
Can you tell us what you have in mind, or point to a document that 
describes it? I would like to see how that is different/similar to the 
authentication mechanism that we have in HG1.5.

Now we're talking!!!
:<i>-)
</I>
Meadhbh Hamrick wrote:
&gt;<i> hi christa
</I>&gt;<i> 
</I>&gt;<i> since you're new to the VWRAP list, you're probably unfamiliar with
</I>&gt;<i> the work on security models we've done over the last year.
</I>&gt;<i> 
</I>&gt;<i> david lavine worked out a list of &quot;deployment use cases&quot; in
</I>&gt;<i> <A HREF="http://tools.ietf.org/html/draft-levine-vwrap-deploy-01">http://tools.ietf.org/html/draft-levine-vwrap-deploy-01</A> .
</I>&gt;<i> 
</I>&gt;<i> that draft just expired, so we moved some of the salient points into
</I>&gt;<i> the most recent intro draft:
</I>&gt;<i> <A HREF="https://datatracker.ietf.org/doc/draft-ietf-vwrap-intro/">https://datatracker.ietf.org/doc/draft-ietf-vwrap-intro/</A> .
</I>&gt;<i> 
</I>&gt;<i> other points are to be addressed in the upcoming draft of the &quot;auth
</I>&gt;<i> spec&quot; due out this month.
</I>&gt;<i> 
</I>&gt;<i> you are welcome, at any point, to participate in this discussion on
</I>&gt;<i> the mailing list and at in-person events held at various IETF
</I>&gt;<i> meetings.
</I>&gt;<i> 
</I>&gt;<i> if you have specific issues with the deployment or trust model for
</I>&gt;<i> VWRAP, you are encouraged to start a detailed technical discussion on
</I>&gt;<i> the VWRAP mailing list. or, if you don't have time, you can explain
</I>&gt;<i> your issues to john or daliah who i've seen participate on the list.
</I>&gt;<i> 
</I>&gt;<i> if you wish to propose hypergrid's model as a trust option for VWRAP,
</I>&gt;<i> you should write a proposal and send it to the vwrap mailing list. or,
</I>&gt;<i> open a text editor and write an internet draft. it's actually not that
</I>&gt;<i> hard. john, david or myself can possibly tutor you through the
</I>&gt;<i> process.
</I>&gt;<i> 
</I>&gt;<i> keep in mind that like many IETF standards, VWRAP defines mechanism,
</I>&gt;<i> and not policy. so when we describe an authentication technique, we're
</I>&gt;<i> not saying that that is the ONLY technique that a vwrap implementation
</I>&gt;<i> can support. ditto for trust models. but because we define mechanism,
</I>&gt;<i> we DO say the equivalent of &quot;if you claim to be VWRAP compliant, and
</I>&gt;<i> you claim to support *such-and-such* trust model and auth scheme, you
</I>&gt;<i> have to do it like this...&quot; (and then you reference the section of the
</I>&gt;<i> spec.)
</I>&gt;<i> 
</I>&gt;<i> but like i said, we're supporting multiple &quot;trust models&quot; and
</I>&gt;<i> &quot;deployment patterns&quot; in VWRAP. you can find a synthesis of the three
</I>&gt;<i> distinct views that have come to light in the article by Bell, Levine
</I>&gt;<i> and Dinova @ <A HREF="http://internetmessagingtechnology.org/pubs/VWRAP-for-Virtual-Worlds-Interoperability-mic2010010073.pdf">http://internetmessagingtechnology.org/pubs/VWRAP-for-Virtual-Worlds-Interoperability-mic2010010073.pdf</A>
</I>&gt;<i> (warning, PDF).
</I>&gt;<i> 
</I>&gt;<i> (as a note... yes, we started with the concept of an agent domain, and
</I>&gt;<i> i think some people besides linden liked the idea, but as time went on
</I>&gt;<i> we got little agreement over which services should be in an agent
</I>&gt;<i> domain and which in a region. david / zha pointed out that at the end
</I>&gt;<i> of the day, you don't really need the domains if you have a
</I>&gt;<i> sufficiently robust trust model, and they were getting in the way of
</I>&gt;<i> consensus. so, we dropped them.)
</I>&gt;<i> 
</I>&gt;<i> to recap, we're supporting the following use cases for server-to-server trust:
</I>&gt;<i> 
</I>&gt;<i> a. stand-alone : all services provided by a single organization that
</I>&gt;<i> trusts itself. in this use case, deployed services use minimal
</I>&gt;<i> authentication of peers within their own trust domain. the idea here
</I>&gt;<i> is that if all your services are hosted by machines that YOU operate,
</I>&gt;<i> you can simply give a list of IP addresses you're hosting services on.
</I>&gt;<i> or you could have an admin LAN that's trusted while the public
</I>&gt;<i> interface to client's required client auth, etc. note that in this use
</I>&gt;<i> case, services may be DEPLOYED on multiple hosts; but it's the &quot;trust&quot;
</I>&gt;<i> that's stand-alone
</I>&gt;<i> 
</I>&gt;<i> b. the direct trust use case : in this use case, trust relationships
</I>&gt;<i> are explicitly enumerated. that is, a service is being operated on
</I>&gt;<i> host A in trust domain 1, and host B is being operated in trust domain
</I>&gt;<i> 2. trust domains 1 and 2 explicitly agree that A and B should trust
</I>&gt;<i> each other. you can ramp this up to include more than 2 hosts in more
</I>&gt;<i> than 2 trust domains, but the key here is that each service operator
</I>&gt;<i> has a list of other hosts it explicitly trusts. this may be
</I>&gt;<i> implemented in many ways: an IPSec VPN or by using client certs with
</I>&gt;<i> HTTP(S). but the key here is that each host has a list of other hosts
</I>&gt;<i> it trusts.
</I>&gt;<i> 
</I>&gt;<i> c. the federated trust use case : in this use case, you have a central
</I>&gt;<i> trusted party that other parties explicitly trust and trust to make
</I>&gt;<i> good decisions about who else is trustworthy. this is akin to the
</I>&gt;<i> trust model behind X.509 PKIs with transitive trust. we think this is
</I>&gt;<i> the kind of trust model we would encounter in corporate or educational
</I>&gt;<i> environments. we assume it would leverage existing PKI systems like MS
</I>&gt;<i> Active Directory, etc.
</I>&gt;<i> 
</I>&gt;<i> d. client-mediated trust use case (aka the tourist model) : the three
</I>&gt;<i> use cases above, it's the network services themselves who decide who
</I>&gt;<i> they trust. and these trust relationships are considered to be &quot;long
</I>&gt;<i> lived.&quot; in other words, we think they'll last longer than a single
</I>&gt;<i> user session. but there's another option where the client establishes
</I>&gt;<i> trust relationships with each service provider, then tells them each
</I>&gt;<i> about each other. so you might have a simulation service in one trust
</I>&gt;<i> domain that doesn't know anything about a particular asset service in
</I>&gt;<i> another. but if the client establishes a trust relationship with both
</I>&gt;<i> of them, and at login-time contacts each of them, telling them to
</I>&gt;<i> trust each other on the client's behalf, then you've got the core of
</I>&gt;<i> the tourist model down. there's also been some talk about the
</I>&gt;<i> &quot;semi-tourist&quot; model where some services are client-mediated and
</I>&gt;<i> others are federated or direct or what have you.
</I>&gt;<i> 
</I>&gt;<i> e. nil trust : welcome to the intarwebs! in the nil trust model, all
</I>&gt;<i> security is by obscurity. if a user agent or a peer service can get to
</I>&gt;<i> you, you trust it. not recommended for public use unless you want to
</I>&gt;<i> turn your virtual world into the equivalent of a spam laden wiki. but
</I>&gt;<i> for people who want to operate a virtual world inside a corporate
</I>&gt;<i> network, they may be okay with trading trust for ease of use. ymmv.
</I>&gt;<i> 
</I>&gt;<i> anyway, so these are the five basic use cases. the upcoming draft maps
</I>&gt;<i> each one to a collection of mechanisms for carrying information about
</I>&gt;<i> trust.
</I>&gt;<i> 
</I>&gt;<i> with help from john hurliman, david levine and dahlia tremble, we were
</I>&gt;<i> able to extract a number of salient points re HG trust. one critique
</I>&gt;<i> of the HG security model is that it seemed to support no option for
</I>&gt;<i> federated trust. this was a bit of a deal killer for some
</I>&gt;<i> participants; but perfectly acceptable to others.
</I>&gt;<i> 
</I>&gt;<i> it would have been nice if there were multiple trust model options in
</I>&gt;<i> OpenSim, but hey, you boil the ocean one thimble at a time. i
</I>&gt;<i> encourage you to look at the upcoming auth &amp; trust model draft ( i
</I>&gt;<i> think it's due out on the 17th of september or the 1st of october. )
</I>&gt;<i> we're documenting trust models that may not have been early
</I>&gt;<i> requirements for OpenSIm or HyperGrid. they're being documented for
</I>&gt;<i> the purpose of being referenced by other people.
</I>&gt;<i> 
</I>&gt;<i> also, the next document we draft need not be the last. if there are
</I>&gt;<i> glaring omissions or if we document some bit of the trust model in a
</I>&gt;<i> way that makes it difficult or impossible for HyperGrid to be
</I>&gt;<i> represented with it, PLEASE let us know.
</I>&gt;<i> 
</I>&gt;<i> but, we're behind schedule on a lot of the drafts, and we simply ask
</I>&gt;<i> that you participate on the mailing list with clear comments sooner
</I>&gt;<i> rather than later.
</I>&gt;<i> 
</I>&gt;<i> -cheers
</I>&gt;<i> --
</I>&gt;<i> meadhbh hamrick * it's pronounced &quot;maeve&quot;
</I>&gt;<i> @OhMeadhbh * <A HREF="http://meadhbh.org/">http://meadhbh.org/</A> * <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">OhMeadhbh at gmail.com</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, Sep 1, 2010 at 6:48 PM,  &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">diva at metaverseink.com</A>&gt; wrote:
</I>&gt;&gt;<i> [Changing the subject; long email full of technical and historical details;
</I>&gt;&gt;<i> should perhaps cross-list to vwrap, but the chair there doesn't like
</I>&gt;&gt;<i> cross-postings, understandably; I don't know how to solve that, so goes here
</I>&gt;&gt;<i> only for now...]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> OGP was a nice demo, and certainly had a lot of impact because it pointed
</I>&gt;&gt;<i> towards what people wanted. It was incomplete, and the agent domain part was
</I>&gt;&gt;<i> never made available for people to use on their own grids. But those weren't
</I>&gt;&gt;<i> the only problems, they weren't even the major problems... The only reason
</I>&gt;&gt;<i> why that demo worked at all was because OpenSim, at the time, was a
</I>&gt;&gt;<i> _complete_security_hole_! :D
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Basically, if you had a modified client that would make a certain remote
</I>&gt;&gt;<i> call into any OpenSim out there, it would create an agent on the sim,
</I>&gt;&gt;<i> without asking any questions. In other words, you could enter any grid
</I>&gt;&gt;<i> bypassing credential checks altogether. That's how logins and TPs worked
</I>&gt;&gt;<i> when I started playing with OpenSim. A couple of people noticed this at some
</I>&gt;&gt;<i> point or another, and sent us private bug reports. I'm saying this now,
</I>&gt;&gt;<i> because this affects very old versions of OpenSim that probably no one is
</I>&gt;&gt;<i> running anymore -- I hope!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The very first version of HG1.0 exploited the same vulnerability. Later, I
</I>&gt;&gt;<i> added a session check across the board, which would at least verify that
</I>&gt;&gt;<i> there was some sort of authority on the sending side, and that such
</I>&gt;&gt;<i> authority would confirm the existence of that session. I'm not sure people
</I>&gt;&gt;<i> were still using OGP at this point, but OGP would have stopped working with
</I>&gt;&gt;<i> this session check, because I didn't have access to the agent domain code in
</I>&gt;&gt;<i> order to add this check to it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The Hypergrid progressed empirically by me identifying all these security
</I>&gt;&gt;<i> holes and, basically, fix them. The holes were the path to the solutions --
</I>&gt;&gt;<i> I didn't have to make anything up!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think the people who did OGP had conscience of how broken that SL/OpenSim
</I>&gt;&gt;<i> demo was, and knew it needed a whole lot more. Documents out there explain
</I>&gt;&gt;<i> what they were thinking about (e.g.
</I>&gt;&gt;<i> <A HREF="http://wiki.secondlife.com/wiki/Structural_Design">http://wiki.secondlife.com/wiki/Structural_Design</A>).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There are many similarities between what they were thinking and HG1.5. What
</I>&gt;&gt;<i> that extended protocol is missing is the authentication between the multiple
</I>&gt;&gt;<i> parties involved: what they call the Region domain (similar to the
</I>&gt;&gt;<i> Gatekeeper), what they call the Agent domain (similar to the user agent
</I>&gt;&gt;<i> service), the region itself, and the viewer. *And authentication is the
</I>&gt;&gt;<i> critical piece for making this secure.*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Since they didn't seem to have any solution for the multi-party
</I>&gt;&gt;<i> authentication problem, that led to the initial idea that interop could
</I>&gt;&gt;<i> never be true S4S, but would have to have some sort of real-world authority
</I>&gt;&gt;<i> that would establish and enforce the rules of engagement in a federation of
</I>&gt;&gt;<i> VWs -- that would make the nasty problem of authentication go away with the
</I>&gt;&gt;<i> addition of lawyers!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Melanie and I figured out how to make the multi-party authentication work.
</I>&gt;&gt;<i> It's basically a series of data flows and verifications that rely 100% on
</I>&gt;&gt;<i> the basic Internet architecture -- DNS and TCP/IP addresses -- and on the
</I>&gt;&gt;<i> social organization that we can expect on top of this architecture. Nothing
</I>&gt;&gt;<i> fancy, really, just back to the basics. And it works. This is not the only
</I>&gt;&gt;<i> way to solve the multi-party authentication problem, but it's probably the
</I>&gt;&gt;<i> simplest.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> HG1.5 is fairly secure, there's only a couple of obscure corner cases. It's
</I>&gt;&gt;<i> more complicated and unsafe than it needs to be, if we had a client that
</I>&gt;&gt;<i> would cooperate and do the right things. The LL client is a major
</I>&gt;&gt;<i> fixed-point in this, it restricts a lot what we can do.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But I've started to like the LL client like it is. Call it Stockholm
</I>&gt;&gt;<i> syndrome! :D
</I>&gt;&gt;<i> There's an interesting thing about the LL architecture: the client talks
</I>&gt;&gt;<i> only to the server(s) that it connects to, and not to the resource servers
</I>&gt;&gt;<i> directly. We hate this, of course. But this is how web browsers work too --
</I>&gt;&gt;<i> or at least how they are forced to work by web servers. When you get a page
</I>&gt;&gt;<i> from a site, the resources you are allowed to get via the dynamic
</I>&gt;&gt;<i> connections are only from that site, and not others (the origin
</I>&gt;&gt;<i> restriction). So if someone would ever do a Web-browser-based rendering
</I>&gt;&gt;<i> engine (something I would love to see!) we would be dealing with essentially
</I>&gt;&gt;<i> the same situation that we are dealing now. Think about it!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Justin Clark-Casey wrote:
</I>&gt;&gt;&gt;<i> On 01/09/10 14:56, Mike Dickson wrote:
</I>&gt;&gt;&gt;&gt;<i> More on OGP below.
</I>&gt;&gt;&gt;&gt;&gt;<i> Like Diva, I also think that good standards very often only come out
</I>&gt;&gt;&gt;&gt;&gt;<i> of working implementations. Hence, though I've
</I>&gt;&gt;&gt;&gt;&gt;<i> been following the VWRAP lists (and OGP before that) I haven't been
</I>&gt;&gt;&gt;&gt;&gt;<i> participating since there's been a lot of
</I>&gt;&gt;&gt;&gt;&gt;<i> hard-to-follow discussion without much real-world consequence. And as
</I>&gt;&gt;&gt;&gt;&gt;<i> a working developer I don't have the luxury of
</I>&gt;&gt;&gt;&gt;&gt;<i> sitting on my tush and contemplating the Platonic world of future
</I>&gt;&gt;&gt;&gt;&gt;<i> standards all day ;) (joking).
</I>&gt;&gt;&gt;&gt;<i> This is really the issue that has always bothered me. There's been an
</I>&gt;&gt;&gt;&gt;<i> assertion that working code was more important than &quot;standards&quot;. Truth
</I>&gt;&gt;&gt;&gt;<i> is, standards are hard work, its more fun to hack code. And there *was*
</I>&gt;&gt;&gt;&gt;<i> an existing implementation. LL and IBM demonstrated some limited cross
</I>&gt;&gt;&gt;&gt;<i> grid functionality (hence the OGP work). And asserting politics was an
</I>&gt;&gt;&gt;&gt;<i> issue is just lame. Linden Labs put forward a *working* system as a
</I>&gt;&gt;&gt;&gt;<i> starting point along with some jointly developed code demonstrating
</I>&gt;&gt;&gt;&gt;<i> limited interoperability. The code was even available to the OpenSim
</I>&gt;&gt;&gt;&gt;<i> team. So if there was a &quot;political agenda&quot; it was on both sides. LL
</I>&gt;&gt;&gt;&gt;<i> wanting to preserve some compatibility with their existing system (but
</I>&gt;&gt;&gt;&gt;<i> willing to consider changes) and on the HyperGrid side a desire to
</I>&gt;&gt;&gt;&gt;<i> explore and research ideas.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> What still remains is the hard work of creating a standard that defines
</I>&gt;&gt;&gt;&gt;<i> interoperability. It would be great to see that progress, along with the
</I>&gt;&gt;&gt;&gt;<i> code.
</I>&gt;&gt;&gt;<i> I certainly agree that standards are hard work, which is why creating them
</I>&gt;&gt;&gt;<i> without reference to any working examples seems an almost impossible task to
</I>&gt;&gt;&gt;<i> me.  But that's just my own opinion which is not burdened by decades of
</I>&gt;&gt;&gt;<i> experience :)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I also have to echo what Dahlia said earlier.  OGP was extremely limited,
</I>&gt;&gt;&gt;<i> afaik being nothing beyond transporting an avatar name to a 'default' avatar
</I>&gt;&gt;&gt;<i> on another grid.  There was no other identity or appearance preservation,
</I>&gt;&gt;&gt;<i> let alone access to inventory - all extremely tough problems to address in
</I>&gt;&gt;&gt;<i> any scalable or secure manner.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Dahlia's phrase &quot;OpenSim community&quot; rather than &quot;OpenSim team&quot; illuminates
</I>&gt;&gt;&gt;<i> very well the structures in play here.  In terms of the core group, I
</I>&gt;&gt;&gt;<i> wouldn't say that we were a team as such but more a community of people with
</I>&gt;&gt;&gt;<i> a reasonably common set of interests who agree to abide by certain norms and
</I>&gt;&gt;&gt;<i> a few rules.  There was never really an &quot;OpenSim team&quot; to respond to OGP
</I>&gt;&gt;&gt;<i> proposals.  Rather, some people were interested in it and implemented the
</I>&gt;&gt;&gt;<i> required bits and pieces and other people were ambivalent or more interested
</I>&gt;&gt;&gt;<i> in alternative architectures.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Opensim-dev mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009483.html">[Opensim-dev] Interop
</A></li>
	<LI>Next message: <A HREF="009485.html">[Opensim-dev] Interop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9484">[ date ]</a>
              <a href="thread.html#9484">[ thread ]</a>
              <a href="subject.html#9484">[ subject ]</a>
              <a href="author.html#9484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
