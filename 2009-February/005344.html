<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] [REX] [Fwd: User Authentication]
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20%5BREX%5D%20%5BFwd%3A%20User%20Authentication%5D&In-Reply-To=%3Cf5f722b90902231612p1998f19bneecad26a36df6ca6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005350.html">
   <LINK REL="Next"  HREF="005347.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] [REX] [Fwd: User Authentication]</H1>
    <B>Mark Malewski</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20%5BREX%5D%20%5BFwd%3A%20User%20Authentication%5D&In-Reply-To=%3Cf5f722b90902231612p1998f19bneecad26a36df6ca6%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] [REX] [Fwd: User Authentication]">mark.malewski at gmail.com
       </A><BR>
    <I>Tue Feb 24 01:12:30 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005350.html">[Opensim-dev] [REX] [Fwd: User Authentication]
</A></li>
        <LI>Next message: <A HREF="005347.html">[Opensim-dev] [REX] [Fwd: User Authentication]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5344">[ date ]</a>
              <a href="thread.html#5344">[ thread ]</a>
              <a href="subject.html#5344">[ subject ]</a>
              <a href="author.html#5344">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A RADIUS server would make administration of user accounts, and also &quot;group&quot;
permissions much easier to administer.  (Such as Grid Administrators, and
&quot;PeaceKeepers&quot; that are capable of ejecting obscene users or &quot;troublemakers&quot;
from the grid).
<A HREF="http://en.wikipedia.org/wiki/OpenID">http://en.wikipedia.org/wiki/OpenID</A>

OpenID could work hand in hand with a RADIUS server, and I believe the
OpenID + Token system approach does seem to be the best (standards based)
solution.

A simple web page could be used for authentication (this could probably even
be integrated into a future version of OpenSim Web Interface 0.33.20?)

Grids could provide openIDs in the form of &quot;openid.osgrid.net/screenname&quot;




On Mon, Feb 23, 2009 at 5:44 PM, Hurliman, John &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">john.hurliman at intel.com</A>&gt;wrote:

&gt;<i> A RADIUS server is a solution to the problem of authentication. OpenID is a
</I>&gt;<i> solution for federated identity, and plays nicely with any authentication
</I>&gt;<i> solution you want to use. I think the description of this particular problem
</I>&gt;<i> is closer to identity verification across administrative domains than
</I>&gt;<i> defining a common login protocol, so the OpenID + token systems sound like
</I>&gt;<i> the right approach. However, this would currently have to happen purely as
</I>&gt;<i> communication between backend services since we can't change the viewer. A
</I>&gt;<i> possible flow might be:
</I>&gt;<i>
</I>&gt;<i> (OSGrid)-&gt;(UCI) &quot;User <A HREF="http://www.osgrid.org/users/Charles_Krinke">http://www.osgrid.org/users/Charles_Krinke</A> is
</I>&gt;<i> teleporting to you. His token is abcdef&quot;
</I>&gt;<i> (UCI)-&gt;(<A HREF="http://www.osgrid.org/users/Charles_Krinke">http://www.osgrid.org/users/Charles_Krinke</A>) &quot;I have the token
</I>&gt;<i> abcdef, is that a valid session token for Charles?&quot;
</I>&gt;<i> (UCI)&lt;-(<A HREF="http://www.osgrid.org/users/Charles_Krinke">http://www.osgrid.org/users/Charles_Krinke</A>) &quot;Yes it is&quot;
</I>&gt;<i> (OSGrid)&lt;-(UCI) &quot;That worked, thanks. Teleport is finished&quot;
</I>&gt;<i>
</I>&gt;<i> Notice that Charles happens to have his identity at OSGrid, but that's not
</I>&gt;<i> a requirement of the exchange. It could just as easily been an identity from
</I>&gt;<i> another grid, which will be useful for teleporting from UCI to ScienceSim.
</I>&gt;<i>
</I>&gt;<i> John
</I>&gt;<i>
</I>&gt;<i> &gt;-----Original Message-----
</I>&gt;<i> &gt;From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:opensim-dev-
</I>&gt;<i> &gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>] On Behalf Of Mark Malewski
</I>&gt;<i> &gt;Sent: Monday, February 23, 2009 3:04 PM
</I>&gt;<i> &gt;To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt;Subject: Re: [Opensim-dev] [REX] [Fwd: User Authentication]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Crista,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; The bottom line question in my email, phrased in OpenID terminology,
</I>&gt;<i> &gt;is whether we
</I>&gt;<i> &gt;&gt; can use the Viewer's IP address as the token.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;My question is, would you really want to use the Viewer's IP address as
</I>&gt;<i> &gt;the token?  What IP address would it specifically use?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;If a user were on an internal LAN, would it use the 192.168.1.x IP
</I>&gt;<i> &gt;address (local internal LAN address) or 10.x.x.x?  or 172.x.x.x?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Or would it use the external routable IP address (from the ISP)?  If
</I>&gt;<i> &gt;that were the case, then wouldn't 2 viewers that are accessing a server
</I>&gt;<i> &gt;from the same location (for example a library, or school, or
</I>&gt;<i> &gt;work/office) where multiple computers on the same internal LAN would try
</I>&gt;<i> &gt;to connect to an external grid server, then wouldn't the viewer's all
</I>&gt;<i> &gt;have the same IP address?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Keep in mind, that most users are using NAT behind their firewall, so
</I>&gt;<i> &gt;what IP address would you even use for the token?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;A better address would be the hostname address (<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">hostname at domain.com</A>).
</I>&gt;<i> &gt;This way each and every machine would always hava a unique hostname, and
</I>&gt;<i> &gt;it's tied to a specifc domain (whether it's an internal domain, a LAN,
</I>&gt;<i> &gt;or even the WAN/ISP domain name given by your local ISP, such as a local
</I>&gt;<i> &gt;comcast user:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">hostname at be-70-ar01.area1.il.chicago.comcast.net</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;It might make more sense to use hostname instead of an IP address.  So
</I>&gt;<i> &gt;maybe use the machine's full FQDN hostname as the token?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I still think a RADIUS server would be the best bet (the solution I
</I>&gt;<i> &gt;described in the message below), as the best possible longterm solution
</I>&gt;<i> &gt;to this problem.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;We would probably need to create some type of &quot;RADIUS&quot; module for
</I>&gt;<i> &gt;OpenSim.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                 Mark
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;On Mon, Feb 23, 2009 at 3:29 PM, Mark Malewski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">mark.malewski at gmail.com</A>&gt;
</I>&gt;<i> &gt;wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;       On Mon, Feb 23, 2009 at 3:28 PM, Mark Malewski
</I>&gt;<i> &gt;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">mark.malewski at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Crista,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Sounds like you are on the right track.  Sounds like a very
</I>&gt;<i> &gt;&quot;logical&quot; process, but why not use something like 802.1x/EAP?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               &gt; So, what can we do to detect the legitimacy of agents?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Instead of a &quot;Finnish Magic&quot;, why not use 802.1x and use a
</I>&gt;<i> &gt;RADIUS server for standard authentication?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Using simple 802.1x, the authenticator sends an &quot;EAP-
</I>&gt;<i> &gt;Request/Identity&quot; packet to the supplicant as soon as it detects that
</I>&gt;<i> &gt;the link is active (the user has associated with the grid/radius
</I>&gt;<i> &gt;server).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               1.      The supplicant sends an &quot;EAP-Response/Identity&quot;
</I>&gt;<i> packet
</I>&gt;<i> &gt;to the authenticator, which is then passed on to the authentication
</I>&gt;<i> &gt;(RADIUS) server.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               2.      The authentication server sends back a challenge to
</I>&gt;<i>  &gt;the authenticator, such as with a token password system. The
</I>&gt;<i> &gt;authenticator unpacks this from IP and repackages it into EAPOL and
</I>&gt;<i> &gt;sends it to the supplicant. Different authentication methods will vary
</I>&gt;<i> &gt;this message and the total number of messages. EAP supports client-only
</I>&gt;<i> &gt;authentication and strong mutual authentication. Only strong mutual
</I>&gt;<i> &gt;authentication is considered appropriate for the virtual world case.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               3.      The supplicant responds to the challenge via the
</I>&gt;<i> &gt;authenticator and passes the response onto the authentication server.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               4.      If the supplicant provides proper identity, the
</I>&gt;<i> &gt;authentication server responds with a success message, which is then
</I>&gt;<i> &gt;passed onto the supplicant. The authenticator now allows access to the
</I>&gt;<i> &gt;LAN- - possibly restricted based on attributes that came back from the
</I>&gt;<i> &gt;authentication server. For example, the authenticator might switch the
</I>&gt;<i> &gt;supplicant to a particular virtual LAN or install a set of firewall
</I>&gt;<i> &gt;rules.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               802.1x is a standard, and many wireless LAN vendors have
</I>&gt;<i> &gt;latched onto 802.1x standard to help authenticate and secure both wired
</I>&gt;<i> &gt;and wireless LANs.  The greatest feature of 802.1x is interoperability.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               It would seem to make sense to just use 802.1x
</I>&gt;<i> &gt;authentication, EAP is supposed to head off proprietary authentication
</I>&gt;<i> &gt;systems and let everything from passwords to challenge-response tokens
</I>&gt;<i> &gt;and public-key infrastructure certificates all work smoothly.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Why not just use a standard RADIUS server as the
</I>&gt;<i> &gt;authentication server?  With 802.1x, the user or client that wants to be
</I>&gt;<i> &gt;authenticated would be called a &quot;supplicant&quot;.  The actual server doing
</I>&gt;<i> &gt;the authentication (typically a RADIUS server) is called the
</I>&gt;<i> &gt;authentication server.  The device in between (such as a wireless access
</I>&gt;<i> &gt;point, or any region/grid server) is called the &quot;authenticator&quot;.  One of
</I>&gt;<i> &gt;the key points is that the authenticator can be simple and dumb, all of
</I>&gt;<i> &gt;the &quot;brains&quot; have to be in the supplicant and the authentication server.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Each Grid could run their own separate RADIUS server, and
</I>&gt;<i> &gt;user groups could be setup to allow users to &quot;hypergrid&quot; between grids
</I>&gt;<i> &gt;(securely).  [By setting up REALMS between Grids]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Each grid would be responsible for checking the
</I>&gt;<i> &quot;legitimacy&quot;
</I>&gt;<i> &gt;of it's users (via E-mail confirmation, etc.) and if any user was &quot;up to
</I>&gt;<i> &gt;no good&quot; then their user ID can be disabled, and their IP address can be
</I>&gt;<i> &gt;blocked (by the RADIUS server).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               <A HREF="http://freeradius.org/">http://freeradius.org/</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Using a standard FreeRADIUS server would make it extremely
</I>&gt;<i> &gt;easy for Grid Administrators to Administer User accounts.  RADIUS would
</I>&gt;<i> &gt;provide centralized access, authentication and accounting management for
</I>&gt;<i> &gt;users of the Grid.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               <A HREF="http://en.wikipedia.org/wiki/RADIUS">http://en.wikipedia.org/wiki/RADIUS</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               If someone attempted to &quot;hijack&quot; a secure session, the
</I>&gt;<i> &gt;RADIUS server checks that the information is correct using
</I>&gt;<i> &gt;authentication schemes like PAP, CHAP or EAP.  The RADIUS server than
</I>&gt;<i> &gt;returns one of three responses (&quot;Yea&quot;, &quot;Nay&quot;, or &quot;Challenge&quot;).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               The &quot;Access Challenge&quot; requests additional information from
</I>&gt;<i> &gt;the user (such as a secondary password, or a PIN number, mother's maiden
</I>&gt;<i> &gt;name, secret password, or a token or even a secureID card, biometrics,
</I>&gt;<i> &gt;etc.)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Similar to how a web-based online banking system (like Bank
</I>&gt;<i> &gt;of America) works.  If you are using the same computer all the time, it
</I>&gt;<i> &gt;only asks for your username and password.  If you attempt to login from
</I>&gt;<i> &gt;a new or different computer, then it kicks back an Access Challenge, and
</I>&gt;<i> &gt;asks you for additional information (like a secret password, or a PIN,
</I>&gt;<i> &gt;or to verify your mother's maiden name, or any of several challenge
</I>&gt;<i> &gt;passwords that only the actual user would know).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               If the Challenge is successful, then the secure tunnel is
</I>&gt;<i> &gt;established between the user machine and the RADIUS server (and access
</I>&gt;<i> &gt;credentials are completely hidden).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               By using RADIUS, we could also grant users access by
</I>&gt;<i> groups.
</I>&gt;<i> &gt;There could be an &quot;Administrators&quot; groups setup, and &quot;Moderator&quot; groups,
</I>&gt;<i> &gt;and &quot;Peace Keepers&quot; groups, and various groups with certain permissions
</I>&gt;<i> &gt;setup.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Also certain information is stored in the RADIUS server (IP
</I>&gt;<i> &gt;address of the user, maximum length that the user may remain connected,
</I>&gt;<i> &gt;an access list, priority queue or other restrictions on a user's access,
</I>&gt;<i> &gt;VLAN parameters, QoS parameters, etc.)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               RADIUS is commonly used to facilitate roaming between ISPs,
</I>&gt;<i> &gt;for example by companies which provide a single global set of
</I>&gt;<i> &gt;credentials that are usable on many public networks. RADIUS facilitates
</I>&gt;<i> &gt;this by the use of realms, which identify where the RADIUS server should
</I>&gt;<i> &gt;forward the AAA requests for processing.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               A realm is commonly appended to a user's user name and
</I>&gt;<i> &gt;delimited with an '@' sign, resembling an email address domain name.
</I>&gt;<i> &gt;This is known a postfix notation for the realm. Another common usage is
</I>&gt;<i> &gt;prefix notation, which involves prepending the realm to the username and
</I>&gt;<i> &gt;using '\' as a delimiter.  Modern RADIUS servers allow any character to
</I>&gt;<i> &gt;be used as a realm delimiter, although in practice '@' and '\' are
</I>&gt;<i> &gt;usually used.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Realms can also be compounded using both prefix and postfix
</I>&gt;<i> &gt;notation, to allow for complicated roaming scenarios; for example,
</I>&gt;<i> &gt;somedomain.com &lt;<A HREF="http://somedomain.com/">http://somedomain.com/</A>&gt; \<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">username at anotherdomain.com</A>
</I>&gt;<i>  &gt;could be a valid username with two realms.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Although realms often resemble email domains, it is
</I>&gt;<i> &gt;important to note that realms are in fact arbitrary text and need not
</I>&gt;<i> &gt;contain real domain names.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               So users from different Grids could roam freely between
</I>&gt;<i> &gt;&quot;partnering&quot; Grid servers using realms.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               Proxy operations
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               When a RADIUS server receives an AAA request for a user
</I>&gt;<i> name
</I>&gt;<i> &gt;containing a realm, the server will reference a table of configured
</I>&gt;<i> &gt;realms. If the realm is known, the server will then proxy the request to
</I>&gt;<i> &gt;the configured home server for that domain. The behaviour of the
</I>&gt;<i> &gt;proxying server regarding the removal of the realm from the request
</I>&gt;<i> &gt;(&quot;stripping&quot;) is configuration-dependent on most servers. In addition,
</I>&gt;<i> &gt;the proxying server can be configured to add, remove or rewrite AAA
</I>&gt;<i> &gt;requests when they are proxied.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               I believe the first step would be to get a RADIUS server
</I>&gt;<i> &gt;setup and working, and then work on setting up two grids together (using
</I>&gt;<i> &gt;REALM between the two RADIUS servers) and then once this could be done,
</I>&gt;<i> &gt;then later additional grids could be &quot;trusted&quot; and allowed onto the
</I>&gt;<i> &gt;network.  So users could roam freely between the &quot;trusted grids&quot;.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               If a user was reported to the Grid Owner (as being an
</I>&gt;<i> &gt;&quot;abusive user&quot;) then the Grid owner would suspend that user's account,
</I>&gt;<i> &gt;and send an &quot;abuse notification&quot; to the Grid Owner (that the user has
</I>&gt;<i> &gt;violated the Terms of Service for the Grid).  Basically just &quot;pull the
</I>&gt;<i> &gt;plug&quot; on that user's account, and kick them off the grid, and ban their
</I>&gt;<i> &gt;computer &amp; IP address.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               It would make it extremely easy for &quot;policing&quot; the Grid,
</I>&gt;<i> and
</I>&gt;<i> &gt;any users that want &quot;Secure Inter-Grid&quot; handshakes would just join the
</I>&gt;<i> &gt;REALM network.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                                     Mark
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               P.S. If you need some help with this, I'm sure we can sit
</I>&gt;<i> &gt;down and discuss it a bit, and set something up as a &quot;demo&quot; grid as to
</I>&gt;<i> &gt;how this could be done.  Then later other Grids (like OS Grid, and
</I>&gt;<i> &gt;various others) could join the REALM grid network.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;               On Mon, Feb 23, 2009 at 2:19 PM, Toni Alatalo
</I>&gt;<i> &gt;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">antont at kyperjokki.fi</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       this kinda sounds like trying to achieve what
</I>&gt;<i> rexauth
</I>&gt;<i> &gt;does, no?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       perhaps someone could write how it is w.r.t to that
</I>&gt;<i> &gt;case? i might be
</I>&gt;<i> &gt;                       able, but too tired now and probably busy tomorrow.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       also John Hurliman is planning new auth stuff with
</I>&gt;<i> &gt;openid and some
</I>&gt;<i> &gt;                       openid related token thing (i forgot the name)
</I>&gt;<i> which
</I>&gt;<i> &gt;is basically 'same
</I>&gt;<i> &gt;                       as rexauth but standards instead of Finnish magic',
</I>&gt;<i> &gt;like he said the
</I>&gt;<i> &gt;                       other day :) .. so perhaps he replies his plan
</I>&gt;<i> there,
</I>&gt;<i> &gt;seems to be online
</I>&gt;<i> &gt;                       at least.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       ~Toni
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> --~--~---------~--~----~------------~-------~--~----~
</I>&gt;<i> &gt;                       this list:
</I>&gt;<i> <A HREF="http://groups.google.com/group/realxtend">http://groups.google.com/group/realxtend</A>
</I>&gt;<i> &gt;                       realXtend home page: <A HREF="http://www.realxtend.org/">http://www.realxtend.org/</A>
</I>&gt;<i> &gt;
</I>&gt;<i> -~----------~----~----~----~------~----~------~--~---
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       I'm about to start tightening the ropes for the
</I>&gt;<i> &gt;Hypergrid in order to
</I>&gt;<i> &gt;                       make it safer, and also make safer some loose ends
</I>&gt;<i> of
</I>&gt;<i> &gt;OpenSim without
</I>&gt;<i> &gt;                       HG, and I would appreciate feedback on this.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       The first issue that needs to be addressed is the
</I>&gt;<i> &gt;issue of user
</I>&gt;<i> &gt;                       authentication. The regions need to be able to
</I>&gt;<i> verify
</I>&gt;<i> &gt;that the agent
</I>&gt;<i> &gt;                       that claims to be representing
</I>&gt;<i> &gt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Charles.Krinke at osgrid.org</A> is, indeed,
</I>&gt;<i> &gt;                       representing <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Charles.Krinke at osgrid.org.</A> (As you
</I>&gt;<i> know,
</I>&gt;<i> &gt;right now this
</I>&gt;<i> &gt;                       is... err... a bit overlooked... *coughs*... and
</I>&gt;<i> not
</I>&gt;<i> &gt;just in the HG...
</I>&gt;<i> &gt;                       *more coughs*).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       Having looked at OpenID, I came to the conclusion
</I>&gt;<i> that
</I>&gt;<i> &gt;it's not enough
</I>&gt;<i> &gt;                       to know that osgrid.org &lt;<A HREF="http://osgrid.org/">http://osgrid.org/</A>&gt;  has
</I>&gt;<i> a
</I>&gt;<i>  &gt;user named &quot;Charles Krinke&quot;, and we
</I>&gt;<i> &gt;                       certainly don't want Charles to be constantly
</I>&gt;<i> typing
</I>&gt;<i> &gt;his password
</I>&gt;<i> &gt;                       everytime he moves; the region needs to know that
</I>&gt;<i> this
</I>&gt;<i> &gt;user is already
</I>&gt;<i> &gt;                       logged in to the system AND the region also needs
</I>&gt;<i> to
</I>&gt;<i> &gt;know that the agent
</I>&gt;<i> &gt;                       that is representing this user is a legitimate
</I>&gt;<i> agent.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       OK, so the part about being logged in is easy; the
</I>&gt;<i> &gt;user server already
</I>&gt;<i> &gt;                       knows that, to some approximation.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       However, the part about the agent being legitimate
</I>&gt;<i> is
</I>&gt;<i> &gt;a bit more tricky.
</I>&gt;<i> &gt;                       Here's the bad thing that can happen: Charles logs
</I>&gt;<i> in
</I>&gt;<i> &gt;to OSgrid, and TPs
</I>&gt;<i> &gt;                       to this intriguing region called &quot;Sports
</I>&gt;<i> Illuminated
</I>&gt;<i> &gt;Swimming Suite
</I>&gt;<i> &gt;                       Edition&quot;. That region happens to be up to no good.
</I>&gt;<i> It
</I>&gt;<i> &gt;grabs Charles
</I>&gt;<i> &gt;                       current notion of identity (all the current
</I>&gt;<i> &gt;identifiers we use), it
</I>&gt;<i> &gt;                       crashes Charles' viewer so that the user server
</I>&gt;<i> never
</I>&gt;<i> &gt;knows about it,
</I>&gt;<i> &gt;                       and proceeds to impersonate Charles using all those
</I>&gt;<i> &gt;stolen identifiers;
</I>&gt;<i> &gt;                       for example, it can go back to Charles's regions
</I>&gt;<i> and
</I>&gt;<i> &gt;erase them
</I>&gt;<i> &gt;                       completely pretending to be Charles.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       So, what can we do to detect the legitimacy of
</I>&gt;<i> agents?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       Having scratched my head over this, I came to the
</I>&gt;<i> &gt;conclusion that the
</I>&gt;<i> &gt;                       most promising element that can be used to identify
</I>&gt;<i> &gt;agents is the
</I>&gt;<i> &gt;                       Viewer's EndPoint. This is what happens down in the
</I>&gt;<i> &gt;LLUDPServer (I'm
</I>&gt;<i> &gt;                       sure something similar happens in other viewers'
</I>&gt;<i> &gt;packet handlers):
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                                  if (packet != null)
</I>&gt;<i> &gt;                                  {
</I>&gt;<i> &gt;                                      if (packet.Type ==
</I>&gt;<i> &gt;PacketType.UseCircuitCode)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;AddNewClient((UseCircuitCodePacket)packet, epSender,
</I>&gt;<i> &gt;                       epProxy);
</I>&gt;<i> &gt;                                      else
</I>&gt;<i> &gt;                                          ProcessInPacket(packet,
</I>&gt;<i> epSender);
</I>&gt;<i> &gt;                                  }
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       The EndPoint epSender comes directly from the
</I>&gt;<i> socket
</I>&gt;<i> &gt;and I'm assuming it
</I>&gt;<i> &gt;                       can't be faked, at least the IP part. Is this
</I>&gt;<i> correct?
</I>&gt;<i> &gt;This is a
</I>&gt;<i> &gt;                       critical assumption.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       So, back to the &quot;Sports Illuminated&quot; scenario: that
</I>&gt;<i> &gt;sim would then try
</I>&gt;<i> &gt;                       to launch an agent at Charles' region. It can fake
</I>&gt;<i> &gt;everything except
</I>&gt;<i> &gt;                       being Charles' viewer machine. When Charles' region
</I>&gt;<i> &gt;does that code
</I>&gt;<i> &gt;                       above, it asks the User server for authentication
</I>&gt;<i> of
</I>&gt;<i> &gt;an agent with all
</I>&gt;<i> &gt;                       those identifiers and the given EndPoint, and the
</I>&gt;<i> User
</I>&gt;<i> &gt;server tells back
</I>&gt;<i> &gt;                       that Charles wasn't using that EndPoint to start
</I>&gt;<i> with,
</I>&gt;<i> &gt;so the
</I>&gt;<i> &gt;                       authentication fails, and an alarm is rang.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       Thoughts?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       Crista
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       Disclaimer: I'm not an expert in security, I'm just
</I>&gt;<i> &gt;using my brain in
</I>&gt;<i> &gt;                       context.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;                       _______________________________________________
</I>&gt;<i> &gt;                       Opensim-dev mailing list
</I>&gt;<i> &gt;                       <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20090223/e2b28e52/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20090223/e2b28e52/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005350.html">[Opensim-dev] [REX] [Fwd: User Authentication]
</A></li>
	<LI>Next message: <A HREF="005347.html">[Opensim-dev] [REX] [Fwd: User Authentication]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5344">[ date ]</a>
              <a href="thread.html#5344">[ thread ]</a>
              <a href="subject.html#5344">[ subject ]</a>
              <a href="author.html#5344">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
