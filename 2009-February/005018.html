<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Avatar movement packet optimization
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Avatar%20movement%20packet%20optimization&In-Reply-To=%3C323F4B69A10B1E44AB7D97776AD0E495063958DDAC%40STOEXMBX01.domain01.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005016.html">
   <LINK REL="Next"  HREF="005031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Avatar movement packet optimization</H1>
    <B>Mikko Pallari</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Avatar%20movement%20packet%20optimization&In-Reply-To=%3C323F4B69A10B1E44AB7D97776AD0E495063958DDAC%40STOEXMBX01.domain01.net%3E"
       TITLE="[Opensim-dev] Avatar movement packet optimization">mikko.pallari at adminotech.com
       </A><BR>
    <I>Thu Feb 12 14:26:26 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005016.html">[Opensim-dev] Avatar movement packet optimization
</A></li>
        <LI>Next message: <A HREF="005031.html">[Opensim-dev] Avatar movement packet optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5018">[ date ]</a>
              <a href="thread.html#5018">[ thread ]</a>
              <a href="subject.html#5018">[ subject ]</a>
              <a href="author.html#5018">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Yes, 'dramatic' as in positive.

The changes introduced in the patch work for LL clients also and propably for OpenMetaverse clients too, but I haven't tested this patch with them.

Resizing the terseupdate packet size is going to be placed in to ModRex at least, that's why in the patch SendAvatarTerseUpdate method is marked as virtual.

Sean Dague wrote:
&gt;<i> Very cool to see this patch.  There is some feedback in the mantis tracker about adjusting the way types are used.  It would be great if you could respin the patch based on that so we could get this in.
</I>
Already done.

Cheers,
Mikko

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Dirk Krause
Sent: 12. helmikuuta 2009 13:36
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Avatar movement packet optimization

Hi,

- dramatic in terms of 'positive'?
- to take advantage of the client side changes one would need to change the viewer source (or take the Rex Viewer) then?
  I also take it that OpenMetaverse based viewers (like IdealistViewer) would need a patch for OpenMetaverse?


even with the 'server only' optimization, it still is a great contribution. Should be tested though, and I wonder what would be a smart way to do this.

Best,
  Dirk/Bart

-----Urspr&#252;ngliche Nachricht-----
Von: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] Im Auftrag von Mikko Pallari
Gesendet: Donnerstag, 12. Februar 2009 12:16
An: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Betreff: Re: [Opensim-dev] Avatar movement packet optimization

That optimization did this and also reduced the terseupdate packet size. That needed changes to protocol, and because we can't change the protocol with Linded client, the effect won't be so dramatic here.

Cheers,
Mikko

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Jeroen van Veen
Sent: 12. helmikuuta 2009 11:15
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] Avatar movement packet optimization

i saw that robotdemo a while ago at <A HREF="http://community.rexdeveloper.org/.">http://community.rexdeveloper.org/.</A> It's
the same optimization? That was really some impressive cool stuff. keep up the
good work!

Jeroen

On Wednesday 11 February 2009 18:59:19 Tommi Laukkanen wrote:
&gt;<i> Nice!
</I>&gt;<i>
</I>&gt;<i> We need more work like this.
</I>&gt;<i>
</I>&gt;<i> Tommi
</I>&gt;<i>
</I>&gt;<i> On Wed, Feb 11, 2009 at 1:21 PM, Mikko Pallari
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">mikko.pallari at adminotech.com</A>
</I>&gt;<i>
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;  Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I have made a patch to optimize number of packets to enable even more
</I>&gt;<i> &gt; users in simulator. I have submitted this patch to mantis and you can
</I>&gt;<i> &gt; review it here: <A HREF="http://opensimulator.org/mantis/view.php?id=3136">http://opensimulator.org/mantis/view.php?id=3136</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And as described in mantis this packet should increase the max number of
</I>&gt;<i> &gt; avatars the server can handle. It combines many terse update packets in
</I>&gt;<i> &gt; to one packet.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Our initial tests show that:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - two avatars moving in a circle with optimization: 30-60 packets per
</I>&gt;<i> &gt; second on client
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - two avatars moving in a circle without optimization: 40-70 packets per
</I>&gt;<i> &gt; second on client
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Mikko Pallari
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>
_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>


_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005016.html">[Opensim-dev] Avatar movement packet optimization
</A></li>
	<LI>Next message: <A HREF="005031.html">[Opensim-dev] Avatar movement packet optimization
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5018">[ date ]</a>
              <a href="thread.html#5018">[ thread ]</a>
              <a href="subject.html#5018">[ subject ]</a>
              <a href="author.html#5018">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
