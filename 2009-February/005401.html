<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] User Authentication
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20User%20Authentication&In-Reply-To=%3C49A57D49.6080305%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005396.html">
   <LINK REL="Next"  HREF="005403.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] User Authentication</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20User%20Authentication&In-Reply-To=%3C49A57D49.6080305%40googlemail.com%3E"
       TITLE="[Opensim-dev] User Authentication">jjustincc at googlemail.com
       </A><BR>
    <I>Wed Feb 25 18:18:01 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005396.html">[Opensim-dev] User Authentication
</A></li>
        <LI>Next message: <A HREF="005403.html">[Opensim-dev] User Authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5401">[ date ]</a>
              <a href="thread.html#5401">[ thread ]</a>
              <a href="subject.html#5401">[ subject ]</a>
              <a href="author.html#5401">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Diva Canto wrote:
&gt;<i>   Mike Mazur wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Tue, 24 Feb 2009 19:54:16 -0800
</I>&gt;&gt;<i> Diva Canto &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">diva at metaverseink.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   
</I>&gt;&gt;&gt;<i> * Within a few days: write a simple [optional]
</I>&gt;&gt;&gt;<i> UserAuthenticationModule along the lines of option a) that does the
</I>&gt;&gt;&gt;<i> following: upon a NewUserConnection, regions will check with the
</I>&gt;&gt;&gt;<i> incoming user's User server that the declared user exists and is
</I>&gt;&gt;&gt;<i> logged into the system.
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In a grid a region can be told (via a configuration option) which user
</I>&gt;&gt;<i> server to check. What about HG regions? How does an HG region know
</I>&gt;&gt;<i> which user server to ping? Is this information supplied by the
</I>&gt;&gt;<i> connecting client? If so, what's to prevent a malicious client from
</I>&gt;&gt;<i> supplying a user server that will always reply favorably?
</I>&gt;&gt;<i>   
</I>&gt;<i> The HG region sends that information along when the user moves away from 
</I>&gt;<i> the home UGAIM. The user carries along the collection of URLs of all of 
</I>&gt;<i> the servers it uses. It's ok if the given User Server @ foobar.com 
</I>&gt;<i> always says yes -- that's not the problem. The problem we need to detect 
</I>&gt;<i> is the user claiming to be from Intel.com or OSGrid.org, when, in fact, 
</I>&gt;<i> isn't.
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> Furthermore, upon AddNewClient (which happens
</I>&gt;&gt;&gt;<i> shortly after), regions will challenge the incoming client with 3 UDP
</I>&gt;&gt;&gt;<i> Ping messages having random seq numbers, to which the incoming client
</I>&gt;&gt;&gt;<i> must respond correctly
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> How does the client know the correct response?
</I>&gt;&gt;<i>   
</I>&gt;<i> In fiddling with the client after talking to Teravus, I discovered a 
</I>&gt;<i> pair of response-reply packets that can be initiated from the server. 
</I>&gt;<i> They are StartPingCheck / CompletePingCheck. They take a byte as 
</I>&gt;<i> argument. The server sends StartPingCheck(33), the client responds with 
</I>&gt;<i> CompletePingCheck(33). Handy.
</I>
Just so I'm clear, your new scheme proposes the following steps?

1)  When a client enters a new region (whether by initial login, teleport or region crossing), the region server will 
ask the user server if the IP given by the client matches that which it has previously stored on the user login?

2)  If these addresses match, then a further validation against spoofing is performed by pinging the client using the 
StartPingCheck.  A client spoofing the address will not be able to reply.

-- 
justincc
Justin Clark-Casey
<A HREF="http://justincc.wordpress.com">http://justincc.wordpress.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005396.html">[Opensim-dev] User Authentication
</A></li>
	<LI>Next message: <A HREF="005403.html">[Opensim-dev] User Authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5401">[ date ]</a>
              <a href="thread.html#5401">[ thread ]</a>
              <a href="subject.html#5401">[ subject ]</a>
              <a href="author.html#5401">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
