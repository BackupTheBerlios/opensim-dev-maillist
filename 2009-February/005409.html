<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Phantom prims and memory usage?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Phantom%20prims%20and%20memory%20usage%3F&In-Reply-To=%3C49A59658.2080707%40pseudospace.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005410.html">
   <LINK REL="Next"  HREF="005322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Phantom prims and memory usage?</H1>
    <B>John Sheridan</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Phantom%20prims%20and%20memory%20usage%3F&In-Reply-To=%3C49A59658.2080707%40pseudospace.net%3E"
       TITLE="[Opensim-dev] Phantom prims and memory usage?">john at pseudospace.net
       </A><BR>
    <I>Wed Feb 25 20:04:56 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005410.html">[Opensim-dev] Phantom prims and memory usage?
</A></li>
        <LI>Next message: <A HREF="005322.html">[Opensim-dev] User Authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5409">[ date ]</a>
              <a href="thread.html#5409">[ thread ]</a>
              <a href="subject.html#5409">[ subject ]</a>
              <a href="author.html#5409">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>John,
  So far I've not noticed much of a change in cpu use, but within my 
configuration its rather difficult to judge as we currently have a mess 
of scripts that it seems I'm forever having to clean up.  So far it 
seems that the phantom tests have made an impact on memory usage though, 
as I stated in my last post the initial test using a clean reboot of the 
server saw a decrease of around 220 megs of ram used.  I've not had the 
chance to continue any further with this as I'm currently under the wire 
to wrap up my research paper (oddly enough on ethics within virtual 
worlds), but so far within just general use I've noticed things seem to 
run a bit smoother.  As for cpu, I'd imagine with less things for the 
avatar to collide with it would potentially be a bit less.  I should 
hopefully have some more data by the end of the week.

Thanks, :)

 - John

John Hopkin wrote:
&gt;<i> John Sheridan wrote:
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> Ok, I'm trying a little bit of an experiment here and I'm wondering if 
</I>&gt;&gt;<i> anyone else has tried this and had similar results?  We're running ODE 
</I>&gt;&gt;<i> on Linux Ubuntu using a vps setup hosted on quad core Xeons.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm going on the concept that if an object does not need any sort of 
</I>&gt;&gt;<i> physical interaction that if its made phantom the server will in effect 
</I>&gt;&gt;<i> use less resources.  In this case I have one server thats running six 
</I>&gt;&gt;<i> sims with around 30,000 prims spread between them all.  After going 
</I>&gt;&gt;<i> around and setting as many objects as possible to phantom (telephone 
</I>&gt;&gt;<i> poles, windows, tables, chairs, misc props and anything thats not needed 
</I>&gt;&gt;<i> to keep the avatar from falling out of the buildings) it appears as 
</I>&gt;&gt;<i> though that server's memory usage has gone down from about 70% (740 
</I>&gt;&gt;<i> megs) down to 45% (520 megs).  I would estimate that in total 
</I>&gt;&gt;<i> approximately 15,000 to 20,000 prims were set to phantom.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Very interesting - thanks for looking into this.
</I>&gt;<i>
</I>&gt;<i> It seems that in actual builds, those we see in use in SL, for
</I>&gt;<i> example, most prims don't need to be non-phantom but are, and it's not
</I>&gt;<i> surprising to find that your exercise reduces the cost.   I've
</I>&gt;<i> sometimes wondered if there's a case for saying that new prims should
</I>&gt;<i> be phantom by default, though I'm not necessarily suggesting that as a
</I>&gt;<i> course of action for OpenSim.  It certainly helps avatar movement when
</I>&gt;<i> a cleanup like you describe is done, especially with furniture,
</I>&gt;<i> poseballs etc, and it's well worth the time doing that even if only
</I>&gt;<i> for the sake of smooth operation.
</I>&gt;<i>
</I>&gt;<i> Is there any indication of a corresponding drop in CPU usage,
</I>&gt;<i> especially when avatars are moving around in there?
</I>&gt;<i>   
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20090225/488aecf1/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20090225/488aecf1/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005410.html">[Opensim-dev] Phantom prims and memory usage?
</A></li>
	<LI>Next message: <A HREF="005322.html">[Opensim-dev] User Authentication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5409">[ date ]</a>
              <a href="thread.html#5409">[ thread ]</a>
              <a href="subject.html#5409">[ subject ]</a>
              <a href="author.html#5409">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
