<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] how does libopenmv handle different versions of the	same packets?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20how%20does%20libopenmv%20handle%20different%20versions%20of%0A%20the%09same%20packets%3F&In-Reply-To=%3C62BFE5680C037E4DA0B0A08946C0933D04B0D068%40rrsmsx506.amr.corp.intel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002794.html">
   <LINK REL="Next"  HREF="002813.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] how does libopenmv handle different versions of the	same packets?</H1>
    <B>Hurliman, John</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20how%20does%20libopenmv%20handle%20different%20versions%20of%0A%20the%09same%20packets%3F&In-Reply-To=%3C62BFE5680C037E4DA0B0A08946C0933D04B0D068%40rrsmsx506.amr.corp.intel.com%3E"
       TITLE="[Opensim-dev] how does libopenmv handle different versions of the	same packets?">john.hurliman at intel.com
       </A><BR>
    <I>Fri Aug 29 18:39:52 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002794.html">[Opensim-dev] how does libopenmv handle different versions of the	same packets?
</A></li>
        <LI>Next message: <A HREF="002813.html">[Opensim-dev] [libsl-dev] how does libopenmv handle different	versions of the same packets?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2796">[ date ]</a>
              <a href="thread.html#2796">[ thread ]</a>
              <a href="subject.html#2796">[ subject ]</a>
              <a href="author.html#2796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One of the changes that came out of the protocol freeze is that packets are allowed to be truncated; they can have missing blocks at the end (and possibly missing fields). This change hasn't been adopted in libomv yet (since we've historically been client-focused, and the client solution is to just upgrade to the latest message_template.msg) but it shouldn't be much of a fix. It could even be backported to libsecondlife until I finish the OpenSim/libomv upgrade patches. If you happen to have a packet dump of the before and after packets, either in a binary or ASCII hexadecimal format, I can run it through the decoder right away and make a patch. Otherwise it shouldn't be too difficult to capture some of those packets with Wireshark. I'll post an update when it's done.

John

-----Original Message-----
From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Sean Dague
Sent: Friday, August 29, 2008 8:14 AM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">libsl-dev at openmv.org</A>
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: [Opensim-dev] how does libopenmv handle different versions of the same packets?

There was an attempt to upgrade packets.cs in OpenSim yesterday by MW to
pull in the new surface vectors in the ObjectGrab* packets, which will
let us detect the touch points for 1.21 (unreleased) clients.

The issue is that pre 1.21 clients don't send those extra fields, and
that the packet parser was blowing up violently.  How is libopenmv
supposed to be handling this case?  For using in opensim we definitely
need to be able to support both pre 1.21 and post 1.21 clients at the
same time, just with zeroed out values in the &lt; 1.21 case.

Thanks in advance,

        -Sean

--
Sean Dague / Neas Bade
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">sdague at gmail.com</A>
<A HREF="http://dague.net">http://dague.net</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002794.html">[Opensim-dev] how does libopenmv handle different versions of the	same packets?
</A></li>
	<LI>Next message: <A HREF="002813.html">[Opensim-dev] [libsl-dev] how does libopenmv handle different	versions of the same packets?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2796">[ date ]</a>
              <a href="thread.html#2796">[ thread ]</a>
              <a href="subject.html#2796">[ subject ]</a>
              <a href="author.html#2796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
