<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] [libsl-dev] how does libopenmv handle	different	versions of the same packets?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20%5Blibsl-dev%5D%20how%20does%20libopenmv%20handle%0A%09different%09versions%20of%20the%20same%20packets%3F&In-Reply-To=%3C62BFE5680C037E4DA0B0A08946C0933D04B0D3D8%40rrsmsx506.amr.corp.intel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002816.html">
   <LINK REL="Next"  HREF="002822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] [libsl-dev] how does libopenmv handle	different	versions of the same packets?</H1>
    <B>Hurliman, John</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20%5Blibsl-dev%5D%20how%20does%20libopenmv%20handle%0A%09different%09versions%20of%20the%20same%20packets%3F&In-Reply-To=%3C62BFE5680C037E4DA0B0A08946C0933D04B0D3D8%40rrsmsx506.amr.corp.intel.com%3E"
       TITLE="[Opensim-dev] [libsl-dev] how does libopenmv handle	different	versions of the same packets?">john.hurliman at intel.com
       </A><BR>
    <I>Sun Aug 31 18:41:50 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002816.html">[Opensim-dev] [libsl-dev] how does libopenmv handle different	versions of the same packets?
</A></li>
        <LI>Next message: <A HREF="002822.html">[Opensim-dev] [libsl-dev] how does libopenmv handle different	versions of the same packets?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2820">[ date ]</a>
              <a href="thread.html#2820">[ thread ]</a>
              <a href="subject.html#2820">[ subject ]</a>
              <a href="author.html#2820">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Are you using the latest mapgenerator from trunk/Programs/mapgenerator?


From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A>] On Behalf Of Michael Wright
Sent: Sunday, August 31, 2008 3:44 AM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
Subject: Re: [Opensim-dev] [libsl-dev] how does libopenmv handle different versions of the same packets?

hmm strange.

We had the problem when using the current _packet_.cs (on friday) from libomv. I replaced the old _packet_.cs in our libsl version (changing the Maths types back to the LL ones). With the lines to read/convert the SurfaceInfoBlocks commented out, this works fine. But with those lines in there, it throws MalformedDataException from the SurfaceInfoBlock.FromBytes(). So one confirmed it didn't do this when using the 1.21 preview viewer.

So not sure what the difference is.

John Hurliman &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jhurliman at jhurliman.org</A>&gt; wrote:
I'm not able to reproduce this with the trunk of libomv, I believe it was fixed a long time ago. With a 1.20 release candidate viewer I will correctly get an ObjectGrabPacket object with a SurfaceInfoBlock array of zero length. If I connect with a 1.21 client I get a SurfaceInfoBlock array with length one and all of the fields filled in. Sounds like the solution is for libomv to get the 0.6.0 release pushed out (alongside the 1.0.0 release of OpenMetaverseTypes), and me to finish the upgrade patch for OpenSim.

John

On Fri, Aug 29, 2008 at 8:13 AM, Sean Dague &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">sdague at gmail.com</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">sdague at gmail.com</A>&gt;&gt; wrote:
There was an attempt to upgrade packets.cs in OpenSim yesterday by MW to
pull in the new surface vectors in the ObjectGrab* packets, which will
let us detect the touch points for 1.21 (unreleased) clients.

The issue is that pre 1.21 clients don't send those extra fields, and
that the packet parser was blowing up violently.  How is libopenmv
supposed to be handling this case?  For using in opensim we definitely
need to be able to support both pre 1.21 and post 1.21 clients at the
same time, just with zeroed out values in the &lt; 1.21 case.

Thanks in advance,

       -Sean

--
Sean Dague / Neas Bade
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">sdague at gmail.com</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">sdague at gmail.com</A>&gt;
<A HREF="http://dague.net">http://dague.net</A>



_______________________________________________
libsl-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">libsl-dev at openmv.org</A>&lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">libsl-dev at openmv.org</A>&gt;
<A HREF="http://openmv.org/cgi-bin/mailman/listinfo/libsl-dev">http://openmv.org/cgi-bin/mailman/listinfo/libsl-dev</A>

_______________________________________________
Opensim-dev mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20080831/63666d36/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20080831/63666d36/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002816.html">[Opensim-dev] [libsl-dev] how does libopenmv handle different	versions of the same packets?
</A></li>
	<LI>Next message: <A HREF="002822.html">[Opensim-dev] [libsl-dev] how does libopenmv handle different	versions of the same packets?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2820">[ date ]</a>
              <a href="thread.html#2820">[ thread ]</a>
              <a href="subject.html#2820">[ subject ]</a>
              <a href="author.html#2820">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
