<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] further db thoughts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-January/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20further%20db%20thoughts&In-Reply-To=%3C20080114170734.GB4180%40dague.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000677.html">
   <LINK REL="Next"  HREF="000679.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] further db thoughts</H1>
    <B>Sean Dague</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20further%20db%20thoughts&In-Reply-To=%3C20080114170734.GB4180%40dague.net%3E"
       TITLE="[Opensim-dev] further db thoughts">sean at dague.net
       </A><BR>
    <I>Mon Jan 14 18:07:34 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000677.html">[Opensim-dev] further db thoughts
</A></li>
        <LI>Next message: <A HREF="000679.html">[Opensim-dev] further db thoughts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#678">[ date ]</a>
              <a href="thread.html#678">[ thread ]</a>
              <a href="subject.html#678">[ subject ]</a>
              <a href="author.html#678">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jan 14, 2008 at 11:31:50AM +0100, Stefan Andersson wrote:
&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> ---
</I>&gt;<i> Stefan, It would be motivating if you could provide a sample about how the TribalMedia data framework should work. Could that be done by implementing the very simple asset server as an example ? I propose we would make it work, make tests, comment and try to improve it, then it may serve as a baseline for the other db stuff ?
</I>&gt;<i> --- 
</I>&gt;<i>  
</I>&gt;<i> *doh*
</I>&gt;<i>  
</I>&gt;<i> I'll just post the code; but beware, it doesn't work, it's just to show you how stuff would interact
</I>&gt;<i>  
</I>&gt;<i> (Also, the code could probably be cleaner...)
</I>&gt;<i>  
</I>&gt;<i> What to look for:
</I>&gt;<i> * how the Schema is created and populated
</I>&gt;<i> * how the m_keyFieldMapper (that is used to extract primary key from queries) is initialized
</I>&gt;<i> * how the FromReader passes on to FillObject() - the function that will use the Schema to populate the RowMapper (and the PrimitiveBaseShape)
</I>&gt;<i> * How the CRUD and CreateRowMapper functions are really just there to
</I>&gt;<i> get a cleaner interface for the caller.
</I>
I'm a bit concerned about the ability to get SQL injection through the
process (unless I missed something).  We need to either put in filter
for that, or use the parametrized SQL for the base drivers to let them
filter that.

I'm still wrapping my head around all of it, but I like much of what I'm
seeing so far.  More later.

    -Sean

-- 
__________________________________________________________________

Sean Dague                                       Mid-Hudson Valley
sean at dague dot net                            Linux Users Group
<A HREF="http://dague.net">http://dague.net</A>                                 <A HREF="http://mhvlug.org">http://mhvlug.org</A>

There is no silver bullet.  Plus, werewolves make better neighbors
than zombies, and they tend to keep the vampire population down.
__________________________________________________________________
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20080114/545482c5/attachment.pgp">https://lists.berlios.de/pipermail/opensim-dev/attachments/20080114/545482c5/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000677.html">[Opensim-dev] further db thoughts
</A></li>
	<LI>Next message: <A HREF="000679.html">[Opensim-dev] further db thoughts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#678">[ date ]</a>
              <a href="thread.html#678">[ thread ]</a>
              <a href="subject.html#678">[ subject ]</a>
              <a href="author.html#678">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
