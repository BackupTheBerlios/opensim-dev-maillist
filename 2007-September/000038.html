<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] A modest proposal
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20A%20modest%20proposal&In-Reply-To=%3C20070920194943.GT1471%40dague.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000033.html">
   <LINK REL="Next"  HREF="000041.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] A modest proposal</H1>
    <B>Sean Dague</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20A%20modest%20proposal&In-Reply-To=%3C20070920194943.GT1471%40dague.net%3E"
       TITLE="[Opensim-dev] A modest proposal">sean at dague.net
       </A><BR>
    <I>Thu Sep 20 21:49:43 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000033.html">[Opensim-dev] A modest proposal
</A></li>
        <LI>Next message: <A HREF="000041.html">[Opensim-dev] A modest proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38">[ date ]</a>
              <a href="thread.html#38">[ thread ]</a>
              <a href="subject.html#38">[ subject ]</a>
              <a href="author.html#38">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Sep 20, 2007 at 08:30:18PM +0200, Stefan Andersson wrote:
&gt;<i> After rummaging thru the Connectivity/Scene/Agent/InterRegion code, I have a proposal for a restructuring. Of course, it's quite core, but feel free to comment anyway.
</I>&gt;<i>  
</I>&gt;<i> I propose that we leave the if( ChildAgent ) model and split the whole core into a Scene and a Region layer, right thru the Agent.
</I>&gt;<i>  
</I>&gt;<i> The 'Region' layer will be responsible for low-level agent
</I>&gt;<i> administration; instead of a 'child agent', every agent has a number
</I>&gt;<i> of 'RegionPresence's - these have no local coord, but merely indicates
</I>&gt;<i> that certain region-wide operations will be echoed to the
</I>&gt;<i> RegionPresences corresponding IClientAPI.
</I>
Can you give some examples of the types of operations that Region will
own?

&gt;<i> The 'Scene' layer will handle objects (prims and avatars) and for every connected Viewer, there is a 'ScenePresence' which in turn has one SceneObject, the Avatar - the ScenePresence has two local coords, the Avatar and the Camera and these are used to discern what operations are echoed to the ScenePrescenses corresponding IClientAPI.
</I>&gt;<i>  
</I>&gt;<i> On every connect, there would be created a RegionPresence but only on MoveAvatarIntoRegion would it get a ScenePresence. That ScenePresence would simply be handed over to another Scene if a regioncrossing occurs within the instance.
</I>&gt;<i>  
</I>&gt;<i> So, we have two quite different areas of functionality; the Region layer that will organize stuff like region crossing, and the Scene Layer that will handle stuff like physics.
</I>&gt;<i>  
</I>&gt;<i> The RegionManager administrates all regions within the instance, and the SceneManager all the Scenes.
</I>&gt;<i>  
</I>&gt;<i> When we're at it, introducing one global PhysicsScene will probably make physics somewhat more cooperative; The mapping back and forth would be fairly straightforward, and it would mean that the creation and destruction of PhysActors would be less cumbersome. This would play well with the notion of a SceneManager.
</I>&gt;<i>  
</I>&gt;<i> These two restructurings will probably smooth out quite a lot of the
</I>&gt;<i> bushiness in the code as it stands today.
</I>
Is there any possibility to start thinking about non-uniform regions at
this point (i.e. 2 128x regions next to a 256x region), or is that still
too embedded in the protocol?

    -Sean

-- 
__________________________________________________________________

Sean Dague                                       Mid-Hudson Valley
sean at dague dot net                            Linux Users Group
<A HREF="http://dague.net">http://dague.net</A>                                 <A HREF="http://mhvlug.org">http://mhvlug.org</A>

There is no silver bullet.  Plus, werewolves make better neighbors
than zombies, and they tend to keep the vampire population down.
__________________________________________________________________
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20070920/68edac9a/attachment.pgp">https://lists.berlios.de/pipermail/opensim-dev/attachments/20070920/68edac9a/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000033.html">[Opensim-dev] A modest proposal
</A></li>
	<LI>Next message: <A HREF="000041.html">[Opensim-dev] A modest proposal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#38">[ date ]</a>
              <a href="thread.html#38">[ thread ]</a>
              <a href="subject.html#38">[ subject ]</a>
              <a href="author.html#38">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
