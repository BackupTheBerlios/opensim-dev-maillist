<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Add a JsonTestStore() for the JSON store module?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2013-January/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Add%20a%20JsonTestStore%28%29%20for%20the%20JSON%20store%20module%3F&In-Reply-To=%3CCAJaF1_F-hFXo%2B84ARrU9VJ6WYurrtR7aR%3DugnxFUPyJQ3e%3DUHA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011666.html">
   <LINK REL="Next"  HREF="011668.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Add a JsonTestStore() for the JSON store module?</H1>
    <B>Mic Bowman</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Add%20a%20JsonTestStore%28%29%20for%20the%20JSON%20store%20module%3F&In-Reply-To=%3CCAJaF1_F-hFXo%2B84ARrU9VJ6WYurrtR7aR%3DugnxFUPyJQ3e%3DUHA%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] Add a JsonTestStore() for the JSON store module?">cmickeyb at gmail.com
       </A><BR>
    <I>Wed Jan 30 17:57:10 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="011666.html">[Opensim-dev] Add a JsonTestStore() for the JSON store module?
</A></li>
        <LI>Next message: <A HREF="011668.html">[Opensim-dev] Add a JsonTestStore() for the JSON store module?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11667">[ date ]</a>
              <a href="thread.html#11667">[ thread ]</a>
              <a href="subject.html#11667">[ subject ]</a>
              <a href="author.html#11667">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think that would be very useful. I can add it this afternoon, if you
don't beat me to it.

When I wrote the interface to the Json store, I modeled the path expansion
after JQuery interface. However, I'm finding that really challenging to use
for iterating through an array of values. Right now, I use osFormatString
to create the path dynamically. For example:

integer i = 0;
while (i &lt; 10)
{
    string p = osFormatString(&quot;foo[{0}].bar&quot;,[i]); // create path
&quot;foo[0].bar&quot;
    string v = JsonGetValue(storeID,p);
}

If you have any suggestions for a construct that would make the iteration
cleaner, I would be very interested. I've bounced around (and written some
test code) for taking a list (the components of the path) as an argument,
but constructing the list is no easier than constructing the string. I've
also poked around with creating store handles that point into an existing
store (so you resolve the path &quot;foo&quot; into a store handle then iterate at
the top level). Again, the code to walk through the structure is still
excessively complex.

--mic




On Tue, Jan 29, 2013 at 10:03 PM, Justin Clark-Casey &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jjustincc at googlemail.com</A>&gt; wrote:

&gt;<i> Hi Mic.  Whilst looking through these functions tonight, it struck me that
</I>&gt;<i> there doesn't appear to be a way to tell if a certain JSON store still
</I>&gt;<i> exists, as identified by its key.
</I>&gt;<i>
</I>&gt;<i> Do you think it would be appropriate to add a function for that?  Perhaps
</I>&gt;<i> JsonTestStore(), which is in keeping with JsonTestPath()?
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Justin Clark-Casey (justincc)
</I>&gt;<i> OSVW Consulting
</I>&gt;<i> <A HREF="http://justincc.org">http://justincc.org</A>
</I>&gt;<i> <A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/**mailman/listinfo/opensim-dev&lt;https://lists.berlios.de/mailman/listinfo/opensim-dev</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20130130/603173d9/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20130130/603173d9/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011666.html">[Opensim-dev] Add a JsonTestStore() for the JSON store module?
</A></li>
	<LI>Next message: <A HREF="011668.html">[Opensim-dev] Add a JsonTestStore() for the JSON store module?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11667">[ date ]</a>
              <a href="thread.html#11667">[ thread ]</a>
              <a href="subject.html#11667">[ subject ]</a>
              <a href="author.html#11667">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
