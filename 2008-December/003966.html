<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] external host name
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20external%20host%20name&In-Reply-To=%3Cab84ceb10812111828y79182d40o9d15eda69afd7332%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003962.html">
   <LINK REL="Next"  HREF="003992.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] external host name</H1>
    <B>Dahlia Trimble</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20external%20host%20name&In-Reply-To=%3Cab84ceb10812111828y79182d40o9d15eda69afd7332%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] external host name">dahliatrimble at gmail.com
       </A><BR>
    <I>Fri Dec 12 03:28:19 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003962.html">[Opensim-dev] external host name
</A></li>
        <LI>Next message: <A HREF="003992.html">[Opensim-dev] external host name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3966">[ date ]</a>
              <a href="thread.html#3966">[ thread ]</a>
              <a href="subject.html#3966">[ subject ]</a>
              <a href="author.html#3966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think it may be beneficial to allow some kind of tag to be used in the
region xml config file which may get the hostname or IP address from another
source, perhaps an environment variable? I suggest this as I often move
regions and their configs around to different hosts and it's a pain to keep
changing the host name in the files. I guess a macro processor run on the
file at region startup would accomplish the same thing, but it would be a
convenience if opensim.exe did it.

On Thu, Dec 11, 2008 at 6:11 PM, Teravus Ovares &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">teravus at gmail.com</A>&gt; wrote:

&gt;<i> I agree.  It is inconstant.  On purpose. :).   As I said, remoting
</I>&gt;<i> issues caused regions in Linux and Windows to be unable to tell each
</I>&gt;<i> other that they were online using the RegionInfo object.
</I>&gt;<i>
</I>&gt;<i> Best Regards
</I>&gt;<i>
</I>&gt;<i> Teravus
</I>&gt;<i>
</I>&gt;<i> On 12/11/08, Cristina Videira Lopes &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&gt; wrote:
</I>&gt;<i> &gt; The thing is that this can potentially create a RegionInfo data structure
</I>&gt;<i> &gt; with
</I>&gt;<i> &gt;            nRegionInfo.ExternalHostName = regionData.IPADDR;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This is inconsistent with certain queries on the Grid server, like &quot;give
</I>&gt;<i> me
</I>&gt;<i> &gt; all my neighbors&quot; which may send host names.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So, back to the point: someone needs to decide what is it that
</I>&gt;<i> &gt; RegionInfo.ExternalHostName  is supposed to hold.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Teravus Ovares wrote:
</I>&gt;<i> &gt; RegionUpData is my fault, and spawned from compatibility issues with
</I>&gt;<i> .NET
</I>&gt;<i> &gt; remoting and Mono remoting with complex types. It is only used
</I>&gt;<i> to notify a
</I>&gt;<i> &gt; neighbor region that 'this region is up'
</I>&gt;<i>
</I>&gt;<i> Best Regards
</I>&gt;<i>
</I>&gt;<i> Teravus
</I>&gt;<i>
</I>&gt;<i> On
</I>&gt;<i> &gt; 12/11/08, Cristina Videira Lopes &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Things are very messy right now. You can search for &quot;sim_ip&quot;, for
</I>&gt;<i> &gt; example,
</I>&gt;<i> which is used in chatting with the grid server, and where it is
</I>&gt;<i> &gt; being
</I>&gt;<i> converted to an IP address in about half of the cases.
</I>&gt;<i>
</I>&gt;<i> To compensate,
</I>&gt;<i> &gt; and before I noticed this inconsistency, Homer introduced
</I>&gt;<i> another field
</I>&gt;<i> &gt; called &quot;sim_host&quot;, so not to mess with what was already there,
</I>&gt;<i> that is
</I>&gt;<i> &gt; supposed to carry the external host name, but this only works up to
</I>&gt;<i> the
</I>&gt;<i> &gt; point in which RegionInfo data structures are created. At that point,
</I>&gt;<i> &gt; we
</I>&gt;<i> need to decide what to place in m_externalHostName, sim_ip or
</I>&gt;<i> &gt; sim_host.
</I>&gt;<i> Which means changes in OGS1.
</I>&gt;<i>
</I>&gt;<i> I also noticed that there is yet
</I>&gt;<i> &gt; another data structure called RegionUpData
</I>&gt;<i> that uses IP addresses.
</I>&gt;<i>
</I>&gt;<i> So,
</I>&gt;<i> &gt; messy. Someone should decide what this field is supposed to be, and make
</I>&gt;<i> it
</I>&gt;<i> &gt; a rule.
</I>&gt;<i>
</I>&gt;<i> Charles Krinke wrote:
</I>&gt;<i>
</I>&gt;<i> Dear Diva:
</I>&gt;<i>
</I>&gt;<i> You have a very good point and I
</I>&gt;<i> &gt; would support harmonizing to one notion
</I>&gt;<i> even at the expense of breaking some
</I>&gt;<i> &gt; things for a while.
</I>&gt;<i>
</I>&gt;<i> In fact, if someone can identify what some of those
</I>&gt;<i> &gt; things are, or come up
</I>&gt;<i> with a couple of search strings or grep expressions,
</I>&gt;<i> &gt; I would like to look at
</I>&gt;<i> the anomalies myself.
</I>&gt;<i>
</I>&gt;<i> +1 on
</I>&gt;<i> &gt; external_host_name
</I>&gt;<i>
</I>&gt;<i> Charles
</I>&gt;<i>
</I>&gt;<i> ________________________________
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> From:
</I>&gt;<i> &gt; Cristina Videira Lopes &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&gt;
</I>&gt;<i> To:
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;<i> Sent: Thursday, December 11, 2008 2:42:05
</I>&gt;<i> &gt; PM
</I>&gt;<i> Subject: [Opensim-dev] external host name
</I>&gt;<i>
</I>&gt;<i> It turns out that a lot of
</I>&gt;<i> &gt; problems with CAPs have to do with
</I>&gt;<i> inconsistencies surrounding the URL of
</I>&gt;<i> &gt; the seed cap. Specifically, in
</I>&gt;<i> some cases we're producing URLs with
</I>&gt;<i> &gt; hostnames, other times we're
</I>&gt;<i> producing URLs with IP addresses, for
</I>&gt;<i> &gt; example:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://ucigrid03.nacs.uci.edu:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/">http://ucigrid03.nacs.uci.edu:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/</A>
</I>&gt;<i> vs.
</I>&gt;<i> MailScanner
</I>&gt;<i> &gt; has detected a possible fraud attempt from &quot;128.200.71.43:9000&quot;
</I>&gt;<i> claiming to
</I>&gt;<i> &gt; be MailScanner warning: numerical links are often malicious:
</I>&gt;<i> MailScanner
</I>&gt;<i> &gt; warning: numerical links are often malicious:
</I>&gt;<i> &gt; <A HREF="http://128.200.71.43:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/">http://128.200.71.43:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/</A>
</I>&gt;<i>
</I>&gt;<i> The
</I>&gt;<i> &gt; client is not smart enough to test if this is the same host, it
</I>&gt;<i> assumes it
</I>&gt;<i> &gt; isn't, so it decides someone's trying to game it.
</I>&gt;<i>
</I>&gt;<i> The inconsistencies are
</I>&gt;<i> &gt; all over the code in OpenSim, and they pertain
</I>&gt;<i> to the use of
</I>&gt;<i> &gt; ExternalHostName in several data s! tructures. In some
</I>&gt;<i> cases, an explicit
</I>&gt;<i> &gt; conversion to IP addresses is made.
</I>&gt;<i>
</I>&gt;<i> We should converge to one single thing.
</I>&gt;<i> &gt; And I believe that thing should
</I>&gt;<i> be whatever it is given in
</I>&gt;<i> &gt; external_host_name config. Is this right?
</I>&gt;<i> However, I am a bit afraid this is
</I>&gt;<i> &gt; going to break 17 different
</I>&gt;<i> &gt; things...
</I>&gt;<i>
</I>&gt;<i> Crista
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev
</I>&gt;<i> &gt; mailing
</I>&gt;<i> &gt; list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> ________________________________
</I>&gt;<i>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> Opensim-dev
</I>&gt;<i> &gt; mailing
</I>&gt;<i> list
</I>&gt;<i>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> Opensim-dev
</I>&gt;<i> &gt; mailing
</I>&gt;<i> &gt; list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> Opensim-dev
</I>&gt;<i> &gt; mailing
</I>&gt;<i> &gt; list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20081211/ef41a5c1/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20081211/ef41a5c1/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003962.html">[Opensim-dev] external host name
</A></li>
	<LI>Next message: <A HREF="003992.html">[Opensim-dev] external host name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3966">[ date ]</a>
              <a href="thread.html#3966">[ thread ]</a>
              <a href="subject.html#3966">[ subject ]</a>
              <a href="author.html#3966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
