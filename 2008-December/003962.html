<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] external host name
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20external%20host%20name&In-Reply-To=%3C34cc66250812111811q45605d71o80affa060acac84e%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003961.html">
   <LINK REL="Next"  HREF="003966.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] external host name</H1>
    <B>Teravus Ovares</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20external%20host%20name&In-Reply-To=%3C34cc66250812111811q45605d71o80affa060acac84e%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] external host name">teravus at gmail.com
       </A><BR>
    <I>Fri Dec 12 03:11:22 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003961.html">[Opensim-dev] external host name
</A></li>
        <LI>Next message: <A HREF="003966.html">[Opensim-dev] external host name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3962">[ date ]</a>
              <a href="thread.html#3962">[ thread ]</a>
              <a href="subject.html#3962">[ subject ]</a>
              <a href="author.html#3962">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I agree.  It is inconstant.  On purpose. :).   As I said, remoting
issues caused regions in Linux and Windows to be unable to tell each
other that they were online using the RegionInfo object.

Best Regards

Teravus

On 12/11/08, Cristina Videira Lopes &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&gt; wrote:
&gt;<i> The thing is that this can potentially create a RegionInfo data structure
</I>&gt;<i> with
</I>&gt;<i>            nRegionInfo.ExternalHostName = regionData.IPADDR;
</I>&gt;<i>
</I>&gt;<i> This is inconsistent with certain queries on the Grid server, like &quot;give me
</I>&gt;<i> all my neighbors&quot; which may send host names.
</I>&gt;<i>
</I>&gt;<i> So, back to the point: someone needs to decide what is it that
</I>&gt;<i> RegionInfo.ExternalHostName  is supposed to hold.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Teravus Ovares wrote:
</I>&gt;<i> RegionUpData is my fault, and spawned from compatibility issues with
</I>.NET
&gt;<i> remoting and Mono remoting with complex types. It is only used
</I>to notify a
&gt;<i> neighbor region that 'this region is up'
</I>
Best Regards

Teravus

On
&gt;<i> 12/11/08, Cristina Videira Lopes &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&gt; wrote:
</I>
&gt;<i> Things are very messy right now. You can search for &quot;sim_ip&quot;, for
</I>&gt;<i> example,
</I>which is used in chatting with the grid server, and where it is
&gt;<i> being
</I>converted to an IP address in about half of the cases.

To compensate,
&gt;<i> and before I noticed this inconsistency, Homer introduced
</I>another field
&gt;<i> called &quot;sim_host&quot;, so not to mess with what was already there,
</I>that is
&gt;<i> supposed to carry the external host name, but this only works up to
</I>the
&gt;<i> point in which RegionInfo data structures are created. At that point,
</I>&gt;<i> we
</I>need to decide what to place in m_externalHostName, sim_ip or
&gt;<i> sim_host.
</I>Which means changes in OGS1.

I also noticed that there is yet
&gt;<i> another data structure called RegionUpData
</I>that uses IP addresses.

So,
&gt;<i> messy. Someone should decide what this field is supposed to be, and make
</I>it
&gt;<i> a rule.
</I>
Charles Krinke wrote:

Dear Diva:

You have a very good point and I
&gt;<i> would support harmonizing to one notion
</I>even at the expense of breaking some
&gt;<i> things for a while.
</I>
In fact, if someone can identify what some of those
&gt;<i> things are, or come up
</I>with a couple of search strings or grep expressions,
&gt;<i> I would like to look at
</I>the anomalies myself.

+1 on
&gt;<i> external_host_name
</I>
Charles

________________________________


From:
&gt;<i> Cristina Videira Lopes &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">lopes at ics.uci.edu</A>&gt;
</I>To:
&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>Sent: Thursday, December 11, 2008 2:42:05
&gt;<i> PM
</I>Subject: [Opensim-dev] external host name

It turns out that a lot of
&gt;<i> problems with CAPs have to do with
</I>inconsistencies surrounding the URL of
&gt;<i> the seed cap. Specifically, in
</I>some cases we're producing URLs with
&gt;<i> hostnames, other times we're
</I>producing URLs with IP addresses, for
&gt;<i> example:
</I>
<A HREF="http://ucigrid03.nacs.uci.edu:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/">http://ucigrid03.nacs.uci.edu:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/</A>
vs.
MailScanner
&gt;<i> has detected a possible fraud attempt from &quot;128.200.71.43:9000&quot;
</I>claiming to
&gt;<i> be MailScanner warning: numerical links are often malicious:
</I>MailScanner
&gt;<i> warning: numerical links are often malicious:
</I>&gt;<i> <A HREF="http://128.200.71.43:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/">http://128.200.71.43:9000/CAPS/4cfc94fa-09be-409b-b136-cda2cdde0000/</A>
</I>
The
&gt;<i> client is not smart enough to test if this is the same host, it
</I>assumes it
&gt;<i> isn't, so it decides someone's trying to game it.
</I>
The inconsistencies are
&gt;<i> all over the code in OpenSim, and they pertain
</I>to the use of
&gt;<i> ExternalHostName in several data s! tructures. In some
</I>cases, an explicit
&gt;<i> conversion to IP addresses is made.
</I>
We should converge to one single thing.
&gt;<i> And I believe that thing should
</I>be whatever it is given in
&gt;<i> external_host_name config. Is this right?
</I>However, I am a bit afraid this is
&gt;<i> going to break 17 different
</I>&gt;<i> things...
</I>
Crista

_______________________________________________
Opensim-dev
&gt;<i> mailing
</I>&gt;<i> list
</I><A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
________________________________

&gt;<i> _______________________________________________
</I>Opensim-dev
&gt;<i> mailing
</I>list

&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I><A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
&gt;<i> _______________________________________________
</I>Opensim-dev
&gt;<i> mailing
</I>&gt;<i> list
</I><A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>


&gt;<i> _______________________________________________
</I>Opensim-dev
&gt;<i> mailing
</I>&gt;<i> list
</I><A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003961.html">[Opensim-dev] external host name
</A></li>
	<LI>Next message: <A HREF="003966.html">[Opensim-dev] external host name
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3962">[ date ]</a>
              <a href="thread.html#3962">[ thread ]</a>
              <a href="subject.html#3962">[ subject ]</a>
              <a href="author.html#3962">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
