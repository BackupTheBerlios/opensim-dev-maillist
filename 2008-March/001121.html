<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] terrain and blank assets, do they need to be non temporary?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20terrain%20and%20blank%20assets%2C%0A%20do%20they%20need%20to%20be%20non%20temporary%3F&In-Reply-To=%3C47D7FE4B.7090005%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001120.html">
   <LINK REL="Next"  HREF="001113.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] terrain and blank assets, do they need to be non temporary?</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20terrain%20and%20blank%20assets%2C%0A%20do%20they%20need%20to%20be%20non%20temporary%3F&In-Reply-To=%3C47D7FE4B.7090005%40googlemail.com%3E"
       TITLE="[Opensim-dev] terrain and blank assets, do they need to be non temporary?">jjustincc at googlemail.com
       </A><BR>
    <I>Wed Mar 12 17:01:15 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001120.html">[Opensim-dev] terrain and blank assets,	do they need to be non temporary?
</A></li>
        <LI>Next message: <A HREF="001113.html">[Opensim-dev] Triage Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1121">[ date ]</a>
              <a href="thread.html#1121">[ thread ]</a>
              <a href="subject.html#1121">[ subject ]</a>
              <a href="author.html#1121">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sean Dague wrote:
&gt;<i> On Wed, Mar 12, 2008 at 02:09:42PM +0000, Justin Clark-Casey wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Sean Dague wrote:
</I>
&gt;&gt;<i> I think we also need to build in a reaper at some point, which looks for
</I>&gt;&gt;<i> references to assets in the system, and deletes those not referenced.
</I>&gt;&gt;<i>   
</I>&gt;&gt;<i>     
</I>&gt;&gt;<i> It seems to me that there are two problems with reaping assets
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1)  Many LSL functions allow you to reference assets directly by UUID, 
</I>&gt;&gt;<i> so they could not be referenced in the database yet are still expected 
</I>&gt;&gt;<i> to exist.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2)  In grid mode, currently disconnected regions may be references 
</I>&gt;&gt;<i> assets in their region stores.  Checking whether any of these reference 
</I>&gt;&gt;<i> an asset would be a difficult (if not effectively impossible) task.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> It's going to be hard, but something that will need to be sorted out at
</I>&gt;<i> some point, otherwise you've got a massive denial of service attack of
</I>&gt;<i> just uploading textures until you fill up the grid server filesystem.
</I>&gt;<i> If you can never delete anything, ever, you'll blow all your storage at
</I>&gt;<i> some point.
</I>&gt;<i>   
</I>I agree that this is an issue.  In Linden's case I guess this is 
controlled by the fact that you actually have to pay to upload.

Also, even if one were to reap unused assets, a grid which doesn't 
charge (or somehow quota) texture uploads is still vulnerable to an 
attack which retains references to the uploaded textures (in prims, 
inventory or some other means).
&gt;<i> The grid can easily cross reference with Inventory, as well as putting a
</I>&gt;<i> parser in for scripts looking for UUID like things.
</I>&gt;<i>   
</I>UUIDs used in scripts may not be defined statically (e.g. UUIDs could be 
fed in from some external database).
&gt;<i> Then there should be some way for regions to tell the grid all the
</I>&gt;<i> assets they are currently using (by looking at prims).
</I>&gt;<i>
</I>&gt;<i> While I think the problem is hard, I don't think it is intractably hard.
</I>&gt;<i>   
</I>I actually think the script issue does make it difficult.  Although 
possibly one could say that in order to use UUIDs in scripts, one has to 
somehow ensure a reference is retained in the database itself (e.g. 
those assets always remain in the inventory of some avatar).  If it's 
not referenced in such a way, then there is no guarantee that the asset 
exists.

Another possibility, as comes up for discussion every so often, is to 
move away from the model of centrally permanently storing assets in 
favour of a distributed asset storage model.  That is an entirely 
different discussion :-)

--
justincc

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001120.html">[Opensim-dev] terrain and blank assets,	do they need to be non temporary?
</A></li>
	<LI>Next message: <A HREF="001113.html">[Opensim-dev] Triage Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1121">[ date ]</a>
              <a href="thread.html#1121">[ thread ]</a>
              <a href="subject.html#1121">[ subject ]</a>
              <a href="author.html#1121">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
