<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] MySQL on CentOS 5
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20MySQL%20on%20CentOS%205&In-Reply-To=%3C50bbff980803051907k79dc32b1u7dfcf6fcf5745e25%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001069.html">
   <LINK REL="Next"  HREF="001018.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] MySQL on CentOS 5</H1>
    <B>coreone</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20MySQL%20on%20CentOS%205&In-Reply-To=%3C50bbff980803051907k79dc32b1u7dfcf6fcf5745e25%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] MySQL on CentOS 5">coreone at gmail.com
       </A><BR>
    <I>Thu Mar  6 04:07:00 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001069.html">[Opensim-dev] MySQL on CentOS 5
</A></li>
        <LI>Next message: <A HREF="001018.html">[Opensim-dev] opensim mercurial tree now available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1071">[ date ]</a>
              <a href="thread.html#1071">[ thread ]</a>
              <a href="subject.html#1071">[ subject ]</a>
              <a href="author.html#1071">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have installed mono from <A HREF="http://www.mono-project.com/">http://www.mono-project.com/</A> using their
installation binary and when using that installation (in /opt/mono-1.2.6),
OpenSim runs the first time with no problems.  So, that seems to indeed be
the problem.  And, since FC, RHEL, CentOS, and several others are basically
based on the same packages, this has to be some sort of problem either with
the RPM package created by RedHat -or- RedHat's version (1.2.4) is too old
to run OpenSim.  Either way, it seems to be a RedHat mono RPM package
problem.  I'm not sure what the problem could be, but if someone were to
figure out what was missing/incorrect from RedHat in relation to the OpenSim
source code, maybe a bug report could be filed with RedHat that would make
their RPM packages compatible with OpenSim.

On Wed, Mar 5, 2008 at 7:59 PM, John Ward &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">jward at uci.edu</A>&gt; wrote:

&gt;<i> It would appear that adding a local copy of mono from
</I>&gt;<i> <A HREF="http://www.mono-project.com">http://www.mono-project.com</A> allows OpenSim to run on FC8.  I'd bet it
</I>&gt;<i> will for the other failing RedHat distributions.
</I>&gt;<i>
</I>&gt;<i> John.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> John Ward wrote:
</I>&gt;<i> &gt; A colleague and I at UC Irvine have been trying to get this working on
</I>&gt;<i> &gt; Fedora Core 8 for more time them I'm willing to admit ;-).  Your CentOS
</I>&gt;<i> &gt; description is familiar when trying to get the UGAI servers running
</I>&gt;<i> &gt; (most notably the Grid server) too.  We have gotten a configuration that
</I>&gt;<i> &gt; works on both Widows and Ubuntu flavored OSes but will not on FC8.  I
</I>&gt;<i> &gt; was going to try CentOS4 or RHEL4 but have decided to try FC7 next.  I
</I>&gt;<i> &gt; think OSGrid servers run on FC6 without this trouble.  Does any one have
</I>&gt;<i> &gt; opensim running on FC7, FC8, CentOS 4/5, or RHEL 4/5?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; John.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; coreone wrote:
</I>&gt;<i> &gt;&gt; Hello,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I have been trying for the last several days to get OpenSim working on
</I>&gt;<i> &gt;&gt; a CentOS 5 box using MySQL.  It seems to work nicely with SQLite, but
</I>&gt;<i> &gt;&gt; I really would like to get MySQL working.  I have tried both with the
</I>&gt;<i> &gt;&gt; 0.5.0 release as well as a current SVN copy.  With both, I get MySQL
</I>&gt;<i> &gt;&gt; configured and it connects to the database fine.  The problem comes (I
</I>&gt;<i> &gt;&gt; believe) when it tries to create the tables the first time.  When I
</I>&gt;<i> &gt;&gt; start with 'mono OpenSim.exe', I get the following:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &lt;snippet&gt;
</I>&gt;<i> &gt;&gt; OpenSim 0.4, SVN build
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Performing compatibility checks...  Environment is compatible.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Starting...
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Creating new local console
</I>&gt;<i> &gt;&gt; Logs will be saved to current directory in ./region-console.log
</I>&gt;<i> &gt;&gt; [DATASTORE
</I>&gt;<i> &gt;&gt; ] [03-03 16:03:48] Attempting to load OpenSim.Framework.Data.MySQL.dll
</I>&gt;<i> &gt;&gt; [DATASTORE
</I>&gt;<i> &gt;&gt; ] [03-03 16:03:48] MySql - connecting: Data
</I>&gt;<i> &gt;&gt; Source=localhost;Database=opensim;User
</I>&gt;<i> ID=opensim;Password=************;
</I>&gt;<i> &gt;&gt; [DATASTORE
</I>&gt;<i> &gt;&gt; ] [03-03 16:03:48] MySql Database doesn't exist... creating
</I>&gt;<i> &gt;&gt; &lt;/snippet&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; At this point OpenSim just sits there indefinitely.  If I log into
</I>&gt;<i> &gt;&gt; MySQL and look at the opensim database, only the 'prims' table is
</I>&gt;<i> &gt;&gt; created.
</I>&gt;<i> &gt;&gt;  From what I've read in the documentation, all the tables should be
</I>&gt;<i> &gt;&gt; created automatically by OpenSim.  So, since one table is created
</I>&gt;<i> &gt;&gt; correctly, I'm assuming connecting to the database is occurring
</I>&gt;<i> &gt;&gt; correctly since otherwise nothing would be created (i.e. in the case
</I>&gt;<i> &gt;&gt; of incorrect permissions).  I have also tested this on several other
</I>&gt;<i> &gt;&gt; CentOS 5 boxes as well as with several disparate MySQL servers on
</I>&gt;<i> &gt;&gt; those boxes with both local and remote connections (i.e. with OpenSim
</I>&gt;<i> &gt;&gt; both on the same box and on different boxes than the MySQL database).
</I>&gt;<i> &gt;&gt; I'm not sure if it is my configuration or a bug, so I figured I would
</I>&gt;<i> &gt;&gt; post here first.  Any help would be appreciated.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Here are some of the system stats from the main machine on which I am
</I>&gt;<i> &gt;&gt; testing OpenSim as well as the OpenSim.ini and mysql_connection.ini
</I>&gt;<i> &gt;&gt; files:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; CentOS 5 (i686)
</I>&gt;<i> &gt;&gt; MySQL 5.0.22
</I>&gt;<i> &gt;&gt; Kernel 2.6.18 (53.1.13.el5)
</I>&gt;<i> &gt;&gt; 512MB RAM
</I>&gt;<i> &gt;&gt; GCC 4.1.2
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; My OpenSim.ini file:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &lt;snippet&gt;
</I>&gt;<i> &gt;&gt; [Startup]
</I>&gt;<i> &gt;&gt; gridmode = False
</I>&gt;<i> &gt;&gt; physics = OpenDynamicsEngine
</I>&gt;<i> &gt;&gt; verbose = True
</I>&gt;<i> &gt;&gt; physical_prim = True
</I>&gt;<i> &gt;&gt; child_get_tasks = False
</I>&gt;<i> &gt;&gt; serverside_object_permissions = True
</I>&gt;<i> &gt;&gt; storage_plugin = OpenSim.Framework.Data.MySQL.dll
</I>&gt;<i> &gt;&gt; storage_connection_string=&quot;Data Source=localhost;Database=opensim;User
</I>&gt;<i> &gt;&gt; ID=opensim;Password=*******;&quot;;
</I>&gt;<i> &gt;&gt; storage_prim_inventories = True
</I>&gt;<i> &gt;&gt; startup_console_commands_file = startup_commands.txt
</I>&gt;<i> &gt;&gt; shutdown_console_commands_file = shutdown_commands.txt
</I>&gt;<i> &gt;&gt; script_engine = OpenSim.Region.ScriptEngine.DotNetEngine.dll
</I>&gt;<i> &gt;&gt; asset_database = mysql
</I>&gt;<i> &gt;&gt; [StandAlone]
</I>&gt;<i> &gt;&gt; accounts_authenticate = true
</I>&gt;<i> &gt;&gt; welcome_message = Welcome to OpenSim
</I>&gt;<i> &gt;&gt; inventory_plugin = OpenSim.Framework.Data.MySQL.dll
</I>&gt;<i> &gt;&gt; userDatabase_plugin = OpenSim.Framework.Data.MySQL.dll
</I>&gt;<i> &gt;&gt; asset_plugin = OpenSim.Framework.Data.MySQL.dll
</I>&gt;<i> &gt;&gt; dump_assets_to_file = False
</I>&gt;<i> &gt;&gt; [Network]
</I>&gt;<i> &gt;&gt; default_location_x = 1000
</I>&gt;<i> &gt;&gt; default_location_y = 1000
</I>&gt;<i> &gt;&gt; http_listener_port = 9000
</I>&gt;<i> &gt;&gt; remoting_listener_port = 8895
</I>&gt;<i> &gt;&gt; grid_server_url = <A HREF="http://127.0.0.1:8001">http://127.0.0.1:8001</A>
</I>&gt;<i> &gt;&gt; grid_send_key = null
</I>&gt;<i> &gt;&gt; grid_recv_key = null
</I>&gt;<i> &gt;&gt; user_server_url = <A HREF="http://127.0.0.1:8002">http://127.0.0.1:8002</A>
</I>&gt;<i> &gt;&gt; user_send_key = null
</I>&gt;<i> &gt;&gt; user_recv_key = null
</I>&gt;<i> &gt;&gt; asset_server_url = <A HREF="http://127.0.0.1:8003">http://127.0.0.1:8003</A>
</I>&gt;<i> &gt;&gt; inventory_server_url = <A HREF="http://127.0.0.1:8004">http://127.0.0.1:8004</A>
</I>&gt;<i> &gt;&gt; [RemoteAdmin]
</I>&gt;<i> &gt;&gt; enabled = false
</I>&gt;<i> &gt;&gt; &lt;/snippet&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; My mysql_connection.ini file:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &lt;snippet&gt;
</I>&gt;<i> &gt;&gt; [mysqlconnection]
</I>&gt;<i> &gt;&gt; hostname=localhost
</I>&gt;<i> &gt;&gt; database=opensim
</I>&gt;<i> &gt;&gt; username=opensim
</I>&gt;<i> &gt;&gt; password=********
</I>&gt;<i> &gt;&gt; pooling=false
</I>&gt;<i> &gt;&gt; port=3306
</I>&gt;<i> &gt;&gt; &lt;/snippet&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Opensim-dev mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/opensim-dev/attachments/20080305/b8338037/attachment.html">https://lists.berlios.de/pipermail/opensim-dev/attachments/20080305/b8338037/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001069.html">[Opensim-dev] MySQL on CentOS 5
</A></li>
	<LI>Next message: <A HREF="001018.html">[Opensim-dev] opensim mercurial tree now available
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1071">[ date ]</a>
              <a href="thread.html#1071">[ thread ]</a>
              <a href="subject.html#1071">[ subject ]</a>
              <a href="author.html#1071">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
