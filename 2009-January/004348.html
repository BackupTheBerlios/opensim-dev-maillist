<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Standardizing types in OpenSim
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Standardizing%20types%20in%20OpenSim&In-Reply-To=%3C4964C63F.9050707%40kyperjokki.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004345.html">
   <LINK REL="Next"  HREF="004346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Standardizing types in OpenSim</H1>
    <B>Toni Alatalo</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Standardizing%20types%20in%20OpenSim&In-Reply-To=%3C4964C63F.9050707%40kyperjokki.fi%3E"
       TITLE="[Opensim-dev] Standardizing types in OpenSim">antont at kyperjokki.fi
       </A><BR>
    <I>Wed Jan  7 16:11:59 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004345.html">[Opensim-dev] Standardizing types in OpenSim
</A></li>
        <LI>Next message: <A HREF="004346.html">[Opensim-dev] GForge Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4348">[ date ]</a>
              <a href="thread.html#4348">[ thread ]</a>
              <a href="subject.html#4348">[ subject ]</a>
              <a href="author.html#4348">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Stefan Andersson kirjoitti:
&gt;<i> * A standard external base type library, with stuff like UUID, 
</I>&gt;<i> Vector3, Quaternion, et c. This would be used freely from all over 
</I>&gt;<i> core, and also, probably, in third party applications.
</I>
it might be interesting if we could run the same in some viewer too (and 
possibly other kind of servers than sims).

&gt;<i> * A standard OpenSim base type library that defines very basic things 
</I>&gt;<i> like Agent, Avatar, Object/Entity, Scene - as interfaces or abstract 
</I>&gt;<i> classes implementing nothing but accessors and simple data 
</I>&gt;<i> manipulation. This would be freely used from all over core, and also 
</I>&gt;<i> in third party applications. This would only bring in the above library.
</I>
dunno if even this might be interesting for non-opensim purposes, 
perhaps not as viewers need other stuff from avatars than the server 
does. but might be good for having other kinds of servers, for AI or 
physics or something even?

&gt;<i> * The Client Views would bring in whatever third-party libraries they 
</I>&gt;<i> need.
</I>
what examples of those do we have currently? pardon my ignorance.
 
&gt;<i> /Stefan
</I>
~Toni

&gt;<i> &gt; Date: Sat, 9 Aug 2008 15:23:30 +0900
</I>&gt;<i> &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">sempuki1 at gmail.com</A>
</I>&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; Subject: Re: [Opensim-dev] Standardizing types in OpenSim
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I suspect we could go back and forth on this matter for quite a while
</I>&gt;<i> &gt; without resolution.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think everyone agrees that we should have a common set of primitive
</I>&gt;<i> &gt; types, but there are a lot of question marks and concerns that need to
</I>&gt;<i> &gt; be addressed first. To avoid talking in circles, I propose that some
</I>&gt;<i> &gt; sort of semi-formal proposal to be made to this list and debated on
</I>&gt;<i> &gt; the merits therein.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If John thinks classes from libomv should be used, he can list his
</I>&gt;<i> &gt; motivations, rationalizations, pro/cons, and alternatives. If a party
</I>&gt;<i> &gt; thinks axiom is the way to go forward, they should do likewise, and we
</I>&gt;<i> &gt; can have this discussion publicly on the actual merits of each
</I>&gt;<i> &gt; proposal.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Only *after* the proposal is accepted, can we then consider the
</I>&gt;<i> &gt; details of John's or others' patches.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; For an example of how such a process has worked successfully for many
</I>&gt;<i> &gt; years in another open source project:
</I>&gt;<i> &gt; <A HREF="http://www.python.org/dev/peps/pep-0001">http://www.python.org/dev/peps/pep-0001</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> <A HREF="http://www.python.org/dev/peps/pep-0001/#what-belongs-in-a-successful-pep">http://www.python.org/dev/peps/pep-0001/#what-belongs-in-a-successful-pep</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; also
</I>&gt;<i> &gt; <A HREF="http://live.gnome.org/ReleasePlanning/ModuleProposing">http://live.gnome.org/ReleasePlanning/ModuleProposing</A>
</I>&gt;<i> &gt; <A HREF="http://developer.gnome.org/gep/gep-0.html">http://developer.gnome.org/gep/gep-0.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Sat, Aug 9, 2008 at 3:44 AM, Hurliman, John 
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">john.hurliman at intel.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; Hello list,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; This is my first e-mail to opensim-dev so I'll start with an
</I>&gt;<i> &gt; &gt; introduction. I'm an engineer at Intel researching scalable models for
</I>&gt;<i> &gt; &gt; virtual worlds. A lot of the research will revolve around open,
</I>&gt;<i> &gt; &gt; user-generated content models like Second Life and OpenSim. I'm 
</I>&gt;<i> also the
</I>&gt;<i> &gt; &gt; primary developer of libOpenMetaverse (formerly libsecondlife, still
</I>&gt;<i> &gt; &gt; located at <A HREF="http://www.libsecondlife.org/">http://www.libsecondlife.org/</A> for the time being).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I've spent some time looking at the lower level components of OpenSim
</I>&gt;<i> &gt; &gt; and have a patch to propose. The basic type objects (vector, 
</I>&gt;<i> quaternion,
</I>&gt;<i> &gt; &gt; rays, etc) are spread out and duplicated over several internal classes
</I>&gt;<i> &gt; &gt; and external libraries. There are at least five different types of
</I>&gt;<i> &gt; &gt; Vector3, multiple quaternion and matrix classes, etc. Some of 
</I>&gt;<i> these are
</I>&gt;<i> &gt; &gt; classes instead of structs, meaning a basic operation like subtracting
</I>&gt;<i> &gt; &gt; two vectors and putting the result in a third creates several new
</I>&gt;<i> &gt; &gt; objects on the heap that the garbage collector has to track. I believe
</I>&gt;<i> &gt; &gt; this is responsible for a lot of the heavy memory and garbage 
</I>&gt;<i> collector
</I>&gt;<i> &gt; &gt; activity I am seeing. There is also a lot of duplicated code which has
</I>&gt;<i> &gt; &gt; led to incorrect constructors (such as new Vector3(x, y, y)) and makes
</I>&gt;<i> &gt; &gt; things more difficult to unit test.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; The OpenMetaverse library has a set of types useful to virtual worlds
</I>&gt;<i> &gt; &gt; that have been in development for two years and implement all of the
</I>&gt;<i> &gt; &gt; functionality needed in OpenSim. I've created a very large patch that
</I>&gt;<i> &gt; &gt; upgrades OpenSim from libsecondlife to the latest libOpenMetaverse,
</I>&gt;<i> &gt; &gt; drops Axiom, and uses the built-in libomv types wherever possible. 
</I>&gt;<i> There
</I>&gt;<i> &gt; &gt; are a few places that I have skipped over for now to avoid introducing
</I>&gt;<i> &gt; &gt; too many moving parts in a single patch: BulletX still uses Mono.Xna,
</I>&gt;<i> &gt; &gt; and Meshmerizer still uses PhysicsVector/Vertex/Triangle.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I've spoken with some of the OpenSim developers about problems keeping
</I>&gt;<i> &gt; &gt; up with libsecondlife changes. The major changes happened to prevent a
</I>&gt;<i> &gt; &gt; trademark conflict with Linden Lab, and also establish libopenmv as a
</I>&gt;<i> &gt; &gt; generalized platform for building virtual worlds instead of a 
</I>&gt;<i> library to
</I>&gt;<i> &gt; &gt; connect to Linden Lab's servers. I think this patch is an 
</I>&gt;<i> important move
</I>&gt;<i> &gt; &gt; in that direction, and to prevent any future headaches I'm 
</I>&gt;<i> volunteering
</I>&gt;<i> &gt; &gt; to maintain the OpenSim-&gt;libOpenMetaverse dependency in the event 
</I>&gt;<i> of any
</I>&gt;<i> &gt; &gt; API changes.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I'm working on grid mode compatibility testing (sandbox mode 
</I>&gt;<i> appears to
</I>&gt;<i> &gt; &gt; work fine) and will have the patch on Mantis early to mid next 
</I>&gt;<i> week. So
</I>&gt;<i> &gt; &gt; far the patch itself weighs in around 1.7MB plus binaries. Twenty
</I>&gt;<i> &gt; &gt; revisions have passed since I initially wrote it and maintaining it
</I>&gt;<i> &gt; &gt; against the latest SVN can be time consuming, so I wanted to kick 
</I>&gt;<i> start
</I>&gt;<i> &gt; &gt; with this e-mail before posting the patch.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; John Hurliman
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Opensim-dev mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>   
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004345.html">[Opensim-dev] Standardizing types in OpenSim
</A></li>
	<LI>Next message: <A HREF="004346.html">[Opensim-dev] GForge Project
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4348">[ date ]</a>
              <a href="thread.html#4348">[ thread ]</a>
              <a href="subject.html#4348">[ subject ]</a>
              <a href="author.html#4348">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
