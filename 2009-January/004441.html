<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Technical assessment of Cable Beach asset server
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Technical%20assessment%20of%20Cable%20Beach%20asset%20server&In-Reply-To=%3Cc7a1b5240901160032j4ec475dby31467a68b8d17bb5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004440.html">
   <LINK REL="Next"  HREF="004445.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Technical assessment of Cable Beach asset server</H1>
    <B>Ryan McDougall</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Technical%20assessment%20of%20Cable%20Beach%20asset%20server&In-Reply-To=%3Cc7a1b5240901160032j4ec475dby31467a68b8d17bb5%40mail.gmail.com%3E"
       TITLE="[Opensim-dev] Technical assessment of Cable Beach asset server">sempuki1 at gmail.com
       </A><BR>
    <I>Fri Jan 16 09:32:31 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004440.html">[Opensim-dev] Technical assessment of Cable Beach asset server
</A></li>
        <LI>Next message: <A HREF="004445.html">[Opensim-dev] Technical assessment of Cable Beach asset server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4441">[ date ]</a>
              <a href="thread.html#4441">[ thread ]</a>
              <a href="subject.html#4441">[ subject ]</a>
              <a href="author.html#4441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Executive Summary: +1 to all John's modifications -- provided he is
willing to do the integration.

On Fri, Jan 16, 2009 at 10:17 AM, Mike Mazur &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">mmazur at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> Comments inline...
</I>&gt;<i>
</I>&gt;<i> On Thu, 15 Jan 2009 12:19:35 -0700
</I>&gt;<i> &quot;Hurliman, John&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">john.hurliman at intel.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; -----Original Message-----
</I>&gt;&gt;<i> &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:opensim-dev-
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>] On Behalf Of Justin Clark-Casey
</I>&gt;&gt;<i> &gt; Sent: Thursday, January 15, 2009 6:47 AM
</I>&gt;&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt; Subject: Re: [Opensim-dev] Technical assessment of Cable Beach asset
</I>&gt;&gt;<i> &gt; server
</I>&gt;<i> [...]
</I>&gt;&gt;<i> &gt; 1)  As a general point, is Cable Beach development going to continue
</I>&gt;&gt;<i> &gt; externally to OpenSim?  Point 3 in
</I>&gt;&gt;<i> &gt; <A HREF="http://opensimulator.org/wiki/AssetServerProposal">http://opensimulator.org/wiki/AssetServerProposal</A> talks about this
</I>&gt;&gt;<i> &gt; being an alternative to proprietary asset servers.
</I>&gt;&gt;<i> &gt; If development of it continues in OpenSim, doesn't it then just
</I>&gt;&gt;<i> &gt; remain our own flavour of asset service (albeit with a few more
</I>&gt;&gt;<i> &gt; features and more modularity).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is an open question that I think is best answered by the OpenSim
</I>&gt;&gt;<i> development community. Would OpenSim benefit the most by pulling this
</I>&gt;&gt;<i> into trunk? Should an svn:externals property be used to keep the
</I>&gt;&gt;<i> project in its own repository but use it as a default option? There
</I>&gt;&gt;<i> are several approaches that can be considered.
</I>&gt;<i>
</I>&gt;<i> All good answers. Another option is to have the asset server part of
</I>&gt;<i> the OpenSim source tree, but package it as a separate product when we
</I>&gt;<i> roll releases. This way interested parties can download it standalone
</I>&gt;<i> if they choose.
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; 2)  I agree with you about the plugin concerns.  It would really not
</I>&gt;&gt;<i> &gt; be nice to see another plugin infrastructure come into the OpenSim
</I>&gt;&gt;<i> &gt; tree (in addition to Mono plugins and the region module plugin
</I>&gt;&gt;<i> &gt; subsystem). My impression was that we had agreed to an eventual
</I>&gt;&gt;<i> &gt; migration to Mono plugins.  My understanding was that even if it's
</I>&gt;&gt;<i> &gt; technically inferior to home grown solutions right now, the fact
</I>&gt;&gt;<i> &gt; that Mono addins has an independent community (being used in
</I>&gt;&gt;<i> &gt; various other projects such as MonoDevelop) makes it a better long
</I>&gt;&gt;<i> &gt; term alternative both from a maintenance and documentation point of
</I>&gt;&gt;<i> &gt; view (we don't have to take on that burden ourselves) and for
</I>&gt;&gt;<i> &gt; future functionality (independent teams do nice things like making
</I>&gt;&gt;<i> &gt; modules browsable/changeable via a generic web interface).
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; So I would argue that we should look to convert Cable Beach to use
</I>&gt;&gt;<i> &gt; mono addins if we are going to take it into core.
</I>&gt;&gt;<i> &gt; However, this may make it more difficult to share plugins with non
</I>&gt;&gt;<i> &gt; OpenSim Cable Beach instances (if any such exist).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This might be a separate thread of discussion worth having, but
</I>&gt;&gt;<i> ExtensionLoader was written specifically to address the problems and
</I>&gt;&gt;<i> shortcomings of Mono.Addins. The code has been frozen for months, and
</I>&gt;&gt;<i> essentially boils down to one interface and two function calls. See
</I>&gt;&gt;<i> this page for a couple of points on why ExtensionLoader should be
</I>&gt;&gt;<i> used in place of Mono.Addins.
</I>&gt;&gt;<i> <A HREF="http://code.google.com/p/extensionloader/">http://code.google.com/p/extensionloader/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Phasing out Mono.Addins is my suggestion, but it's not a requirement.
</I>&gt;&gt;<i> In fact, attempting to reproduce what ExtensionLoader does in Cable
</I>&gt;&gt;<i> Beach with Mono.Addins could be enlightening.
</I>&gt;<i>
</I>&gt;<i> John, I didn't realize you were the author of ExtensionLoader.
</I>&gt;<i>
</I>&gt;<i> I took a brief look at the region module plugin code in the region
</I>&gt;<i> server hoping to see how difficult it would be to convert to using
</I>&gt;<i> ExtensionLoader or Mono.Addins. My eyes went kinda crosseyed a few
</I>&gt;<i> minutes in, though that might just be because it's Friday afternoon.
</I>&gt;<i>
</I>&gt;<i> I see a benefit to using ExtensionLoader because it's small and not
</I>&gt;<i> very complicated. Perhaps sempuki can chime in here, as he did some
</I>&gt;<i> work with Mono.Addins and OpenSim a few months ago, but my impression
</I>&gt;<i> from following his work then was the Mono.Addins was full of
</I>&gt;<i> undocumented gotchas and bugs.
</I>&gt;<i>
</I>&gt;<i> On the other hand, with time those bugs in Mono.Addins should get
</I>&gt;<i> ironed out. Maybe trying to use Mono.Addins instead of ExtensionLoader
</I>&gt;<i> now is a worthwhile undertaking.
</I>
In general I find the quality of John's code to be exceptionally high,
and I found the internals of Mono.Addins to be over-engineered and of
average quality.

As others have pointed out, the main benefit of Mono.Addins is that
its maintained by someone else. If John is willing to port all my
Mono.Addins work to to ExtensionLoader, and maintain any future bugs,
then I am all for it.

+1 for ExtensionLoader

Cheers,

&gt;&gt;<i> &gt; 3)  HttpServer.  Do we really want to be using another http server
</I>&gt;&gt;<i> &gt; in addition to HttpServer.dll?  This doesn't actually bother me too
</I>&gt;&gt;<i> &gt; much since it's hidden to the user and http is very well known, but
</I>&gt;&gt;<i> &gt; it might be an issue.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> A clarification: Cable Beach uses HttpServer.dll as well, from the C#
</I>&gt;&gt;<i> Webserver project. However, it's a modified version kept in a
</I>&gt;&gt;<i> separate repository (browse the repository here:
</I>&gt;&gt;<i> <A HREF="http://www.openmetaverse.org/viewvc/index.cgi/misc/HttpServer/">http://www.openmetaverse.org/viewvc/index.cgi/misc/HttpServer/</A>). I'm
</I>&gt;&gt;<i> a developer on the C# Webserver project, and weighing my options it
</I>&gt;&gt;<i> seemed the best approach was to branch the project into a &quot;HttpServer
</I>&gt;&gt;<i> lite&quot; version. All external dependencies are removed (some of them
</I>&gt;&gt;<i> were fairly heavy), and several features have been added to bring it
</I>&gt;&gt;<i> closer feature-wise HttpListener. Even beyond HttpListener
</I>&gt;&gt;<i> functionality, it has support for client SSL certificates which can
</I>&gt;&gt;<i> enable secure sim&lt;-&gt;sim and sim&lt;-&gt;grid communication.
</I>&gt;&gt;<i> OpenMetaverse.Http provides full certificate chain generation so
</I>&gt;&gt;<i> everything can happen programmatically.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If OpenSim has an adversity to using the lite branch, I can commit
</I>&gt;&gt;<i> some of the new functionality back to the HttpServer trunk. However,
</I>&gt;&gt;<i> take a look at both versions side by side when making a decision.
</I>&gt;<i>
</I>&gt;<i> I'd appreciate if someone with more HTTP server experience could have a
</I>&gt;<i> closer look.
</I>&gt;<i>
</I>&gt;&gt;<i> &gt; 4)  Config files.  I seem to remember MW saying that the XML files
</I>&gt;&gt;<i> &gt; for grid config are actually legacy.  So going to something that
</I>&gt;&gt;<i> &gt; uses Nini (as I believe Cable Beach does) would actually be a good
</I>&gt;&gt;<i> &gt; thing, though we would really want to move all the other grid
</I>&gt;&gt;<i> &gt; configs to Nini sooner rather than leaving everything more
</I>&gt;&gt;<i> &gt; confusingly inconsistent.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I agree that moving away from the legacy XML files for all of the
</I>&gt;&gt;<i> grid services is a good idea. Code can be borrowed from Cable Beach
</I>&gt;&gt;<i> to speed up the transition. The Nini project seems to be dead; I
</I>&gt;&gt;<i> wasn't able to contact anyone about patches. Cable Beach is currently
</I>&gt;&gt;<i> using the modified version of Nini in ExtensionLoader that fixes a
</I>&gt;&gt;<i> couple bugs (a problem with finalizers that was causing random
</I>&gt;&gt;<i> debugging problems with projects using Nini, and adding the ability
</I>&gt;&gt;<i> to read keys without values). If OpenSim wants to maintain their own
</I>&gt;&gt;<i> version of Nini that would also work.
</I>&gt;<i>
</I>&gt;<i> I'm also in favor of switching the config format from the existing XML
</I>&gt;<i> to Cable Beach's INI. It's much easier to grok the INI file, and it
</I>&gt;<i> somehow feels wrong that all the config options in the XML file are
</I>&gt;<i> attributes on one XML node.
</I>&gt;<i>
</I>&gt;<i> Thanks for the feedback so far, guys.
</I>&gt;<i> Mike
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Opensim-dev mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">Opensim-dev at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">https://lists.berlios.de/mailman/listinfo/opensim-dev</A>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004440.html">[Opensim-dev] Technical assessment of Cable Beach asset server
</A></li>
	<LI>Next message: <A HREF="004445.html">[Opensim-dev] Technical assessment of Cable Beach asset server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4441">[ date ]</a>
              <a href="thread.html#4441">[ thread ]</a>
              <a href="subject.html#4441">[ subject ]</a>
              <a href="author.html#4441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
