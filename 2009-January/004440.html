<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Technical assessment of Cable Beach asset server
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Technical%20assessment%20of%20Cable%20Beach%20asset%20server&In-Reply-To=%3C20090116171725.33f67dc9%40sumo%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004432.html">
   <LINK REL="Next"  HREF="004441.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Technical assessment of Cable Beach asset server</H1>
    <B>Mike Mazur</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Technical%20assessment%20of%20Cable%20Beach%20asset%20server&In-Reply-To=%3C20090116171725.33f67dc9%40sumo%3E"
       TITLE="[Opensim-dev] Technical assessment of Cable Beach asset server">mmazur at gmail.com
       </A><BR>
    <I>Fri Jan 16 09:17:25 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004432.html">[Opensim-dev] Technical assessment of Cable Beach asset server
</A></li>
        <LI>Next message: <A HREF="004441.html">[Opensim-dev] Technical assessment of Cable Beach asset server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4440">[ date ]</a>
              <a href="thread.html#4440">[ thread ]</a>
              <a href="subject.html#4440">[ subject ]</a>
              <a href="author.html#4440">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

Comments inline...

On Thu, 15 Jan 2009 12:19:35 -0700
&quot;Hurliman, John&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">john.hurliman at intel.com</A>&gt; wrote:

&gt;<i> &gt; -----Original Message-----
</I>&gt;<i> &gt; From: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev-bounces at lists.berlios.de</A> [mailto:opensim-dev-
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">bounces at lists.berlios.de</A>] On Behalf Of Justin Clark-Casey
</I>&gt;<i> &gt; Sent: Thursday, January 15, 2009 6:47 AM
</I>&gt;<i> &gt; To: <A HREF="https://lists.berlios.de/mailman/listinfo/opensim-dev">opensim-dev at lists.berlios.de</A>
</I>&gt;<i> &gt; Subject: Re: [Opensim-dev] Technical assessment of Cable Beach asset
</I>&gt;<i> &gt; server
</I>[...]
&gt;<i> &gt; 1)  As a general point, is Cable Beach development going to continue
</I>&gt;<i> &gt; externally to OpenSim?  Point 3 in
</I>&gt;<i> &gt; <A HREF="http://opensimulator.org/wiki/AssetServerProposal">http://opensimulator.org/wiki/AssetServerProposal</A> talks about this
</I>&gt;<i> &gt; being an alternative to proprietary asset servers.
</I>&gt;<i> &gt; If development of it continues in OpenSim, doesn't it then just
</I>&gt;<i> &gt; remain our own flavour of asset service (albeit with a few more
</I>&gt;<i> &gt; features and more modularity).
</I>&gt;<i> 
</I>&gt;<i> This is an open question that I think is best answered by the OpenSim
</I>&gt;<i> development community. Would OpenSim benefit the most by pulling this
</I>&gt;<i> into trunk? Should an svn:externals property be used to keep the
</I>&gt;<i> project in its own repository but use it as a default option? There
</I>&gt;<i> are several approaches that can be considered.
</I>
All good answers. Another option is to have the asset server part of
the OpenSim source tree, but package it as a separate product when we
roll releases. This way interested parties can download it standalone
if they choose.

&gt;<i> &gt; 2)  I agree with you about the plugin concerns.  It would really not
</I>&gt;<i> &gt; be nice to see another plugin infrastructure come into the OpenSim
</I>&gt;<i> &gt; tree (in addition to Mono plugins and the region module plugin
</I>&gt;<i> &gt; subsystem). My impression was that we had agreed to an eventual
</I>&gt;<i> &gt; migration to Mono plugins.  My understanding was that even if it's
</I>&gt;<i> &gt; technically inferior to home grown solutions right now, the fact
</I>&gt;<i> &gt; that Mono addins has an independent community (being used in
</I>&gt;<i> &gt; various other projects such as MonoDevelop) makes it a better long
</I>&gt;<i> &gt; term alternative both from a maintenance and documentation point of
</I>&gt;<i> &gt; view (we don't have to take on that burden ourselves) and for
</I>&gt;<i> &gt; future functionality (independent teams do nice things like making
</I>&gt;<i> &gt; modules browsable/changeable via a generic web interface).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So I would argue that we should look to convert Cable Beach to use
</I>&gt;<i> &gt; mono addins if we are going to take it into core.
</I>&gt;<i> &gt; However, this may make it more difficult to share plugins with non
</I>&gt;<i> &gt; OpenSim Cable Beach instances (if any such exist).
</I>&gt;<i> 
</I>&gt;<i> This might be a separate thread of discussion worth having, but
</I>&gt;<i> ExtensionLoader was written specifically to address the problems and
</I>&gt;<i> shortcomings of Mono.Addins. The code has been frozen for months, and
</I>&gt;<i> essentially boils down to one interface and two function calls. See
</I>&gt;<i> this page for a couple of points on why ExtensionLoader should be
</I>&gt;<i> used in place of Mono.Addins.
</I>&gt;<i> <A HREF="http://code.google.com/p/extensionloader/">http://code.google.com/p/extensionloader/</A>
</I>&gt;<i> 
</I>&gt;<i> Phasing out Mono.Addins is my suggestion, but it's not a requirement.
</I>&gt;<i> In fact, attempting to reproduce what ExtensionLoader does in Cable
</I>&gt;<i> Beach with Mono.Addins could be enlightening.
</I>
John, I didn't realize you were the author of ExtensionLoader.

I took a brief look at the region module plugin code in the region
server hoping to see how difficult it would be to convert to using
ExtensionLoader or Mono.Addins. My eyes went kinda crosseyed a few
minutes in, though that might just be because it's Friday afternoon.

I see a benefit to using ExtensionLoader because it's small and not
very complicated. Perhaps sempuki can chime in here, as he did some
work with Mono.Addins and OpenSim a few months ago, but my impression
from following his work then was the Mono.Addins was full of
undocumented gotchas and bugs.

On the other hand, with time those bugs in Mono.Addins should get
ironed out. Maybe trying to use Mono.Addins instead of ExtensionLoader
now is a worthwhile undertaking.

&gt;<i> &gt; 3)  HttpServer.  Do we really want to be using another http server
</I>&gt;<i> &gt; in addition to HttpServer.dll?  This doesn't actually bother me too
</I>&gt;<i> &gt; much since it's hidden to the user and http is very well known, but
</I>&gt;<i> &gt; it might be an issue.
</I>&gt;<i> 
</I>&gt;<i> A clarification: Cable Beach uses HttpServer.dll as well, from the C#
</I>&gt;<i> Webserver project. However, it's a modified version kept in a
</I>&gt;<i> separate repository (browse the repository here:
</I>&gt;<i> <A HREF="http://www.openmetaverse.org/viewvc/index.cgi/misc/HttpServer/">http://www.openmetaverse.org/viewvc/index.cgi/misc/HttpServer/</A>). I'm
</I>&gt;<i> a developer on the C# Webserver project, and weighing my options it
</I>&gt;<i> seemed the best approach was to branch the project into a &quot;HttpServer
</I>&gt;<i> lite&quot; version. All external dependencies are removed (some of them
</I>&gt;<i> were fairly heavy), and several features have been added to bring it
</I>&gt;<i> closer feature-wise HttpListener. Even beyond HttpListener
</I>&gt;<i> functionality, it has support for client SSL certificates which can
</I>&gt;<i> enable secure sim&lt;-&gt;sim and sim&lt;-&gt;grid communication.
</I>&gt;<i> OpenMetaverse.Http provides full certificate chain generation so
</I>&gt;<i> everything can happen programmatically.
</I>&gt;<i> 
</I>&gt;<i> If OpenSim has an adversity to using the lite branch, I can commit
</I>&gt;<i> some of the new functionality back to the HttpServer trunk. However,
</I>&gt;<i> take a look at both versions side by side when making a decision.
</I>
I'd appreciate if someone with more HTTP server experience could have a
closer look.

&gt;<i> &gt; 4)  Config files.  I seem to remember MW saying that the XML files
</I>&gt;<i> &gt; for grid config are actually legacy.  So going to something that
</I>&gt;<i> &gt; uses Nini (as I believe Cable Beach does) would actually be a good
</I>&gt;<i> &gt; thing, though we would really want to move all the other grid
</I>&gt;<i> &gt; configs to Nini sooner rather than leaving everything more
</I>&gt;<i> &gt; confusingly inconsistent.
</I>&gt;<i> 
</I>&gt;<i> I agree that moving away from the legacy XML files for all of the
</I>&gt;<i> grid services is a good idea. Code can be borrowed from Cable Beach
</I>&gt;<i> to speed up the transition. The Nini project seems to be dead; I
</I>&gt;<i> wasn't able to contact anyone about patches. Cable Beach is currently
</I>&gt;<i> using the modified version of Nini in ExtensionLoader that fixes a
</I>&gt;<i> couple bugs (a problem with finalizers that was causing random
</I>&gt;<i> debugging problems with projects using Nini, and adding the ability
</I>&gt;<i> to read keys without values). If OpenSim wants to maintain their own
</I>&gt;<i> version of Nini that would also work.
</I>
I'm also in favor of switching the config format from the existing XML
to Cable Beach's INI. It's much easier to grok the INI file, and it
somehow feels wrong that all the config options in the XML file are
attributes on one XML node.

Thanks for the feedback so far, guys.
Mike

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004432.html">[Opensim-dev] Technical assessment of Cable Beach asset server
</A></li>
	<LI>Next message: <A HREF="004441.html">[Opensim-dev] Technical assessment of Cable Beach asset server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4440">[ date ]</a>
              <a href="thread.html#4440">[ thread ]</a>
              <a href="subject.html#4440">[ subject ]</a>
              <a href="author.html#4440">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
