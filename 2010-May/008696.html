<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] AssetLoader to selectively load assets based on	timestamps ?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20AssetLoader%20to%20selectively%20load%20assets%20based%20on%0A%09timestamps%20%3F&In-Reply-To=%3C1401818826.20100519142550%40adeptsql.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008703.html">
   <LINK REL="Next"  HREF="008704.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] AssetLoader to selectively load assets based on	timestamps ?</H1>
    <B>Alex Reatov</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20AssetLoader%20to%20selectively%20load%20assets%20based%20on%0A%09timestamps%20%3F&In-Reply-To=%3C1401818826.20100519142550%40adeptsql.com%3E"
       TITLE="[Opensim-dev] AssetLoader to selectively load assets based on	timestamps ?">info at adeptsql.com
       </A><BR>
    <I>Wed May 19 13:25:50 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008703.html">[Opensim-dev] Asset Cache Sourcecode?
</A></li>
        <LI>Next message: <A HREF="008704.html">[Opensim-dev] AssetLoader to selectively load assets based on timestamps ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8696">[ date ]</a>
              <a href="thread.html#8696">[ thread ]</a>
              <a href="subject.html#8696">[ subject ]</a>
              <a href="author.html#8696">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

The AssetLoader uploads all pre-defined assets to the database on each
startup, unless the feature is disabled in the config file. The
proposed change is to keep in the DB a dummy asset with a timestamp in
it, attempt to read that asset in AssetLoader, then load only those
XML files that have been modified since that date. The updated timestamp asset
is stored back after AssetLoader completes the loading. When the
timestamp asset is not present, AssetLoader would perform the full loading
as it does now.

This way we can avoid loading the entire asset library every time,
without actually disabling it. The feature can be controlled by either
adding another config parameter &quot;ForceAssetLoader=1&quot; (alongside with
DisableAssetLoading or whatever its called) or by replacing the
existing setting with something like AssetLoaderMode={none|full|auto}
(not implemented in the code below).

The modified code is available as branch &quot;asset-loader&quot; at my github fork:

  git at github.com:AlexRa/opensim-mods-Alex.git

It is NOT TESTED at the moment and I don't ask anybody to debug it for
me, but would like to hear opinions whether this feature would be
welcome and should I proceed with it.

A copy of this post is now also on the Mantis:

<A HREF="http://opensimulator.org/mantis/view.php?id=4694">http://opensimulator.org/mantis/view.php?id=4694</A>
  

Best regards,

AlexRa


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008703.html">[Opensim-dev] Asset Cache Sourcecode?
</A></li>
	<LI>Next message: <A HREF="008704.html">[Opensim-dev] AssetLoader to selectively load assets based on timestamps ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8696">[ date ]</a>
              <a href="thread.html#8696">[ thread ]</a>
              <a href="subject.html#8696">[ subject ]</a>
              <a href="author.html#8696">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
