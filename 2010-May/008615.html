<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Opensim-dev] Connections out of control
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/opensim-dev/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Connections%20out%20of%20control&In-Reply-To=%3C4BE1C720.3020301%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008614.html">
   <LINK REL="Next"  HREF="008616.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Opensim-dev] Connections out of control</H1>
    <B>Justin Clark-Casey</B> 
    <A HREF="mailto:opensim-dev%40lists.berlios.de?Subject=Re%3A%20%5BOpensim-dev%5D%20Connections%20out%20of%20control&In-Reply-To=%3C4BE1C720.3020301%40googlemail.com%3E"
       TITLE="[Opensim-dev] Connections out of control">jjustincc at googlemail.com
       </A><BR>
    <I>Wed May  5 21:29:36 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008614.html">[Opensim-dev] Connections out of control
</A></li>
        <LI>Next message: <A HREF="008616.html">[Opensim-dev] www.opensim.net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8615">[ date ]</a>
              <a href="thread.html#8615">[ thread ]</a>
              <a href="subject.html#8615">[ subject ]</a>
              <a href="author.html#8615">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Clive Gould wrote:
&gt;<i> Hi
</I>&gt;<i> 
</I>&gt;<i> We're still having problems with the number of tcp client connections
</I>&gt;<i> to our OpenSim 0.6.8 simulator from one particular remote client IP
</I>&gt;<i> address spiralling out of control. The student using the client tells
</I>&gt;<i> me that in-world access and functionality appears to be normal,
</I>&gt;<i> despite the spiralling connection count.
</I>&gt;<i> 
</I>&gt;<i> When this particular client logs in the connection count starts to
</I>&gt;<i> rise and the longer they are logged in the higher the count. The limit
</I>&gt;<i> appears to be around 984 connections at which point OpenSim runs out
</I>&gt;<i> of http sockets and crashes. If the client disconnects before the
</I>&gt;<i> simulator crashes the connections are not automatically closed and
</I>&gt;<i> remain in ESTABLISHED state seemingly indefinitely.
</I>&gt;<i> 
</I>&gt;<i> The simulator is running under CentOS 5 in standalone mode with 4
</I>&gt;<i> regions forming a megaregion.
</I>&gt;<i> 
</I>&gt;<i> I have asked the student concerned to try both Imprudence and Meerkat
</I>&gt;<i> clients from home and the problem is exactly the same. When the same
</I>&gt;<i> student logs in from a client in college the problem does not occur
</I>&gt;<i> and all is well. I have looked at the database and cannot see anything
</I>&gt;<i> unusual about the students account.
</I>&gt;<i> 
</I>&gt;<i> All other users have no problems accessing the simulator and client
</I>&gt;<i> connections (4 per IP = one for each of our 4 regions in the
</I>&gt;<i> megaregion) from these open and close normally as expected.
</I>&gt;<i> 
</I>&gt;<i> Any ideas anyone?
</I>
I recommend that you try 0.6.9.RC2 to see if the issue is still present there.  If it does, then please check with the current OpenSim master.

My guess is some kind of firewall related issue. 

Does this only occur for one particular user (the others being fine when accessing remotely?)

-- 
Justin Clark-Casey (justincc)
<A HREF="http://justincc.org">http://justincc.org</A>
<A HREF="http://twitter.com/justincc">http://twitter.com/justincc</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008614.html">[Opensim-dev] Connections out of control
</A></li>
	<LI>Next message: <A HREF="008616.html">[Opensim-dev] www.opensim.net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8615">[ date ]</a>
              <a href="thread.html#8615">[ thread ]</a>
              <a href="subject.html#8615">[ subject ]</a>
              <a href="author.html#8615">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/opensim-dev">More information about the Opensim-dev
mailing list</a><br>
</body></html>
